<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Roboteq Closed loop - NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../../favicon.svg">
                        <link rel="shortcut icon" href="../../../favicon.png">
                <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
                <link rel="stylesheet" href="../../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../../MdBook/MdbookFrontPage.html">Front page</a></li><li class="chapter-item expanded affix "><li class="part-title">Introduction</li><li class="chapter-item expanded "><a href="../../../Introduction/NavitrolUserInstructions/NavitrolUserInstructions-en.html"><strong aria-hidden="true">1.</strong> Navitrol user instructions</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Licensing/Licensing-en.html"><strong aria-hidden="true">2.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="../../../Introduction/OdometrySource/OdometrySource-en.html"><strong aria-hidden="true">3.</strong> Odometry source</a></li><li class="chapter-item expanded "><a href="../../../Introduction/InitialCalibrationGuide/InitialCalibrationGuide-en.html"><strong aria-hidden="true">4.</strong> Initial calibration guide</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ParameterReconfiguration/ParameterReconfiguration-en.html"><strong aria-hidden="true">5.</strong> Parameter reconfiguration</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Parameters/Parameters.html"><strong aria-hidden="true">6.</strong> Parameter listing</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Parameters/JsonConfigurationFile-en.html"><strong aria-hidden="true">7.</strong> JSON configuration file</a></li><li class="chapter-item expanded "><a href="../../../Introduction/TeachingInstructions/TeachingInstructions-en.html"><strong aria-hidden="true">8.</strong> Teaching instructions</a></li><li class="chapter-item expanded "><a href="../../../Introduction/FeatureMatrix/FeatureMatrix-en.html"><strong aria-hidden="true">9.</strong> Feature Matrix</a></li><li class="chapter-item expanded affix "><li class="part-title">Device interfaces</li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/SupportedDevices/SupportedDevices-en.html"><strong aria-hidden="true">10.</strong> Supported devices</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/GenericInterfacesHeading.html"><strong aria-hidden="true">11.</strong> Generic interfaces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/EthernetSupervisorInterface/EthernetSupervisorInterface-en.html"><strong aria-hidden="true">11.1.</strong> Ethernet Supervisor</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html"><strong aria-hidden="true">11.2.</strong> CAN communication</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/CanSupervisorInterface/CanSupervisorInterface-en.html"><strong aria-hidden="true">11.2.1.</strong> CAN Supervisor</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/EthercatCommunication/EthercatCommunication-en.html"><strong aria-hidden="true">11.3.</strong> EtherCAT Communication</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/Simove/SimoveInterface-en.html"><strong aria-hidden="true">11.4.</strong> SIMOVE</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MotorControllersHeading.html"><strong aria-hidden="true">12.</strong> Motor controllers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MotorControllersCommon/MotorControllersCommon-en.html"><strong aria-hidden="true">12.1.</strong> Motor controller common</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerSetupInstructions/SchwarzmuellerSetupInstructions-en.html"><strong aria-hidden="true">12.2.</strong> Schwarzmueller setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerParameterSetupInstructions/SchwarzmuellerParameterSetupInstructions-en.html"><strong aria-hidden="true">12.2.1.</strong> Schwarzmueller parameters</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerTroubleshooting/SchwarzmuellerTroubleshooting-en.html"><strong aria-hidden="true">12.2.2.</strong> Schwarzmueller troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Curtis/CurtisMotorController-en.html"><strong aria-hidden="true">12.3.</strong> Curtis</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Engel/EngelMotorController-en.html"><strong aria-hidden="true">12.4.</strong> Engel</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Kinco/KincoMotorController-en.html"><strong aria-hidden="true">12.5.</strong> Kinco</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Nanotec/NanotecMotorController-en.html"><strong aria-hidden="true">12.6.</strong> Nanotec</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Oriental/OrientalMotorController-en.html"><strong aria-hidden="true">12.7.</strong> Oriental</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Synapticon/SynapticonMotorController-en.html"><strong aria-hidden="true">12.8.</strong> Synapticon</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqOpenLoopControllerConfiguration-en.html"><strong aria-hidden="true">12.9.</strong> Roboteq Open loop</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqClosedLoopControllerConfiguration-en.html" class="active"><strong aria-hidden="true">12.10.</strong> Roboteq Closed loop</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MiControl/MiControlMotorController-en.html"><strong aria-hidden="true">12.11.</strong> MiControl</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerConfigurations/ScannerHeading.html"><strong aria-hidden="true">13.</strong> Laser scanners</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerConfigurations/ScannerConfigurations-en.html"><strong aria-hidden="true">13.1.</strong> Scanner configurations</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerCommunicationTroubleshoot/ScannerCommunicationTroubleshoot-en.html"><strong aria-hidden="true">13.2.</strong> Scanner communication troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/OpticalCodeReader/OpticalCodeReader.html"><strong aria-hidden="true">14.</strong> Optical code reader</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/Encoders/EncoderHeading.html"><strong aria-hidden="true">15.</strong> Encoders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/Encoders/EthercatEncoders/EthercatEncoders-en.html"><strong aria-hidden="true">15.1.</strong> EtherCAT encoders</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">User interfaces</li><li class="chapter-item expanded "><a href="../../../CustomerUis/NavitrolMonitor/NavitrolMonitor-en.html"><strong aria-hidden="true">16.</strong> Navitrol Monitor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../CustomerUis/NavitrolMonitor3rdPartyLicenses/NavitrolMonitor3rdPartyLicenses-en.html"><strong aria-hidden="true">16.1.</strong> Navitrol Monitor third party licenses</a></li></ol></li><li class="chapter-item expanded "><a href="../../../CustomerUis/WebInterface/WebInterface-en.html"><strong aria-hidden="true">17.</strong> Navitrol web interface</a></li><li class="chapter-item expanded "><a href="../../../CustomerUis/Parameter Tool/ParameterTool-en.html"><strong aria-hidden="true">18.</strong> Parameter Tool Beta</a></li><li class="chapter-item expanded affix "><li class="part-title">Localization</li><li class="chapter-item expanded "><a href="../../../Localization/PositionConfidence/PositionConfidence-en.html"><strong aria-hidden="true">19.</strong> Position confidence</a></li><li class="chapter-item expanded "><a href="../../../Localization/ScannerCalibration/ScannerCalibration-en.html"><strong aria-hidden="true">20.</strong> Scanner calibration</a></li><li class="chapter-item expanded "><a href="../../../Localization/EnvironmentGuidelines/EnvironmentGuidelines-en.html"><strong aria-hidden="true">21.</strong> Environment guidelines</a></li><li class="chapter-item expanded "><a href="../../../Localization/AutomaticOdometryCorrection/AutomaticOdometryCorrection-en.html"><strong aria-hidden="true">22.</strong> Automatic odometry correction</a></li><li class="chapter-item expanded "><a href="../../../Localization/ReflectorBasedPositionInitialization/ReflectorBasedPositionInitialization-en.html"><strong aria-hidden="true">23.</strong> Reflector based position initialization</a></li><li class="chapter-item expanded "><a href="../../../Localization/PrecisionPositioning/PrecisionPositioning-en.html"><strong aria-hidden="true">24.</strong> Precision positioning</a></li><li class="chapter-item expanded "><a href="../../../Localization/LocalizationScannerChangeOnTheFly/LocalizationScannerChangeOnTheFly-en.html"><strong aria-hidden="true">25.</strong> Changing scanner on the fly</a></li><li class="chapter-item expanded "><a href="../../../Localization/RampZones/RampZones-en.html"><strong aria-hidden="true">26.</strong> Ramp zones</a></li><li class="chapter-item expanded "><a href="../../../Localization/GpsPositioning/GpsPositioning-en.html"><strong aria-hidden="true">27.</strong> GPS Positioning</a></li><li class="chapter-item expanded "><a href="../../../Localization/ImuAndSensorFusion/ImuAndSensorFusion-en.html"><strong aria-hidden="true">28.</strong> IMU and sensor fusion</a></li><li class="chapter-item expanded "><a href="../../../Localization/ExternalLocalization/ExternalLocalization-en.html"><strong aria-hidden="true">29.</strong> External localization</a></li><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServer/DynamicMappingServer-en.html"><strong aria-hidden="true">30.</strong> Dynamic mapping server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServerAndClientCompatibility/DynamicMappingServerAndClientCompatibility-en.html"><strong aria-hidden="true">30.1.</strong> Dynamic mapping client/server compatibility</a></li><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServerHardwareRequirements/DynamicMappingServerHardwareRequirements.html"><strong aria-hidden="true">30.2.</strong> Dynamic mapping client/server hardware requirements</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Localization/WheelSlipping/WheelSlipping-en.html"><strong aria-hidden="true">31.</strong> Wheel slipping diagnostic</a></li><li class="chapter-item expanded "><a href="../../../Localization/3dPositioning/3dPositioning-en.html"><strong aria-hidden="true">32.</strong> 3D positioning</a></li><li class="chapter-item expanded affix "><li class="part-title">Position control</li><li class="chapter-item expanded "><a href="../../../PositionControl/StartOffsetSlowdown/StartOffsetSlowdown-en.html"><strong aria-hidden="true">33.</strong> Start offset slowdown</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/CoupledDriving/CoupledDrivingFeature-en.html"><strong aria-hidden="true">34.</strong> Coupled driving</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/MagneticLineFollowing/MagneticLineFollowing-en.html"><strong aria-hidden="true">35.</strong> Magnetic line following</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/TrailerTransport/TrailerTransport-en.html"><strong aria-hidden="true">36.</strong> Trailer transport</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/BarrierStop/BarrierStop-en.html"><strong aria-hidden="true">37.</strong> Barrier stop</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/DataMatrixDocking/DataMatrixDockingDMC-en.html"><strong aria-hidden="true">38.</strong> Data Matrix Code Docking V2</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/Docking/Docking-en.html"><strong aria-hidden="true">39.</strong> Docking</a></li><li class="chapter-item expanded affix "><li class="part-title">Drive control</li><li class="chapter-item expanded "><a href="../../../DriveControl/DrivingOptions/DrivingOptions-en.html"><strong aria-hidden="true">40.</strong> Driving options</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/Standalone/Standalone-en.html"><strong aria-hidden="true">41.</strong> Standalone</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/StopAndHold/StopAndHold-en.html"><strong aria-hidden="true">42.</strong> Stop-and-hold</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/VDA5050/VDA5050-en.html"><strong aria-hidden="true">43.</strong> VDA 5050</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../DriveControl/VDA5050/VDA5050FeatureMatrix-en.html"><strong aria-hidden="true">43.1.</strong> VDA 5050 Support status</a></li></ol></li><li class="chapter-item expanded "><a href="../../../DriveControl/ReturnToRoute/ReturnToRoute-en.html"><strong aria-hidden="true">44.</strong> Return to route</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ObstacleAvoidance/ObstacleAvoidance-en.html"><strong aria-hidden="true">45.</strong> Obstacle avoidance</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ObstacleAvoidanceV2/ObstacleAvoidanceV2-en.html"><strong aria-hidden="true">46.</strong> Obstacle avoidance V2</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ContainerDriving/ContainerDriving-en.html"><strong aria-hidden="true">47.</strong> Container driving</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/RecordAndPlay/RecordAndPlay-en.html"><strong aria-hidden="true">48.</strong> Record and Play</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/RouteFreeNavigation/RouteFreeNavigation-en.html"><strong aria-hidden="true">49.</strong> Route free navigation</a></li><li class="chapter-item expanded affix "><li class="part-title">Kinematics</li><li class="chapter-item expanded "><a href="../../../Kinematics/OmniSteerLimit/OmniSteerLimit-en.html"><strong aria-hidden="true">50.</strong> Omni steer limit</a></li><li class="chapter-item expanded "><a href="../../../Kinematics/OneDriveWheelOmni/OneDriveWheelOmni-en.html"><strong aria-hidden="true">51.</strong> Omni one drive wheel</a></li><li class="chapter-item expanded affix "><li class="part-title">Pickup and drop-off</li><li class="chapter-item expanded "><a href="../../../LoadHandling/ActuatorControl/ActuatorControl-en.html"><strong aria-hidden="true">52.</strong> Actuator control</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/ScannerLiftActuator/ScannerLiftActuator-en.html"><strong aria-hidden="true">53.</strong> Scanner lift actuator</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/Racking/Racking-en.html"><strong aria-hidden="true">54.</strong> Racking</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/BufferLanes/BufferLanes-en.html"><strong aria-hidden="true">55.</strong> Buffer lanes</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/StackLoading/StackLoading-en.html"><strong aria-hidden="true">56.</strong> Loading from a stack</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/BlockStacking/BlockStacking-en.html"><strong aria-hidden="true">57.</strong> Unloading to a stack</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/DistanceToTarget/DistanceToTarget-en.html"><strong aria-hidden="true">58.</strong> Distance to target estimation</a></li><li class="chapter-item expanded affix "><li class="part-title">Target and obstacle detection</li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/PalletDetection/PalletDetection-en.html"><strong aria-hidden="true">59.</strong> Pallet detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/3dTargetDetection/3dTargetDetection-en.html"><strong aria-hidden="true">60.</strong> 3D Target detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/PatternDetection/PatternDetection-en.html"><strong aria-hidden="true">61.</strong> Pattern detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/ObstacleDetection/ObstacleDetection-en.html"><strong aria-hidden="true">62.</strong> Obstacle detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/ExternalTargetDetection/ExternalTargetDetection-en.html"><strong aria-hidden="true">63.</strong> External target detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/TableDetection/TableDetection-en.html"><strong aria-hidden="true">64.</strong> Table detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/Wallmonitoring/Wallmonitoring-en.html"><strong aria-hidden="true">65.</strong> Wall monitoring</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/OccupancyCheck/OccupancyCheck-en.html"><strong aria-hidden="true">66.</strong> Occupancy check</a></li><li class="chapter-item expanded affix "><li class="part-title">Miscellaneous</li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ErrorDescriptions/ErrorDescriptions-en.html"><strong aria-hidden="true">67.</strong> Error descriptions</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Logging/Logging-en.html"><strong aria-hidden="true">68.</strong> Logging</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/LinuxImagesHeading.html"><strong aria-hidden="true">69.</strong> Linux image installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/CanDrivers/CanDrivers-en.html"><strong aria-hidden="true">69.1.</strong> CAN drivers</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/Clonezilla/ClonezillaInstallation-en.html"><strong aria-hidden="true">69.2.</strong> Clonezilla</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/DebianBuster/DebianBusterInstallation-en.html"><strong aria-hidden="true">69.3.</strong> Debian Buster</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/DebianBullseye/DebianBullseyeInstallation-en.html"><strong aria-hidden="true">69.4.</strong> Debian Bullseye</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ParameterZones/ParameterZones-en.html"><strong aria-hidden="true">70.</strong> Parameter zones</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Reflectors/Reflectors-en.html"><strong aria-hidden="true">71.</strong> Reflectors</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/SslCertificates/SslCertificates-en.html"><strong aria-hidden="true">72.</strong> SSL Certificate configuration</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/BatteryOvertemperatureActions/BatteryOvertemperatureActions.html"><strong aria-hidden="true">73.</strong> Battery overtemperature actions</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Charging/Charging-en.html"><strong aria-hidden="true">74.</strong> Charging and battery management</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/HardwareRequirements/HardwareRequirements-en.html"><strong aria-hidden="true">75.</strong> Hardware requirements</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="dark">Dark</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</h1>

                    <div class="right-buttons">
                                                <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="roboteq-closed-loop-motor-controller-configuration"><a class="header" href="#roboteq-closed-loop-motor-controller-configuration">Roboteq Closed Loop Motor Controller Configuration</a></h1>
<p>Updated 30.07.2024</p>
<hr />
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>Roboteq motor controllers are one of many motor controllers that Navitrol supports in AGVs. Roboteq offers different range of motor controllers that can be used for different uses via different interfaces. In this documentation, instructions are provided for configuring CANOpen closed loop motor controllers to be interfaced with Navitrol.</p>
<p>If a Roboteq motor controller is dual channel, then it can be used to control 2 motors. So, it means 1 Roboteq controller is needed for 1 steering + 1 driving motor or for 2 driving motors. For example, if there is an Omni AGV with 6 wheels, it would need 6 Roboteq controllers that can handle steering + driving of each of the 6 wheels.</p>
<p>It should be noted, that this document covers only closed loop control mode with Roboteq controllers.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<p>The Roboteq offers extensive support and documentation for getting started. All the Roboteq products have specific PC utility software that provides an interface to the user for configuring the Roboteq products.</p>
<p>All product specific datasheets, documentation and software can be downloaded from the Roboteq website. <a href="http://www.roboteq.com">www.roboteq.com</a></p>
<p>In this document no specific version of motor controller is mentioned since the process for interfacing with Navitrol is same for all the motor controllers.</p>
<ul>
<li>
<p>To configure the Roboteq motor controllers, Roborun, a Roboteq motor control utility software needs to be installed on Windows PC.</p>
</li>
<li>
<p>It is assumed that the user has completed all the necessary physical wiring of motor controllers to the driving or steering encoders of the AGV.</p>
</li>
<li>
<p>Use the USB cable to connect the computer with the Roboteq motor controller and start the Roborun utility software.</p>
</li>
<li>
<p>Start the 'Roborun+' app and it should appear as shown below.</p>
</li>
</ul>
<h3 id="uploadsave-profile"><a class="header" href="#uploadsave-profile">Upload/Save Profile</a></h3>
<p>A profile is basically a file that contains the values to different options and parameters in the configuration window. Make sure that the controller is connected, this can be verified by seeing the 'Connected' in the bottom right corner of the window and a green indicator.</p>
<p><img src="./media-en/Roborun_overview.png" alt="" /></p>
<blockquote>
<p>RoboRun overview.</p>
</blockquote>
<p>There are different tabs in Roboteq motor control utility.</p>
<ol>
<li>
<p>The <strong>Configuration</strong> tab defines the settings for Inputs and outputs.</p>
</li>
<li>
<p>The <strong>Run</strong> tab allows different options for debugging and testing the motor controllers.</p>
</li>
<li>
<p>The <strong>Load from Controller</strong> loads the profile if it already existing on the controller and then shows the values in Inputs/Outputs window.</p>
</li>
<li>
<p>If no such profile exists by default on the controller, then user can upload their own profile by using <strong>Load Profile from Disk</strong>. The profile files can either have an extension of <strong>*.cpr</strong> or <strong>*.xml</strong>.</p>
</li>
</ol>
<h3 id="inputoutputs-configuration"><a class="header" href="#inputoutputs-configuration">Input/Outputs Configuration</a></h3>
<p>In Inputs/Outputs not all the parameters need to be configured. The user should decide based on their choice of motor controllers what parameters they need to configure. Navitrol needs only few of the parameters to be configured and they are explained below:</p>
<ol>
<li>
<p><strong>Startup</strong>- Script Auto-Start should be set to Disabled as script is not used.</p>
</li>
<li>
<p><strong>Commands</strong>- In Commands section user need to set up the 'Watchdog' parameter. The watchdog is used for safety and will set the warning or errors after a certain time limit until they are resolved. The first command priority can be set to <strong>Serial</strong> and a second command priority can be set to <strong>Pulses</strong>; in case the first priority stops working.</p>
</li>
<li>
<p><strong>Spektrum RC</strong>: Navitrol does not use RC so this does not need to be configured.</p>
</li>
<li>
<p><strong>CAN</strong>- This needs to be configured as Roboteq motor controllers are connected using CAN bus and the values for the motor controller parameters should match the Navitrol parameters. For example, Bit rate should be same in both motor controller and Navitrol to allow communication to be carried out via CAN bus. </p>
<p>a) <strong>CAN Mode</strong>: CANOpen should be selected as the option</p>
<p>b) <strong>Bit Rate</strong>: CAN bitrate and should match with <strong>can_bitrate_k</strong> parameter.</p>
<p>c) <strong>Node ID</strong>: the Node ID of the Roboteq controller and should match with <strong>mot_ctrl_drive_can_nodeid_arr</strong></p>
<p>d) <strong>Listen Node ID</strong>: should be same as above.</p>
<p>e) <strong>Heartbeat (ms)</strong>: doesn't matter.</p>
<p>f) <strong>CHB Lost Action</strong>: Should be either Safety Stop or Emergency Stop.</p>
<p>g) <strong>MiniCAN Send Rate (ms)</strong>: Not used with CANOpen.</p>
<p>h) <strong>CANOpen TPDO Send Rate</strong>: Not needed. Navitrol will set these automatically.</p>
<p>i) <strong>CANOpen Transmission Type</strong>: Not needed. Navitrol will set these automatically.</p>
<p>j) <strong>CANOpen Autostart</strong>: Should be set to enabled.</p>
<p>k) <strong>DS402 FSA</strong>: Should be set to enabled. </p>
</li>
<li>
<p><strong>Encoder</strong>- This option also needs to be configured for the encoders of the motor controllers. Should be set to  <strong>Feedback</strong>. If the controller has two channels, the channels should be selected accordingly.</p>
<p><img src="./media-en/DualChannelEncoders.png" alt="" /></p>
<blockquote>
<p>Dual channel encoder setup.</p>
</blockquote>
</li>
<li>
<p><strong>Digital Inputs</strong>: Navitrol does not use any digital inputs but this can be set based on the use case the customer is using or if a customer has a requested a certain feature that requires this to be configured.</p>
</li>
<li>
<p><strong>Analog Inputs</strong>: Navitrol does not use any analog inputs.</p>
</li>
<li>
<p><strong>Pulse Inputs</strong>: Navitrol does not use any pulse inputs.</p>
</li>
<li>
<p><strong>Digital Outputs</strong>: The digital output should be set as high when <strong>Motor is on.</strong></p>
</li>
<li>
<p><strong>User-Defined Values</strong>: Navitrol does not require any values to be defined but user can set them if needed.</p>
</li>
</ol>
<h3 id="power-output-configuration"><a class="header" href="#power-output-configuration">Power Output Configuration</a></h3>
<p>The power output is to be configured by the user based on the choice of motor controllers. Since the value will vary depending on different models of the motors and motor controllers, the responsibility lies on the user to get all the instructions from Roboteq for configuring the Power output parameters.</p>
<p>At least the PID gains should be tuned and saved to the controller as Navitrol doesn't do it.</p>
<p><img src="./media-en/RoborunPid.png" alt="" /></p>
<blockquote>
<p>PID settings for Closed loop Speed.</p>
</blockquote>
<p>Once the Input/Outputs and Power Output parameters are configured they should be saved to the Controller.</p>
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<p>Note: For testing, set the DS402 FSA to <strong>Disabled</strong>, otherwise the controller assumes specific states to be set before it can run. Remember to set <strong>Enabled</strong> after testing.</p>
<p><img src="./media-en/402Enabled.png" alt="" /></p>
<blockquote>
<p>DS402 FSA setting.</p>
</blockquote>
<p>It is recommended to first test to spin the motor in open loop mode and then move to closed loop mode after it has been verified that the motor works with open loop. </p>
<p>Once the parameters are configured correctly or profile is loaded, they should be saved to the Controller. Then click the <strong>Run</strong> tab for testing the motor and motor controllers as seen in the picture below:</p>
<p><img src="./media-en/RoboRun_runTab.png" alt="" /></p>
<blockquote>
<p>Run tab main view.</p>
</blockquote>
<p>Based on the picture it can be seen that the motor controller is connected via Serial connection (Not CAN) as red indicator is visible on the top left corner before the 'Serial' and under 'Status'.</p>
<p>The 'RunScript' option should not have red light as the script should not be used.</p>
<p><img src="./media-en/RoboRun_command.png" alt="" /></p>
<blockquote>
<p>RoboRun sending RPM to the controller.</p>
</blockquote>
<p>Use the scroll bar highlighted in the picture above to move the motor by sending target rpm to the controller. Make sure <strong>ONLY</strong> one scroll bar is moved at a single time. The second scroll bar can be used to send commands to the second channel if that is in use.</p>
<p>When sending the rpm the motor should start rotating. This verifies that the connections and parameters are set correctly for the motors and Roboteq motor controllers.</p>
<p>The arrow icon on top of the CHART window is used to start recording the live data. The same button can be also used to stop the recording for analyzing the data.</p>
<p>Under 'Channel' on bottom right corner different values can be selected from a drop-down list and they will become visible and change as motor rotate.</p>
<p>Also test that the encoder value and rpm are being read from the motor controller. This can be checked by selecting the Counter 1 or Counter 2 option and Speed 1 RPM and Speed 2 RPM or Feedback 1 and Feedback 2 from the drop-down list. This again depends on the parameters set in the <strong>Configuration</strong> tab.</p>
<h2 id="object-dictionary-od-parameters"><a class="header" href="#object-dictionary-od-parameters">Object Dictionary (OD) parameters</a></h2>
<p>Navitrol configures a subset of motor controller's OD-parameters when Navitrol starts.
These configurations are sent as SDO-messages to the motor controllers. The OD-parameters that Navitrol configures can be seen on the table below.
The parameters for automatic SDO-configurations (for example, SDO message interval and SDO message response timeout) are presented on the <a href="../../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html">CAN communication</a> document.</p>
<p><strong>OD parameter table</strong></p>
<table><thead><tr><th>Name</th><th>Object index</th><th>Subindex</th><th>Data type</th><th>Value in hex</th><th>Description</th></tr></thead><tbody>
<tr><td>Estop and fault clearance</td><td>200Dh</td><td>0</td><td>Unsigned8</td><td>0</td><td>Clears estop and faults.</td></tr>
<tr><td>Consumer heartbeat time</td><td>1016h</td><td>1</td><td>Unsigned32</td><td>Based on parameters</td><td>Heartbeat time is configured if enabled by parameter <strong>can_heartbeat_producer_enable</strong>. <br>First two bytes are heartbeat time based on 3.5 * <strong>control_interval_us</strong> parameter and byte 3 is Navitrol's node id from <strong>navigation_software_node_id</strong> parameter.</td></tr>
</tbody></table>
<p>Note: Navitrol does not configure the PID values of the controller. It should be done using Roborun.</p>
<h2 id="navitrol-parameters"><a class="header" href="#navitrol-parameters">Navitrol Parameters</a></h2>
<p>There are different parameters related to Roboteq and they should be configured depending on what kinematic AGV is being used.</p>
<p><strong>Required parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody>
<tr><td>The indices of the following array parameters are: <br> <strong>Differential drive</strong>: <br> 0 = Left wheel <br> 1 = Right wheel <br> <strong>Mecanum</strong>: <br> 0 = Forward Left <br> 1 = Forward Right <br> 2 = Rear Left <br> 3 = Rear Right</td><td></td><td></td><td></td></tr>
<tr><td><strong>Drive Motor controllers</strong></td><td></td><td></td><td></td></tr>
<tr><td>mot_ctrl_drive_controller_type_arr[]</td><td>Int</td><td>0</td><td>5 = Roboteq single channel <br> 6 = Roboteq dual channel 1 <br> 7 = Roboteq dual channel 2</td></tr>
<tr><td>mot_ctrl_drive_can_nodeid_arr[]</td><td>Int</td><td>0</td><td>Motor controller CAN node id for drive motor. 0 = this parameter not used.</td></tr>
<tr><td>mot_ctrl_drive_inv_input_arr[]</td><td>Int</td><td>0</td><td>Invert drive motor controller input. 0 = no inversion, 1 = invert input</td></tr>
<tr><td>mot_ctrl_drive_inv_output_arr[]</td><td>Int</td><td>0</td><td>Invert drive motor controller output. 0 = no inversion, 1 = invert output</td></tr>
<tr><td><strong>Other required parameters</strong></td><td></td><td></td><td></td></tr>
<tr><td>can_heartbeat_producer_enable</td><td>Int</td><td>0</td><td>Enables Navigation software to be Heartbeat producer for primary CAN.</td></tr>
<tr><td>navigation_software_node_id</td><td>Int</td><td>0</td><td>Navigation Software CAN Node ID: 0 = not defined, 1-127 = valid node ID.</td></tr>
</tbody></table>
<p><strong>Optional parameters</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody>
<tr><td>mot_ctrl_reset_errors_timer</td><td>Int</td><td>500</td><td>After the defined time (ms) Navitrol tries to automatically reset motor control faults. Value 0 = fault reset disabled. When error is active on controller, Navitrol will start sending fault reset on the control word with this interval until the errors are reset.</td></tr>
</tbody></table>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="motor-does-not-spin-when-trying-to-give-rpm-using-roborun"><a class="header" href="#motor-does-not-spin-when-trying-to-give-rpm-using-roborun">Motor does not spin when trying to give RPM using RoboRun</a></h3>
<ul>
<li>Check that the DS402 FSA is set to <strong>Disabled</strong>. </li>
</ul>
<p><img src="./media-en/402Enabled.png" alt="" /></p>
<blockquote>
<p>DS402 FSA setting.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqOpenLoopControllerConfiguration-en.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../../AgvInterfaces/MotorControllers/MiControl/MiControlMotorController-en.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqOpenLoopControllerConfiguration-en.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../../AgvInterfaces/MotorControllers/MiControl/MiControlMotorController-en.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
