<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ethernet Supervisor - NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../../favicon.svg">
                        <link rel="shortcut icon" href="../../../favicon.png">
                <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
                <link rel="stylesheet" href="../../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../../MdBook/MdbookFrontPage.html">Front page</a></li><li class="chapter-item expanded affix "><li class="part-title">Introduction</li><li class="chapter-item expanded "><a href="../../../Introduction/NavitrolUserInstructions/NavitrolUserInstructions-en.html"><strong aria-hidden="true">1.</strong> Navitrol user instructions</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Licensing/Licensing-en.html"><strong aria-hidden="true">2.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="../../../Introduction/OdometrySource/OdometrySource-en.html"><strong aria-hidden="true">3.</strong> Odometry source</a></li><li class="chapter-item expanded "><a href="../../../Introduction/InitialCalibrationGuide/InitialCalibrationGuide-en.html"><strong aria-hidden="true">4.</strong> Initial calibration guide</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ParameterReconfiguration/ParameterReconfiguration-en.html"><strong aria-hidden="true">5.</strong> Parameter reconfiguration</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Parameters/Parameters.html"><strong aria-hidden="true">6.</strong> Parameter listing</a></li><li class="chapter-item expanded "><a href="../../../Introduction/Parameters/JsonConfigurationFile-en.html"><strong aria-hidden="true">7.</strong> JSON configuration file</a></li><li class="chapter-item expanded "><a href="../../../Introduction/TeachingInstructions/TeachingInstructions-en.html"><strong aria-hidden="true">8.</strong> Teaching instructions</a></li><li class="chapter-item expanded "><a href="../../../Introduction/FeatureMatrix/FeatureMatrix-en.html"><strong aria-hidden="true">9.</strong> Feature Matrix</a></li><li class="chapter-item expanded affix "><li class="part-title">Device interfaces</li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/SupportedDevices/SupportedDevices-en.html"><strong aria-hidden="true">10.</strong> Supported devices</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/GenericInterfacesHeading.html"><strong aria-hidden="true">11.</strong> Generic interfaces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/EthernetSupervisorInterface/EthernetSupervisorInterface-en.html" class="active"><strong aria-hidden="true">11.1.</strong> Ethernet Supervisor</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html"><strong aria-hidden="true">11.2.</strong> CAN communication</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/CanSupervisorInterface/CanSupervisorInterface-en.html"><strong aria-hidden="true">11.2.1.</strong> CAN Supervisor</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/EthercatCommunication/EthercatCommunication-en.html"><strong aria-hidden="true">11.3.</strong> EtherCAT Communication</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/GenericInterfaces/Simove/SimoveInterface-en.html"><strong aria-hidden="true">11.4.</strong> SIMOVE</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MotorControllersHeading.html"><strong aria-hidden="true">12.</strong> Motor controllers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MotorControllersCommon/MotorControllersCommon-en.html"><strong aria-hidden="true">12.1.</strong> Motor controller common</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerSetupInstructions/SchwarzmuellerSetupInstructions-en.html"><strong aria-hidden="true">12.2.</strong> Schwarzmueller setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerParameterSetupInstructions/SchwarzmuellerParameterSetupInstructions-en.html"><strong aria-hidden="true">12.2.1.</strong> Schwarzmueller parameters</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerTroubleshooting/SchwarzmuellerTroubleshooting-en.html"><strong aria-hidden="true">12.2.2.</strong> Schwarzmueller troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Curtis/CurtisMotorController-en.html"><strong aria-hidden="true">12.3.</strong> Curtis</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Engel/EngelMotorController-en.html"><strong aria-hidden="true">12.4.</strong> Engel</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Kinco/KincoMotorController-en.html"><strong aria-hidden="true">12.5.</strong> Kinco</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Nanotec/NanotecMotorController-en.html"><strong aria-hidden="true">12.6.</strong> Nanotec</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Oriental/OrientalMotorController-en.html"><strong aria-hidden="true">12.7.</strong> Oriental</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Synapticon/SynapticonMotorController-en.html"><strong aria-hidden="true">12.8.</strong> Synapticon</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqOpenLoopControllerConfiguration-en.html"><strong aria-hidden="true">12.9.</strong> Roboteq Open loop</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/Roboteq/RoboteqClosedLoopControllerConfiguration-en.html"><strong aria-hidden="true">12.10.</strong> Roboteq Closed loop</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/MotorControllers/MiControl/MiControlMotorController-en.html"><strong aria-hidden="true">12.11.</strong> MiControl</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerConfigurations/ScannerHeading.html"><strong aria-hidden="true">13.</strong> Laser scanners</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerConfigurations/ScannerConfigurations-en.html"><strong aria-hidden="true">13.1.</strong> Scanner configurations</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/ScannerCommunicationTroubleshoot/ScannerCommunicationTroubleshoot-en.html"><strong aria-hidden="true">13.2.</strong> Scanner communication troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/OpticalCodeReader/OpticalCodeReader.html"><strong aria-hidden="true">14.</strong> Optical code reader</a></li><li class="chapter-item expanded "><a href="../../../AgvInterfaces/Encoders/EncoderHeading.html"><strong aria-hidden="true">15.</strong> Encoders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../AgvInterfaces/Encoders/EthercatEncoders/EthercatEncoders-en.html"><strong aria-hidden="true">15.1.</strong> EtherCAT encoders</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">User interfaces</li><li class="chapter-item expanded "><a href="../../../CustomerUis/NavitrolMonitor/NavitrolMonitor-en.html"><strong aria-hidden="true">16.</strong> Navitrol Monitor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../CustomerUis/NavitrolMonitor3rdPartyLicenses/NavitrolMonitor3rdPartyLicenses-en.html"><strong aria-hidden="true">16.1.</strong> Navitrol Monitor third party licenses</a></li></ol></li><li class="chapter-item expanded "><a href="../../../CustomerUis/WebInterface/WebInterface-en.html"><strong aria-hidden="true">17.</strong> Navitrol web interface</a></li><li class="chapter-item expanded "><a href="../../../CustomerUis/Parameter Tool/ParameterTool-en.html"><strong aria-hidden="true">18.</strong> Parameter Tool Beta</a></li><li class="chapter-item expanded affix "><li class="part-title">Localization</li><li class="chapter-item expanded "><a href="../../../Localization/PositionConfidence/PositionConfidence-en.html"><strong aria-hidden="true">19.</strong> Position confidence</a></li><li class="chapter-item expanded "><a href="../../../Localization/ScannerCalibration/ScannerCalibration-en.html"><strong aria-hidden="true">20.</strong> Scanner calibration</a></li><li class="chapter-item expanded "><a href="../../../Localization/EnvironmentGuidelines/EnvironmentGuidelines-en.html"><strong aria-hidden="true">21.</strong> Environment guidelines</a></li><li class="chapter-item expanded "><a href="../../../Localization/AutomaticOdometryCorrection/AutomaticOdometryCorrection-en.html"><strong aria-hidden="true">22.</strong> Automatic odometry correction</a></li><li class="chapter-item expanded "><a href="../../../Localization/ReflectorBasedPositionInitialization/ReflectorBasedPositionInitialization-en.html"><strong aria-hidden="true">23.</strong> Reflector based position initialization</a></li><li class="chapter-item expanded "><a href="../../../Localization/PrecisionPositioning/PrecisionPositioning-en.html"><strong aria-hidden="true">24.</strong> Precision positioning</a></li><li class="chapter-item expanded "><a href="../../../Localization/LocalizationScannerChangeOnTheFly/LocalizationScannerChangeOnTheFly-en.html"><strong aria-hidden="true">25.</strong> Changing scanner on the fly</a></li><li class="chapter-item expanded "><a href="../../../Localization/RampZones/RampZones-en.html"><strong aria-hidden="true">26.</strong> Ramp zones</a></li><li class="chapter-item expanded "><a href="../../../Localization/GpsPositioning/GpsPositioning-en.html"><strong aria-hidden="true">27.</strong> GPS Positioning</a></li><li class="chapter-item expanded "><a href="../../../Localization/ImuAndSensorFusion/ImuAndSensorFusion-en.html"><strong aria-hidden="true">28.</strong> IMU and sensor fusion</a></li><li class="chapter-item expanded "><a href="../../../Localization/ExternalLocalization/ExternalLocalization-en.html"><strong aria-hidden="true">29.</strong> External localization</a></li><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServer/DynamicMappingServer-en.html"><strong aria-hidden="true">30.</strong> Dynamic mapping server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServerAndClientCompatibility/DynamicMappingServerAndClientCompatibility-en.html"><strong aria-hidden="true">30.1.</strong> Dynamic mapping client/server compatibility</a></li><li class="chapter-item expanded "><a href="../../../Localization/DynamicMapping/DynamicMappingServerHardwareRequirements/DynamicMappingServerHardwareRequirements.html"><strong aria-hidden="true">30.2.</strong> Dynamic mapping client/server hardware requirements</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Localization/WheelSlipping/WheelSlipping-en.html"><strong aria-hidden="true">31.</strong> Wheel slipping diagnostic</a></li><li class="chapter-item expanded "><a href="../../../Localization/3dPositioning/3dPositioning-en.html"><strong aria-hidden="true">32.</strong> 3D positioning</a></li><li class="chapter-item expanded affix "><li class="part-title">Position control</li><li class="chapter-item expanded "><a href="../../../PositionControl/StartOffsetSlowdown/StartOffsetSlowdown-en.html"><strong aria-hidden="true">33.</strong> Start offset slowdown</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/CoupledDriving/CoupledDrivingFeature-en.html"><strong aria-hidden="true">34.</strong> Coupled driving</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/MagneticLineFollowing/MagneticLineFollowing-en.html"><strong aria-hidden="true">35.</strong> Magnetic line following</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/TrailerTransport/TrailerTransport-en.html"><strong aria-hidden="true">36.</strong> Trailer transport</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/BarrierStop/BarrierStop-en.html"><strong aria-hidden="true">37.</strong> Barrier stop</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/DataMatrixDocking/DataMatrixDockingDMC-en.html"><strong aria-hidden="true">38.</strong> Data Matrix Code Docking V2</a></li><li class="chapter-item expanded "><a href="../../../PositionControl/Docking/Docking-en.html"><strong aria-hidden="true">39.</strong> Docking</a></li><li class="chapter-item expanded affix "><li class="part-title">Drive control</li><li class="chapter-item expanded "><a href="../../../DriveControl/DrivingOptions/DrivingOptions-en.html"><strong aria-hidden="true">40.</strong> Driving options</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/Standalone/Standalone-en.html"><strong aria-hidden="true">41.</strong> Standalone</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/StopAndHold/StopAndHold-en.html"><strong aria-hidden="true">42.</strong> Stop-and-hold</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/VDA5050/VDA5050-en.html"><strong aria-hidden="true">43.</strong> VDA 5050</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../DriveControl/VDA5050/VDA5050FeatureMatrix-en.html"><strong aria-hidden="true">43.1.</strong> VDA 5050 Support status</a></li></ol></li><li class="chapter-item expanded "><a href="../../../DriveControl/ReturnToRoute/ReturnToRoute-en.html"><strong aria-hidden="true">44.</strong> Return to route</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ObstacleAvoidance/ObstacleAvoidance-en.html"><strong aria-hidden="true">45.</strong> Obstacle avoidance</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ObstacleAvoidanceV2/ObstacleAvoidanceV2-en.html"><strong aria-hidden="true">46.</strong> Obstacle avoidance V2</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/ContainerDriving/ContainerDriving-en.html"><strong aria-hidden="true">47.</strong> Container driving</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/RecordAndPlay/RecordAndPlay-en.html"><strong aria-hidden="true">48.</strong> Record and Play</a></li><li class="chapter-item expanded "><a href="../../../DriveControl/RouteFreeNavigation/RouteFreeNavigation-en.html"><strong aria-hidden="true">49.</strong> Route free navigation</a></li><li class="chapter-item expanded affix "><li class="part-title">Kinematics</li><li class="chapter-item expanded "><a href="../../../Kinematics/OmniSteerLimit/OmniSteerLimit-en.html"><strong aria-hidden="true">50.</strong> Omni steer limit</a></li><li class="chapter-item expanded "><a href="../../../Kinematics/OneDriveWheelOmni/OneDriveWheelOmni-en.html"><strong aria-hidden="true">51.</strong> Omni one drive wheel</a></li><li class="chapter-item expanded affix "><li class="part-title">Pickup and drop-off</li><li class="chapter-item expanded "><a href="../../../LoadHandling/ActuatorControl/ActuatorControl-en.html"><strong aria-hidden="true">52.</strong> Actuator control</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/ScannerLiftActuator/ScannerLiftActuator-en.html"><strong aria-hidden="true">53.</strong> Scanner lift actuator</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/Racking/Racking-en.html"><strong aria-hidden="true">54.</strong> Racking</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/BufferLanes/BufferLanes-en.html"><strong aria-hidden="true">55.</strong> Buffer lanes</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/StackLoading/StackLoading-en.html"><strong aria-hidden="true">56.</strong> Loading from a stack</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/BlockStacking/BlockStacking-en.html"><strong aria-hidden="true">57.</strong> Unloading to a stack</a></li><li class="chapter-item expanded "><a href="../../../LoadHandling/DistanceToTarget/DistanceToTarget-en.html"><strong aria-hidden="true">58.</strong> Distance to target estimation</a></li><li class="chapter-item expanded affix "><li class="part-title">Target and obstacle detection</li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/PalletDetection/PalletDetection-en.html"><strong aria-hidden="true">59.</strong> Pallet detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/3dTargetDetection/3dTargetDetection-en.html"><strong aria-hidden="true">60.</strong> 3D Target detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/PatternDetection/PatternDetection-en.html"><strong aria-hidden="true">61.</strong> Pattern detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/ObstacleDetection/ObstacleDetection-en.html"><strong aria-hidden="true">62.</strong> Obstacle detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/ExternalTargetDetection/ExternalTargetDetection-en.html"><strong aria-hidden="true">63.</strong> External target detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/TableDetection/TableDetection-en.html"><strong aria-hidden="true">64.</strong> Table detection</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/Wallmonitoring/Wallmonitoring-en.html"><strong aria-hidden="true">65.</strong> Wall monitoring</a></li><li class="chapter-item expanded "><a href="../../../TargetAndObstacleDetection/OccupancyCheck/OccupancyCheck-en.html"><strong aria-hidden="true">66.</strong> Occupancy check</a></li><li class="chapter-item expanded affix "><li class="part-title">Miscellaneous</li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ErrorDescriptions/ErrorDescriptions-en.html"><strong aria-hidden="true">67.</strong> Error descriptions</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Logging/Logging-en.html"><strong aria-hidden="true">68.</strong> Logging</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/LinuxImagesHeading.html"><strong aria-hidden="true">69.</strong> Linux image installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/CanDrivers/CanDrivers-en.html"><strong aria-hidden="true">69.1.</strong> CAN drivers</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/Clonezilla/ClonezillaInstallation-en.html"><strong aria-hidden="true">69.2.</strong> Clonezilla</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/DebianBuster/DebianBusterInstallation-en.html"><strong aria-hidden="true">69.3.</strong> Debian Buster</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/LinuxImageInstallation/DebianBullseye/DebianBullseyeInstallation-en.html"><strong aria-hidden="true">69.4.</strong> Debian Bullseye</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/ParameterZones/ParameterZones-en.html"><strong aria-hidden="true">70.</strong> Parameter zones</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Reflectors/Reflectors-en.html"><strong aria-hidden="true">71.</strong> Reflectors</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/SslCertificates/SslCertificates-en.html"><strong aria-hidden="true">72.</strong> SSL Certificate configuration</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/BatteryOvertemperatureActions/BatteryOvertemperatureActions.html"><strong aria-hidden="true">73.</strong> Battery overtemperature actions</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/Charging/Charging-en.html"><strong aria-hidden="true">74.</strong> Charging and battery management</a></li><li class="chapter-item expanded "><a href="../../../Miscellaneous/HardwareRequirements/HardwareRequirements-en.html"><strong aria-hidden="true">75.</strong> Hardware requirements</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="dark">Dark</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</h1>

                    <div class="right-buttons">
                                                <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="communication-specification-between-navitrol-and-ethernet-supervisor"><a class="header" href="#communication-specification-between-navitrol-and-ethernet-supervisor">Communication specification between Navitrol and Ethernet supervisor</a></h1>
<p>Updated 13.08.2024</p>
<hr />
<h2 id="glossary"><a class="header" href="#glossary">Glossary</a></h2>
<table><thead><tr><th><strong>Term</strong></th><th><strong>Description</strong></th></tr></thead><tbody>
<tr><td>AGV supervisor</td><td>Software supervising/controlling the AGV. Typically running on a PLC (Programmable logic controller) located on an AGV. The term &quot;Supervisor&quot; in this document means same as the <em>AGV supervisor</em></td></tr>
<tr><td>AGV controller</td><td>In old documentation for positioning only systems this term has been used to mean same thing as <em>AGV supervisor</em></td></tr>
<tr><td>Auto mode</td><td>Automatic control mode in which Navitrol can control the AGV.</td></tr>
<tr><td>Auto state</td><td><em>Navitrol state</em> in which the AGV is performing a <em>drive order</em> - Navitrol is on <em>auto mode</em> and is currently fulfilling a given drive order.</td></tr>
<tr><td>Differential&amp;steer drive</td><td>Differential&amp;steer drive kinematic system has the two fixed wheels of differential drive AGV and the controlled steer wheel of a steer drive AGV. The benefit of differential&amp;steer drive compared to differential drive is that there is no need for unpredictable castor wheels.</td></tr>
<tr><td>Drive order</td><td>An order to drive AGV in <em>auto mode</em> from current position to a destination, typically to a symbolic point.  If the drive order is given to a <em>symbolic point</em> the AGV must be on the route, and on the <em>standby state</em>. In addition the given symbolic point must defined and reachable.  Can only be used with a standalone feature or Navithor.</td></tr>
<tr><td>Emergency stop</td><td>When emergency stop is triggered Navitrol will perform <em>fast stop</em> and by default change to <em>fast stop state</em>. The state change can be prevented by setting <strong>pc_fstop_on_estop</strong>-parameter to value 0 and Navitrol remains in the previous state instead.</td></tr>
<tr><td>Environment file</td><td>A file containing environment data used for localization.</td></tr>
<tr><td>Error</td><td>Navitrol error indicates that there is some issue in the system that prevents driving. When an error is triggered, the AGV will stop.</td></tr>
<tr><td>Fast stop</td><td>Navitrol will set the speed references instantly to zero without ramping the speed down. Manual and automatic driving using Navitrol is prevented.</td></tr>
<tr><td>Fast stop state</td><td><em>Navitrol state</em> in which driving the AGV is prevented, and brake activation reference will always be active - Navitrol is on <em>auto mode</em> and <em>fast stop</em> is active.</td></tr>
<tr><td>Floor</td><td>Positioning only systems support multiple floors (i.e. level), each having its own environment model. If only single floor is used, its floor index should be 0.</td></tr>
<tr><td>Load state</td><td><em>Navitrol state</em> in which the AGV is performing a load or unload - Navitrol is on <em>auto mode</em> and is loading or unloading a resource.</td></tr>
<tr><td>Manual mode</td><td>Navitrol control mode in which automatic driving using Navitrol is prevented. Manual mode is prioritized over auto mode. It will be active if any source activates it, even if some other would enable auto mode.</td></tr>
<tr><td>Measurement update message</td><td>Measurement update messages can be used to deliver odometry and control data to Navitrol in such cases where Supervisor controls the AGV based on the control references from the Navitrol. <br />When used, such message must be sent to periodically at constant intervals to Navitrol. The interval must be same as defined using <strong>control_interval_us</strong>-parameter. Recommended intervals are 30 +-10ms.  <br />It is important to make sure that the message is sent at constant interval in all situations even in situations where supervisor system is under high load, because if Navitrol does not receive odometry data it must stop in error. The interval is considered constant, if it does not exceed the defined interval by more than <strong>control_interval_error_ratio</strong>-parameter (by default 20%). <br />If any of the received data is invalid, Navitrol will not use the message and will keep the previous references. <strong>eth_ctrl_max_nbr_invalid_feedback</strong>-parameter defines how many invalid messages are allowed in a row before ERROR_Ethernet_FEEDBACK_INVALID will be set.  <br />Note: If a measurement update message is used, it must be sent always when Navitrol is running, even if the AGV is driven manually.</td></tr>
<tr><td>MES</td><td>MES (Manufactoring Execution System) can be used to control Navithor's behavior by for example, giving resource information and even direct production orders.</td></tr>
<tr><td>Message number</td><td>Identification number of the measurement message for matching the supervisor update messages and related Navitrol replies together. <br />This number can start from any number, and it must be increased by one for each message sent.  <br />When using <em>Measurement update messages</em> Navitrol will check that the received message number is increased by one from the previous message. If it has not, the message will be discarded. This feature can be disabled by setting <strong>eth_ctrl_msgnum_validate</strong>-parameter to value 0. <br />Navitrol will send the number received in an update message back in the reply message.</td></tr>
<tr><td>Navigation point</td><td>Navigation point is the point of the AGV that will follow the defined routes. For example, for an AGV having a single turning drive wheel and two fixed wheels, the navigation point would typically be at the center of the fixed axle.</td></tr>
<tr><td>Navithor</td><td>Navitec's fleet control system that can be used to control and schedule multiple AGVs that are running Navitrol.</td></tr>
<tr><td>Navithor Tools</td><td>Navitec software used to make environment from teach files and define routes and symbolic points.</td></tr>
<tr><td>Navitrol</td><td>Software correcting the position of the AGV (Automated guided vehicle). Typically running on an IPC (Industrial PC) on an AGV.</td></tr>
<tr><td>Navitrol state</td><td>Current state of Navitrol. Can be read from the &quot;default&quot;-section of &quot;Navitrol status&quot;-message (3102). It can also be seen from bottom bar of Navitrol monitor.</td></tr>
<tr><td>Navitrol monitor</td><td>Diagnostic and debugging Windows software for Navitrol. Can be used for example to give drive commands and observing the state of connected Navitrol.</td></tr>
<tr><td>Navitrol Standalone</td><td>Single machine system feature: Navitrol handles navigation, route planning and driving. Requires a license.</td></tr>
<tr><td>Parameter</td><td>Navitrol parameters can be changed to adjust the default behavior of Navitrol. They are located in params.txt file on the IPC running Navitrol. If parameters are added or modified, they must be reloaded to the system either with reload command from Navitrol Monitor or by restarting Navitrol.</td></tr>
<tr><td>Pause state</td><td><em>Navitrol state</em> in which drive order of the AGV is paused - Navitrol is on <em>auto mode</em> and has a paused <em>drive order</em>.</td></tr>
<tr><td>Position confidence</td><td>The position confidence value represents both the accuracy and the uncertainty of the reported position. Depending on the environment seen by the scanners and the map file used for positioning there may be several possibilities for the current position. <br />The accuracy refers to the actual confidence range of the best position, i.e. how large the area is where the machine almost certainly is if the selected position would be correct. <br />The uncertainty refers to the quality of the best positions compared to the seen environment and the other possible positions. <br />The accuracy refers to the actual confidence range of the best position, i.e. how large the area is where the machine almost certainly is if the selected position would be correct. <br />Typically higher position confidence results in higher position accuracy. In normal operation the confidence varies between 50 and 100 %.</td></tr>
<tr><td>Position control system</td><td>A system in which in addition to localization, Navitrol also controls the AGV by calculating the references for the wheels of the AGV. Typically uses either Navitrol Standalone or Navithor fleet control for automatic drive.</td></tr>
<tr><td>Positioning only system</td><td>A system in which Navitrol is only used for localization. Navitrol will provide the position of the AGV but does nothing else.</td></tr>
<tr><td>Reserved data field</td><td>If message data field says &quot;Reserved&quot; it means that the field is not currently used but might be in the future. Those fields must be included in messages and calculated to the message lengths.  <br />When sending reserved fields, the sent value should always be zero. In this way if the fields are later given meanings and taken into use the old behavior will not change. <br />For same reasons, when receiving reserved fields, supervisor should ignore the received value.</td></tr>
<tr><td>Segment file</td><td>A file containing all route and symbolic point data. Used for position control. Not required in positioning only systems.</td></tr>
<tr><td>Soft slow</td><td>Navitrol will limit the maximum speed references to the value of <strong>pc_soft_slow_wheel_speed</strong>-parameter. If the speed was higher than that value, it will be ramped down using on <strong>mot_ctrl_max_wheel_dec</strong>-parameter.</td></tr>
<tr><td>Soft stop</td><td>Navitrol will stop ramping the speed smoothly down using <strong>mot_ctrl_max_wheel_dec</strong>-parameter.  Manual and automatic driving using Navitrol is prevented.</td></tr>
<tr><td>Standby state</td><td><em>Navitrol state</em> in which the AGV is waiting for a drive order - Navitrol is on <em>auto mode</em> but does not have any active <em>drive order</em>s.</td></tr>
<tr><td>Supervisor controlled AGV</td><td>An AGV that uses the <em>measurement update messages</em> send odometry data and receive control references from Navitrol.</td></tr>
<tr><td>Symbolic point</td><td>A production location, such as stop, load, or unload point. These are defined in Navithor Tools and Navitrol reads them from a segment file. <br />Supervisor can request a list of defined symbolic points with message 3003.</td></tr>
<tr><td>Warning</td><td>Navitrol uses warning to inform the user that there is something non ordinary active in the system. Some of them can prevent driving with either <em>soft stop</em> or <em>hard stop</em>.</td></tr>
<tr><td>Web interface</td><td>An interface for joystick based manual control. It can be used by connecting with a phone or a browser to the IP address of the IPC Navitrol is running on.</td></tr>
<tr><td>Production request</td><td>Production request is a request that Navitrol can send to Navithor to ask to modify status of production. For example, to go to destination or clear active <em>production order</em> for the AGV.</td></tr>
<tr><td>Hold state</td><td><em>Navitrol state</em> in which the AGV is on hold waiting to be released for a new drive order - Navitrol is on <em>auto mode</em> but has entered hold-point and is waiting to be released to next destination.</td></tr>
<tr><td>Omnidirectional AGV</td><td>An AGV that can drive to any direction in relation to its frame. For example, AGVs using omni drive or mecanum kinematics are omnidirectional AGVs.</td></tr>
<tr><td>Production order</td><td>Navithor order for a single production task. It can contain information about the <em>drive order</em> and transported resources.</td></tr>
<tr><td>External fleet control</td><td>External fleet control is feature for directly controlling the AGV by giving drive trajectories to Navitrol. When external fleet control is used, an external source takes care of generating all routes and the <em>segment file</em> will not be used.</td></tr>
<tr><td>Map coordinate frame</td><td>The coordinate frame defined in Navithor tools. See coordinate frames chapter.</td></tr>
</tbody></table>
<hr />
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The Ethernet Supervisor interface is a general interface between the <em>Navitrol</em> navigation software and the <em>AGV supervisor</em>. The interface has been designed by Navitec systems and can be used to transfer data and commands between Navitrol and the supervisor. Navitrol runs on an IPC and supervisor runs typically on an PLC both physically aboard the AGV.</p>
<p>The interface can be used for example, to set speed limits, give drive orders and set the system time of the IPC.</p>
<h3 id="communication-protocol-versions"><a class="header" href="#communication-protocol-versions">Communication Protocol versions</a></h3>
<p><strong>This document describes fourth (4.) generation of the interface.</strong>
Older communication Protocol versions (1 - 3) are still supported by Navitrol but should not be used in new projects.</p>
<h3 id="physical-interface"><a class="header" href="#physical-interface">Physical interface</a></h3>
<p>Navitrol IPC and AGV supervisor hardware are connected using Ethernet interface. It is recommended to use Ethernet cable for connection stability, but using wireless connection is also possible.</p>
<h3 id="transportnetwork-protocol"><a class="header" href="#transportnetwork-protocol">Transport/network protocol</a></h3>
<p>TCP/IP protocol is used for communication.</p>
<p>The Navitrol computer can be configured as a TCP/IP server or a client using <strong>agv_server</strong>-parameter. By default, supervisor acts as the server (value 1) and Navitrol a client. Changing the parameter value to 0 will make supervisor the client and Navitrol the server. If Navitrol acts as a client, the <strong>agv_ip</strong>-parameter must be set to match the IP-address of the supervisor.</p>
<p>The default port used for communication is 5015 but it can be changed with <strong>agv_port</strong>-parameter.</p>
<p><strong>Important note:</strong> The TCP/IP protocol takes care of acknowledging messages and resending if needed. Periodic messages, such as status or position correction messages, should never be resent by the supervisor.</p>
<h3 id="endianness"><a class="header" href="#endianness">Endianness</a></h3>
<p>The interface supports both little-endian (the least significant bit first) and big-endian (the most significant bit first) formats.</p>
<p>By default, little endian is used. The endianness can be changed using <strong>agv_comms_swapbytes</strong>-parameter. Value 0 means little-endian and value 1 big-endian.</p>
<h3 id="supported-character-set-in-strings"><a class="header" href="#supported-character-set-in-strings">Supported character set in strings</a></h3>
<p>Navitrol supports 7-bit ASCII character set. Meaning all characters (filenames, descriptions etc..) that are sent to Ethernet supervisor interface needs to be 7-bit ASCII.</p>
<h3 id="coordinate-frames"><a class="header" href="#coordinate-frames">Coordinate frames</a></h3>
<p>Two cartesian coordinate frames are used in the messages - the map coordinate frame and the local machine coordinate frame as presented in Figure 1.</p>
<p>The map coordinate frame is defined by the project file created with <em>Navithor Tools</em>. The absolute XY-position is expressed using 32-bit single float metric values in all messages. In order to guarantee optimal accuracy, the origin in the map coordinate frame needs to be close enough to the working environment (preferably within the working environment).</p>
<p>The local machine coordinate origin is located at the <em>navigation point</em> of the machine.</p>
<p>All heading values are expressed using 32-bit single float values in radians. Heading values are expected to be in the range of +/-Pi (i.e. +/-180 degrees), Counterclockwise (CCW) being positive direction for heading change.</p>
<p><img src="./media-en/coordinate_system.png" alt="" /></p>
<blockquote>
<p>Figure 1: The local machine coordinate frame (green) and the map coordinate frame (red). The current machine position is Xcur, Ycur, Hcur. CCW is the positive direction for heading, Hcur being roughly +30 deg (i.e. 0.524 rad) in this case.</p>
</blockquote>
<hr />
<h2 id="implementation-guidelines"><a class="header" href="#implementation-guidelines">Implementation guidelines</a></h2>
<h3 id="mandatory-messages"><a class="header" href="#mandatory-messages">Mandatory messages</a></h3>
<p><ins>Not all messages specified in this document need to be implemented.</ins>
The few mandatory messages that must be implemented are listed below.</p>
<p>All other messages should be implemented on the need basis.</p>
<h4 id="position-control-system"><a class="header" href="#position-control-system">Position control system</a></h4>
<p>For a position control system to work following messages must be implemented. See message definitions for more information.</p>
<table><thead><tr><th><strong>Supervisor to Navitrol message</strong></th><th><strong>Navitrol to Supervisor response</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody>
<tr><td>3002 - Supervisor status</td><td>3102 - Navitrol status</td><td>Sent at least once (or whenever needed) by the Supervisor.</td></tr>
</tbody></table>
<p>For a <em>supervisor controlled AGV</em> in addition to messages required for position control system also one of the following messages must be implemented.</p>
<table><thead><tr><th><strong>Supervisor to Navitrol message</strong></th><th><strong>Navitrol to Supervisor response</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody>
<tr><td><em>Measurement update message</em> suitable for the kinematic type</td><td>Related response message</td><td>Required for the supervisor to provide odometry data and Navitrol to send control references</td></tr>
</tbody></table>
<h4 id="positioning-only-system"><a class="header" href="#positioning-only-system">Positioning only system</a></h4>
<p><strong>Get position correction messages</strong>
The Supervisor has two alternative methods of requesting position corrections. It can either send to Navitrol:</p>
<ol>
<li>Cumulative raw (non-corrected) odometry of the AGV in the machine coordinate frame using message &quot;Get position correction - cumulative&quot; (message ID 1014)</li>
<li>Speed of the AGV in the machine coordinate frame using message &quot;Get position correction - velocity&quot; (message ID 1015)</li>
</ol>
<p>Only one of these two methods should used in a system. The selection should be made based on which measurement is more accurate both relative to timestamp and measurement resolution.</p>
<p>For a positioning only system to work following messages must be implemented. See message definitions for more information.</p>
<table><thead><tr><th><strong>Supervisor to Navitrol message</strong></th><th><strong>Navitrol to Supervisor response</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody>
<tr><td>1001 - Initialize position</td><td>1101 - Position initialized</td><td>Sent at least once (and whenever needed) by the Supervisor to set the initial position of the AGV</td></tr>
<tr><td>1014 - Get position correction - cumulative <strong>or</strong><br /> 1015 - Get position correction - velocity</td><td>1114 - Position correction <strong>or</strong> <br />1115 - Position correction with precision positioning status</td><td>Either of these messages must be sent by the supervisor and Navitrol shall send response message defined by the <strong>report_pp_status</strong>-parameter.</td></tr>
</tbody></table>
<p><strong>Message sequence:</strong>
When the system is started, the Supervisor shall (see message specifications below for details)</p>
<ol>
<li>Start sending one of the two &quot;Get position correction&quot; messages periodically</li>
<li>Send the &quot;Initialize position&quot; message</li>
</ol>
<p>Note: If Navitrol fails to receive periodic &quot;Get position correction&quot; messages, it will assume that the communication link is broken and reinitialize the communication.</p>
<h3 id="timing-constraints"><a class="header" href="#timing-constraints">Timing constraints</a></h3>
<h4 id="navitrol-response-time"><a class="header" href="#navitrol-response-time">Navitrol response time</a></h4>
<p>The typical Navitrol response time for a request message received from the supervisor should not be more than a few milliseconds. However, there is a few exceptions, such as &quot;The position initialized&quot; and &quot;Log taken&quot; response messages, that are sent only after the triggered routine has finished which may take up to a few seconds. The message description will mention if the response message can have a delay.</p>
<h4 id="periodic-messages"><a class="header" href="#periodic-messages">Periodic messages</a></h4>
<p>The messages that are defined to be sent periodically by supervisor should be sent as constant intervals as possible. The periodic messages include messages such as 1014, 1015 and 3002.</p>
<p>Absolutely constant intervals are not really achievable, but the variation of all time related events should be kept to a minimum for optimal performance. The recommended variation is 3 ms or less.</p>
<hr />
<h2 id="feature-descriptions"><a class="header" href="#feature-descriptions">Feature descriptions</a></h2>
<h3 id="position-correction"><a class="header" href="#position-correction">Position correction</a></h3>
<p>Position correction feature is the Navitrol's feedback part on correcting the position of <em>positioning only system</em>. Navitrol provides position correction data with &quot;position correction&quot; messages (1114 , 1115) in response to &quot;Get position correction&quot; request from the supervisor (1014, 1015).</p>
<p><strong>Timing constraints</strong><br />
The Supervisor shall send the &quot;Get position correction&quot; message continuously using a fixed interval without exceptions. The sending interval should be a fixed value between 20...100 ms; an interval of 40 ms (25 Hz) is recommended. In the optimal case the sending interval shall however be synchronized to the dead-reckoning, so that the delay from the dead-reckoning calculation to sending the &quot;Get position correction&quot; message to Navitrol is also constant. This can be achieved by having the sending interval the same or a multiple of the dead-reckoning calculation interval. As an example in figure 2 below the interval for calculating the dead-reckoning is faster than that for sending the &quot;Get position correction&quot; messages, the latter being sent at half the rate of the dead-reckoning calculation. If the interval for calculating the dead-reckoning is for example 50 ms, then this is obviously also the optimal interval for sending the &quot;Get position correction&quot; messages to Navitrol.</p>
<p><img src="./media-en/synchronizing_position_correction.png" alt="" />
&gt;Figure 2: Synchronizing positioning correction between supervisor and Navitrol.  In the figure the Dead-reckoning is calculated every 20ms and Navitrol correction requested and calculated every 40ms, i.e. every other time.</p>
<p>It is important to understand that the &quot;Position correction&quot; message sent by Navitrol does not reflect the current position of the AGV at the time the message is received by the Supervisor. It is rather the corrected position of the AGV at the time the corresponding &quot;Get position correction&quot; message was sent (time Ta in figures 3 and 4).</p>
<p>The typical response time for the Navitrol &quot;Position correction&quot; is just a few milliseconds, but can be higher depending on how the communication has been implemented on the Supervisor side. In case of very short dead-reckoning intervals or delayed messages, it is possible that the Supervisor has updated a new dead-reckoning position prior to getting the Navitrol message (see figure 4). Therefore the corrected position sent by Navitrol should not be used as the new AGV position as it is. The difference between the corrected position and the position sent by the Supervisor at time Ta should be calculated and used instead.</p>
<p><strong>Correction sequence</strong><br />
The following sequence shall be followed by the Supervisor for position corrections:</p>
<ul>
<li>Timer expires at Ta
<ul>
<li>Read navigation sensor data</li>
<li>Calculate new dead-reckoning position</li>
<li>Send &quot;Get Position Correction&quot; message to Navitrol and store position and message number at that time for later reference.</li>
</ul>
</li>
<li>The Supervisor continues to calculate dead-reckoning, if the timer expires (like at Tb in figure 4) before receiving the corrected position from Navitrol.</li>
<li>When the corrected position from Navitrol is received
<ul>
<li>Check that the received message number matches with the latest &quot;Get Position Correction&quot; message sent by the Supervisor.</li>
<li>Calculate the difference between the corrected position and the position sent by the Supervisor at time Ta</li>
<li>Add this difference to the latest AGV position. This then results in the corrected AGV position.</li>
</ul>
</li>
</ul>
<p><img src="./media-en/position_correction_sequence_1.png" alt="" /></p>
<blockquote>
<p>Figure 3: Timing related to position correction; zoomed portion of figure 2.</p>
</blockquote>
<p><img src="./media-en/position_correction_sequence_2.png" alt="" /></p>
<blockquote>
<p>Figure 4: Timing related to position correction; zoomed portion of figure 2 in case of very fast dead-reckoning calculation or delayed messages.</p>
</blockquote>
<h3 id="supervisor-fleet-control"><a class="header" href="#supervisor-fleet-control">Supervisor fleet control</a></h3>
<p>Supervisor fleet control is a way of implementing <em>external fleet control</em>.</p>
<p>When using supervisor fleet control the supervisor is responsible of generating and sending all drive trajectories to Navitrol. It can be used as an alternative option to <em>Navithor</em> and <em>Standalone system</em>s.</p>
<p>The drive trajectories can be given with &quot;Start new external drive&quot; (3021) and &quot;Extend external drive&quot; (3022) messages. The 3021-message can be used to start a new drive and the 3022-message to extend an already started one.</p>
<p><strong>Specifications for drive orders and drive extensions:</strong></p>
<ul>
<li><strong>Only the first and the last point in each drive order can be a</strong> <strong>pivot point</strong>.
<ul>
<li>Having the last point as a pivot point, the first point of the next drive extension is assumed to have the pivot point as first point.</li>
<li>If the any point in the middle of trajectory has pivot point attribute Navitrol will reply with code 6: &quot;trajectory calculation failed&quot;.</li>
<li><strong>However, incorrect input in the extend drive message aborts the ongoing drive.</strong></li>
</ul>
</li>
<li><strong>A single trajectory may not contain</strong> <strong>drive direction changes</strong>.
<ul>
<li>If it has the AGV will lose position.</li>
<li>Direction changes should be handled by first sending a drive order to one direction and then a drive extension to another direction.</li>
</ul>
</li>
<li><strong>Distance between consecutive trajectory points - Consecutive trajectory points must be different</strong>.
<ul>
<li>If they are not the drive is aborted due an error and Navitrol will reply with response code 6: &quot;Trajectory calculation failed&quot;.</li>
<li>The distance is calculated from the given trajectory point xy-coordinates.</li>
<li>The recommended distance between consecutive trajectory points is 0.10m. (Min 0.001m and Max 0.20m).</li>
</ul>
</li>
<li><strong>Trajectory point attribute &quot;Omni heading&quot; can be used only with omnidirectional AGVs.</strong>
<ul>
<li>If it is sent to any other machine type the current drive is aborted and Navitrol will reply with response code 7: &quot;Invalid point attribute&quot;.</li>
</ul>
</li>
<li><strong>The amount of trajectory points sent in a single message must be at least 2 and at maximum 400</strong></li>
<li><strong>Total trajectory length requirements:</strong>
<ul>
<li>Minimum length is 0.004 meters - smaller values are allowed but they do not have any effect.</li>
<li>Maximum length is 79.8m - limited by the amount of trajectory points and the distance between them</li>
</ul>
</li>
</ul>
<p>If any of these specifications is violated the new drive will not start and if the violation was in extend external drive message an error will be raised, and current drive aborted. Navitrol will specify the found violation in the reply-messages 3121 and 3122.</p>
<h3 id="drive-order-with-offset"><a class="header" href="#drive-order-with-offset">Drive order with offset</a></h3>
<p>There are several messages (3012, 3013, 3031) that allow generating a drive order with offsets to the defined route. One might want to use these offsets for example, if there is no other way to calibrate individual AGVs to stop to the same point or some resource offset sensor is telling the exact place where the load should be performed.</p>
<p>By default, the AGV will drive the whole route with the given transversal offset and frame heading offset and stop with the longitudinal offset. Usually, it is recommended to first drive to a position near the destination with zero offsets and then with desired offsets to the destination point.</p>
<p>Heading and transversal offsets can be also applied only when closer than <strong>drive_offset_apply_dist</strong> to the drive order end point along the route.</p>
<table><thead><tr><th>Parameter</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>F, drive_offset_apply_dist</strong></td><td>-1.0</td><td>Distance (meters) from drive order end point before drive offsets will start to apply. Negative value enables offsets always</td></tr>
</tbody></table>
<p>Offset options explained:</p>
<ul>
<li><em>Transversal offset</em>
<ul>
<li>Will be applied for the length of the whole drive order - AGV will drive next to the defined route instead on it.</li>
<li>Positive value to the left of the route.</li>
<li>The absolute of a given value must be smaller than <strong>drive_offset_max_trans</strong>-parameter.</li>
<li>The drive offset apply mode can be determined with a parameter <strong>drive_offset_apply_mode</strong> 
<ul>
<li>0 - Negative speed flips transversal offset. 1 - Apply offsets as is given. Speed direction does not affect offsets</li>
</ul>
</li>
</ul>
</li>
<li><em>Longitudinal offset</em>
<ul>
<li>Calculated from the location of the destination point.</li>
<li>Positive value for driving past the end point.</li>
<li>The absolute of given value must be smaller than <strong>drive_offset_max_lon</strong>-parameter.</li>
</ul>
</li>
<li><em>Frame heading offset</em>
<ul>
<li>Will be applied to the route frame heading for the length of the whole drive order - AGV will drive the path its frame tilted by this amount.</li>
<li>Positive value counterclockwise</li>
<li>Applied only for <em>omnidirectional AGV</em>s.</li>
<li>The absolute of given value must be smaller than <strong>drive_offset_max_heading</strong>-parameter.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="common-messages"><a class="header" href="#common-messages">Common messages</a></h2>
<p>These messages can be used in all Navitrol systems.</p>
<h3 id="from-supervisor-to-navitrol"><a class="header" href="#from-supervisor-to-navitrol">From Supervisor to Navitrol</a></h3>
<h4 id="1001---initialize-position"><a class="header" href="#1001---initialize-position">1001 - Initialize position</a></h4>
<p>This message can used to initialize the position of the AGV to given coordinates and heading on the map. Position initialization means that a position (x, y, h) and a level ID are given to Navitrol, and Navitrol fine tunes that position so the taught environment and the received scanner measurements match together as well as possible. Initialized position is required for most Navitrol features to function.</p>
<p>When Navitrol receives this message:</p>
<ol>
<li>Navitrol immediately responds with &quot;Position initialization started&quot;-message (1100)</li>
<li>Navitrol tries to initialize the AGV to the given position on the map</li>
<li>Navitrol sends the position initialization result and information in &quot;Position initialized&quot;-message (1101) after couple of seconds  In addition to this message, there is manual and automatic options for position initialization. To initialize position the AGV must be stationary and not in <em>load state.</em></li>
</ol>
<p>Position initialization will fail until the environment has been taught, created and stored in the Navitrol computer.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.52</td><td>The type of the last field (i.e., <code>Level</code>) is changed from <code>Uint</code> to <code>Int</code>. <br> Additionally, multilevel is supported for all types of AGVs.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1001</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>24</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>X - map coordinate of the AGV in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Y - map coordinate of the AGV in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Heading of the AGV on the map in radians</td></tr>
<tr><td>Level</td><td>Int</td><td>4</td><td>The level ID on which the AGV is located</td></tr>
</tbody></table>
<hr />
<h4 id="1002---initialize-position-at-symbolic-point"><a class="header" href="#1002---initialize-position-at-symbolic-point">1002 - Initialize position at symbolic point</a></h4>
<p>This message can be sent instead of the &quot;Initialize position&quot;-message (1001) when the AGV is standing on a symbolic point. In this case the X,Y,H data of the position initialization ID of the symbolic point is used for the initialization.</p>
<p>When Navitrol receives this message:</p>
<ol>
<li>Navitrol tries to initialize the AGV to the given symbolic point on the map</li>
<li>If the given position initialization ID is valid Navitrol sends the position initialization result and information in &quot;Position initialized&quot;-message (1101). If the ID was not valid no response is given.</li>
</ol>
<p>Before the AGV can be initialized to a symbolic point, the symbolic point must have &quot;PositionInit&quot; enabled from &quot;Symbolic Point Settings&quot; using Navithor Tools. Tools then automatically generates unique position initialization IDs for each defined heading of the symbolic point. These IDs can be seen when &quot;Show position initialization IDs&quot;-option is selected from the &quot;View&quot;-menu.</p>
<p>To initialize position AGV must be stationary and not in <em>load state</em>.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1002</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Position initialization ID of the symbolic point</td><td>Int</td><td>4</td><td>The position initialization ID of the symbolic point to initialize position on. <br />Note: Position initialization ID of the symbolic point is not the same as the normal symbolic point ID.</td></tr>
</tbody></table>
<hr />
<h4 id="1004---startstop-teaching"><a class="header" href="#1004---startstop-teaching">1004 - Start/stop teaching</a></h4>
<p>This message can be used to control Navitrol's environment teaching feature. More information about the teaching feature can be found from the &quot;Navitrol teaching instructions&quot;-document.</p>
<table><thead><tr><th><strong>Response message</strong></th><th><strong>ID</strong></th></tr></thead><tbody>
<tr><td>Teaching started/stopped</td><td>1104</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1004</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Teach command</td><td>Uint</td><td>2</td><td>1 - <strong>Start teaching</strong> <br />Starts the teaching feature. When teaching is active only manual driving is possible. If this command is given when teaching is already active WARNING_TEACHING_ALREADY_ON will be triggered <br />2 - <strong>Stop teaching</strong> <br />Stops the teaching feature. The created teach file will be saved the &quot;teach&quot; folder on Navitrol IPC</td></tr>
</tbody></table>
<hr />
<h4 id="1005---request-error-description"><a class="header" href="#1005---request-error-description">1005 - Request error description</a></h4>
<p>This message can be sent to Navitrol to request an error description of given error code.</p>
<p>Navitrol will respond with the &quot;Error description message&quot;-message (1105) that contains the description for the requested error.</p>
<p>Note: Descriptions of all possible Navitrol errors and how to handle them can be found from &quot;Navitrol error descriptions&quot;-document.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1005</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Error code</td><td>Uint</td><td>4</td><td>Error code / ID. In the response message Navitrol will sent the description based on this.</td></tr>
</tbody></table>
<hr />
<h4 id="1006---request-error-description-list"><a class="header" href="#1006---request-error-description-list">1006 - Request error description list</a></h4>
<p>This message can be sent to Navitrol to request a list of codes and descriptions of all active errors and warnings.</p>
<p>By default, both warnings and errors are sent. However, with <strong>veh_inte_error_message_mode</strong>-parameter the behavior can be changed:</p>
<p>0 - Nothing will be sent</p>
<p>1 - Only errors are sent</p>
<p>2 - Both errors and warnings are sent</p>
<p>Navitrol will respond with the &quot;Error description message&quot; (1106) that will contain the error list.</p>
<p>Note: Descriptions of all possible Navitrol errors and how to handle them can be found from &quot;Navitrol error descriptions&quot;-document.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1006</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1007---save-log"><a class="header" href="#1007---save-log">1007 - Save log</a></h4>
<p>This message can be used to take and save a binary log file. The log file will be saved the &quot;logs&quot; folder on Navitrol IPC.</p>
<p>Navitrol will respond with the &quot;Log saved&quot;-message (1107). Either immediately, if log taking preconditions fail, or in normal case after saving the log has been completed. Note: taking a log can take up to 20 seconds. The response message will tell if log was successfully taken or not.</p>
<p>The minimum interval for log taking is 20 seconds. If this a new request is sent when less time has passed from the previous message, the request will be rejected.</p>
<p>Note: <strong>log_dump_external_max_files</strong>-parameter defines how many logs taken with this message are kept in the memory (by default 10). When this amount would be exceeded the oldest log file will be removed.</p>
<p>For more information about logging, see: &quot;Navitrol logging user guide&quot;-document</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
<tr><td>6.28.06</td><td>The timing of response message (1107) was changed. In earlier versions the response was sent before the log saving progress was completed.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1007</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1008---reload-environment-and-segment-data"><a class="header" href="#1008---reload-environment-and-segment-data">1008 - Reload environment and segment data</a></h4>
<p>This message can be used to reload the environment and segment data into Navitrol. One might want to do this, if the environment file &quot;env_&quot; or segment file &quot;seg_...&quot; file in &quot;/home/navitec/&quot;-folder has been modified or replaced.</p>
<p>Note: Positioning only systems reloads only environment file as there is no segment file.</p>
<p>Note: These files are automatically loaded when Navitrol starts and can be also reloaded using Navitrol Monitor or Navithor Tools. Navithor Server will also automatically update and reload these files if they don't match the files it has.</p>
<p>If <strong>veh_inte_env_read_rply_msg</strong>-parameter is set to value 1, Navitrol will respond with the &quot;Environment and segment data reload result&quot;-message (1108) when the reload is complete. This might take several seconds.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1008</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1009---reload-specific-environment-and-segment-data"><a class="header" href="#1009---reload-specific-environment-and-segment-data">1009 - Reload specific environment and segment data</a></h4>
<p>This message can be used to reload environment and segment data into Navitrol <strong>from specific files</strong>. This can be useful in cases such as</p>
<ul>
<li>Environment and/or segment file does not follow naming pattern of <code>env*.nte</code> or <code>seg_*.xml</code></li>
<li>Environment and/or segment file does not locate in Navitrol installation directory (usually <code>/home/navitec/</code>)</li>
<li>There exists more than one environment or segment file</li>
</ul>
<p>Navitrol will respond</p>
<ul>
<li>First with an acknowledgement message 1109, which informs the sender if the reload request has been accepted. The request might be discarded if e.g. the filename does not have a null-character</li>
<li>If the request was accepted, Navitrol will send (in few seconds) a result message 1110, including the information of successful or failed environment and/or segment file reload</li>
</ul>
<p>Please use only ASCII based file naming, as using other codecs (such as UTF-8) can cause issues. Note, that directory levels are differentiated with <strong>forward slash</strong> <code>/</code> (character 47).</p>
<p>Hints:</p>
<ul>
<li>If only <strong>null-character</strong> <code>\0</code> is given either for the environment or segment filename (or both), Navitrol will search and select automatically this filetype (similarly as during Navitrol start up)
<ul>
<li>Note: Null-character <code>\0</code> has a size of one character, not two characters</li>
</ul>
</li>
<li>Filenames can be given with or without the directory prefix. If directory is not included, Navitrol will search the given filename from the directory Navitrol is installed in (usually <code>/home/navitec/</code>)</li>
<li>For reloading multiple environment files at once, a star <code>*</code> character can be used as a part of the filename (e.g. <code>env*.nte</code>)
<ul>
<li>Note 1: Using <strong>only</strong> a star <code>*</code> as a filename to search all files (e.g. <code>/folder/*</code>) is not allowed</li>
<li>Note 2: Only one segment file can be loaded at once</li>
</ul>
</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.46.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1009</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12 +<br/>environment filename string length <strong>including null-character</strong> +<br/>segment filename string length <strong>including null-character</strong></td></tr>
<tr><td>Environment filename length (EFL)</td><td>Uint</td><td>2</td><td>Environment filename string length <strong>including null-character</strong> <code>\0</code> (min: 1, max: 256)</td></tr>
<tr><td>Segment filename length (SFL)</td><td>Uint</td><td>2</td><td>Segment filename string length <strong>including null-character</strong> <code>\0</code> (min: 1, max: 256)</td></tr>
<tr><td>Environment filename</td><td>Char[]</td><td>EFL</td><td>Name of the environment filename to load into Navitrol <strong>including null-character</strong> with or without directory prefix</br>Minimum length 1, maximum length 256</td></tr>
<tr><td>Segment filename</td><td>Char[]</td><td>SFL</td><td>Name of the segment filename to load into Navitrol <strong>including null-character</strong> without or without directory prefix</br>Minimum length 1, maximum length 256</td></tr>
</tbody></table>
<p>Example message:
| <strong>Cumulative bytes</strong>          | <strong>Value</strong> |
|---|---|
| 2  | 4    |
| 4  | 1009 |
| 8  | 54   |
| 10 | 13   |
| 12 | 29   |
| 25 | <code>test_map.nte\0</code> |
| 54 | <code>/home/navitec/test_route.xml\0</code> |</p>
<hr />
<h4 id="1011---request-version-info"><a class="header" href="#1011---request-version-info">1011 - Request version info</a></h4>
<p>This message can be used to request version information from Navitrol.</p>
<p>The version information will include software version and supervisor Protocol version.</p>
<p>Navitrol will respond with the &quot;Version info&quot;-message (1111).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1011</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1012---reboot-navitrol"><a class="header" href="#1012---reboot-navitrol">1012 - Reboot Navitrol</a></h4>
<p>This message can be used to reboot Navitrol software.</p>
<p>Navitrol will respond with the &quot;Reboot started&quot;-message (1112) and start the reboot.</p>
<p>Shutting down and restoring all processes might take up to 1 minute.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1012</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1013---set-time"><a class="header" href="#1013---set-time">1013 - Set time</a></h4>
<p>This message can be used to make Navitrol set the time of the IPC.</p>
<p>The given time is set to hardware real time clock and the system clock. The time should be given in local time zone.</p>
<p>Note: The IPC's time zone must be correct before this message will work as intended. To set the time zone, search for Linux guides on &quot;How to set the time zone in Linux&quot;.</p>
<p>Navitrol will respond with the &quot;Time set&quot;-message (1113).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1013</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>22</td></tr>
<tr><td>Year</td><td>Uint</td><td>4</td><td>Valid values [2000...]</td></tr>
<tr><td>Month</td><td>Uint</td><td>2</td><td>Valid values [1...12]</td></tr>
<tr><td>Date</td><td>Uint</td><td>2</td><td>Valid values [1...31]</td></tr>
<tr><td>Hour</td><td>Uint</td><td>2</td><td>Valid values [0...23]</td></tr>
<tr><td>Minute</td><td>Uint</td><td>2</td><td>Valid values [0...59]</td></tr>
<tr><td>Second</td><td>Uint</td><td>2</td><td>Valid values [0...59]</td></tr>
</tbody></table>
<hr />
<h4 id="1020---request-file-info"><a class="header" href="#1020---request-file-info">1020 - Request file info</a></h4>
<p>This message can be used to request the file information from Navitrol.</p>
<p>The file names can be used for example checking that the segment and environment files are up to date.</p>
<p>Navitrol will respond with the &quot;File info&quot;-message (1120).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1020</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1021---restart-can"><a class="header" href="#1021---restart-can">1021 - Restart CAN</a></h4>
<p>This message can be used to restart Navitrol's primary CAN communication.</p>
<p>Upon CAN restart Navitrol will change to preoperational state, clear CAN registers, and redefine SDOs. For example, if some other CAN device is rebooted Navitrol CAN communication might need to be also restarted, by either sending this message or restarting Navitrol.</p>
<p>Note: No restart will be done if the CAN communication was not active and configured when the message was received.</p>
<p>Navitrol will respond with &quot;CAN restart&quot;-message (1121) to confirm that the request was received.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1021</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1024---request-odometry-correction-data"><a class="header" href="#1024---request-odometry-correction-data">1024 - Request odometry correction data</a></h4>
<p>This message can be used to request odometry correction data from Navitrol.</p>
<p>The odometry correction data tells how well scanner data matches the odometry data. This message can be helpful when minimizing the odometry corrections during the calibration of an AGV.</p>
<p>Navitrol will respond with &quot;Odometry correction data response&quot;-message (1124).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1024</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1025---send-info-packages-to-navithor"><a class="header" href="#1025---send-info-packages-to-navithor">1025 - Send Info packages to Navithor</a></h4>
<p>This message can be used to send Info packages through Navitrol to Fleet Control</p>
<p>Supervisor can send Info packages to Navigation SW that are passed to Fleet Control Client for visualization. Info package description is of varying length and should always end with Null char ‘0’. This message is intended to be sent only when there is change to the active Info packages with minimum interval of 1 second (s).
The info packages are purely for information. AGV will not have any reaction to these.</p>
<p>Different info packages can be mapped to show static descriptions. These mappings are done based on the Info ID field. The static descriptions are written on Navithor to an override file. Please refer to Navithor documentation about <strong>Alarms configuration override</strong> for more detailed information.</p>
<p>Navitrol will respond with &quot;Info packages to Navithor response&quot;-message (1125).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1025</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10 + varying length (Info packages) <br />  Message length in bytes including all data fields (including Protocol Version and Message ID)</td></tr>
<tr><td>Number of active packages</td><td>Uint</td><td>2</td><td>Max 20 packages</td></tr>
<tr><td>Info Package</td><td>Info package[]</td><td>Varying length</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Info package struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Info ID</td><td>Uint</td><td>4</td><td>Unique info package ID:s passed to Navithor. Based on the ID, the static descriptions with the dynamic description part are shown. (See Navithor documentation)</td></tr>
<tr><td>Info Type</td><td>Uint</td><td>2</td><td>0 – Info  <br />1 – Warning  <br />2 – Error</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
<tr><td>Number of Chars in dynamic description</td><td>Uint</td><td>2</td><td>Max 256 chars</td></tr>
<tr><td>Dynamic description</td><td>Chars[]</td><td>Number of chars</td><td>Dynamic description part is shown on Navithor alarm view after the static description. In addition, the info packages are shown on the Navithor map view as an event.</td></tr>
</tbody></table>
<hr />
<h4 id="1032---start-recording"><a class="header" href="#1032---start-recording">1032 - Start recording</a></h4>
<p>Starts the recording (Record &amp; Play functionality) of route and environment.
Navitrol responds with 1132 - Recording state.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1032</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1033---abort-recording"><a class="header" href="#1033---abort-recording">1033 - Abort recording</a></h4>
<p>Aborts the recording (Record &amp; Play functionality) of route and environment. The environment or route are not saved, but the AGV switches to the &quot;play&quot; state. 
Navitrol responds with 1132 - Recording state.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1033</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1034---save-recording"><a class="header" href="#1034---save-recording">1034 - Save recording</a></h4>
<p>Saves the recorded (Record &amp; Play functionality) route and environment. The AGV switches to the &quot;play&quot; state where it can repeat the recorded route.
Navitrol responds with 1132 - Recording state.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1034</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>40</td></tr>
<tr><td>Area name</td><td>Char[]</td><td>32</td><td>The desired name for the area that was recorded</td></tr>
</tbody></table>
<hr />
<h4 id="1035---select-parameter-set"><a class="header" href="#1035---select-parameter-set">1035 - Select parameter set</a></h4>
<p>Selects the active parameter set on the AGV using the same index and filenames as <a href="../../../Miscellaneous/ParameterZones/ParameterZones-en.html">Parameter Zones</a> feature. 
<strong>Important note:</strong> Before taking this feature into use contact Navitec support to discuss what you are planning to do. This is required because changing some parameters at runtime might cause unwanted side effects and some might not do anything as they are only updated at Navitrol startup.
Navitrol responds with 1135 </p>
<ul>
<li>When this feature is used to select a parameter set that is not the default (-1), it disables the Parameter Zones (taking precedence over it).</li>
<li>When the defaut set is selected, Parameter Zones may change the active parameter set</li>
<li>If a parameter set is selected that doesn't have an associated parameter file, the default parameters will be activated.</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.50</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1035</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Parameter set</td><td>Int</td><td>4</td><td>The index of the desired parameter set (0 to 3) or -1 to enable the default parameters</td></tr>
<tr><td>Reserved bytes</td><td>Uint</td><td>4</td><td>0, for future extensions</td></tr>
</tbody></table>
<hr />
<h4 id="3009---request-active-errors"><a class="header" href="#3009---request-active-errors">3009 - Request active errors</a></h4>
<p>This message can be used to request a list of error codes of all errors and warnings that are currently active on Navitrol.</p>
<p>Navitrol will respond with &quot;Error&quot;-message (201).</p>
<p>Note: messages 1005 and 1006 can also be used to request information about errors.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3009</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3025---initialize-position-using-reflectors"><a class="header" href="#3025---initialize-position-using-reflectors">3025 - Initialize position using reflectors</a></h4>
<p>This message can be used to request reflector-based position initialization from Navitrol. Reflector-based position initialization is a Navitrol feature that tries to initialize position based on the currently detected reflectors.</p>
<p>To initialize position AGV must be stationary and not performing load. Additionally, the message is ignored if position is already initialized.</p>
<p>Navitrol will respond with &quot;Position initialized&quot;-message (1101) when the position initialization has been completed. This can take several seconds.</p>
<p>Note: Before using this message see &quot;Navitrol Reflector based initialization&quot;-document on requirements and setup instructions.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3025</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3039---control-localization-scanners"><a class="header" href="#3039---control-localization-scanners">3039 - Control localization scanners</a></h4>
<p>This message can be used to enable and disable localization scanners while Navitrol is running or to ask the current state of the scanners. By default, all scanners configured to the system in params.txt are enabled.</p>
<p>Navitrol will respond with &quot;Localisation scanner status&quot;-message (3139).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3039</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>20</td></tr>
<tr><td>Requested action</td><td>Uint</td><td>2</td><td>0 - <strong>Request status</strong> <br />Do not control scanners. Request only current status.<br /> 1 - <strong>Control scanners</strong> <br />Control scanners according to the &quot;Enable / disable scanners&quot;-data field.</td></tr>
<tr><td>Control scanners</td><td>Bitfield</td><td>2</td><td>Disable / enabled scanners. This field is ignored if &quot;Control scanners&quot;-option was not selected in &quot;Requested action&quot;-data field.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Control scanners bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Rear scanner</td><td>0</td><td>0 - disable. 1 - Enable.</td></tr>
<tr><td>Front scanner</td><td>1</td><td>0 - disable. 1 - Enable.</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3040---reset-fatal-errors"><a class="header" href="#3040---reset-fatal-errors">3040 - Reset fatal errors</a></h4>
<p>This message can be used to reset all fatal errors that are currently active. Fatal errors are set when Navitrol faces an issue it cannot automatically recover from. Before resetting such error, user should solve the issue that triggered the error.</p>
<p>Optionally fatal errors can be reset using Navitrol Monitor or Navithor client.</p>
<p>Navitrol will respond with &quot;Fatal errors reset&quot;-message (3140).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.01</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3040</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3045---request-travel-distance"><a class="header" href="#3045---request-travel-distance">3045 - Request travel distance</a></h4>
<p>This message can be used to request travel distance information form Navitrol. The travel distance information includes total travel distance since last reset (see message 3047) and the travel distance since Navitrol was last started. The travel distance is calculated cumulatively based on the odometry information.</p>
<p>If there is a need for resetting the travelled distance, &quot;Travel distance Reset&quot; (Message ID 3047) should be used.</p>
<p>Navitrol will respond with &quot;Travel distance&quot;-message (3145).</p>
<p>Message can be used, for instance, for visualization of the distance that AGV has covered. Alternatively, can be used for defining maintenance intervals.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3045</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3047---travel-distance-reset"><a class="header" href="#3047---travel-distance-reset">3047 - Travel distance reset</a></h4>
<p>The AGV supervisor can send this message to reset travelled distance.
Navitrol will respond with &quot;Travel distance&quot;-message (3145).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3047</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>18</td></tr>
<tr><td>Binary outputs</td><td>Bitfield</td><td>2</td><td>See bit definitions below</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary output bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Reset from startup</td><td>0</td><td>Reset travelled distance from Navitrol start</td></tr>
<tr><td>Reset total</td><td>1</td><td>Reset total travelled distance</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3049---obstacle-detection-set-detection-area"><a class="header" href="#3049---obstacle-detection-set-detection-area">3049 - Obstacle detection set detection area</a></h4>
<p>With this message the AGV supervisor can set the radius and angles for which the obstacle detection will be performed.</p>
<p>Navitrol will respond with message 3149.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.36.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3049</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>20</td></tr>
<tr><td>Radius</td><td>Float</td><td>4</td><td>Radius of obstacle detection circle.</td></tr>
<tr><td>Start angle</td><td>Float</td><td>4</td><td>First angle in AGV coordinate frame that obstacles should be detected. In degrees.</td></tr>
<tr><td>End angle</td><td>Float</td><td>4</td><td>Last angle in AGV coordinate frame that obstacles should be detected. In degrees.</td></tr>
</tbody></table>
<hr />
<h3 id="from-navitrol-to-supervisor"><a class="header" href="#from-navitrol-to-supervisor">From Navitrol to Supervisor</a></h3>
<h4 id="201---error"><a class="header" href="#201---error">201 - Error</a></h4>
<p>This message contains the error codes of all errors currently active in Navitrol.</p>
<p>With default parameters this message is sent as the reply to &quot;Request active errors&quot;-message (3009).</p>
<p>Sending of this message every time when active errors and warnings are changed can be enabled by setting <strong>veh_inte_error_message_send_only_on_request</strong>-parameter to value 0.</p>
<p>Sending this message periodically with a constant interval can be enabled by changing the value of <strong>veh_inte_heartbeat_interval</strong>-parameter from 0 to the desired interval (in milliseconds).</p>
<p>Information on how to handle errors can be found from &quot;Navitrol error descriptions&quot;-document.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>201</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12 + Error count * 4</td></tr>
<tr><td>Error count</td><td>Uint</td><td>4</td><td>The number of active errors.  Defines how many error codes will be sent.</td></tr>
<tr><td>Error codes</td><td>Uint[]</td><td>4 * Error count</td><td>Error codes of active errors</td></tr>
</tbody></table>
<hr />
<h4 id="202--errors-with-level"><a class="header" href="#202--errors-with-level">202 – Errors with level</a></h4>
<p>This message contains the error and warning codes of all errors currently active in Navitrol and the level of those errors. It can be used as an option to the message basic error message 201.</p>
<p><strong>veh_inte_error_message_type</strong>-parameter can be set to value 1 to use this message instead of the message 201.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>202</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>18 + Error count * 10</td></tr>
<tr><td>Level of highest error</td><td>Uint</td><td>2</td><td>The highest level of all active errors and warnings.<br />0 – None  <br />1 – Warning <br />2 – Error  <br />3 – Fatal error</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
<tr><td>Error count</td><td>Uint</td><td>4</td><td>The number of active errors (and warnings). <br />Defines how many “Error”-arrays will be sent.</td></tr>
<tr><td>Error</td><td>Error[]</td><td>10 * Error count</td><td>Error array containing information about all active errors and warnings.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Error struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error code</td><td>Uint</td><td>4</td><td>Error code of the error or warning</td></tr>
<tr><td>Error level</td><td>Uint</td><td>2</td><td>The level of the error or warning.<br />0 – None  <br />1 – Warning  <br />2 – Error  <br />3 – Fatal error</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1100---position-initialization-started"><a class="header" href="#1100---position-initialization-started">1100 - Position initialization started</a></h4>
<p>Navitrol sends this message as an immediate reply to the &quot;Initialize position&quot;-message (1001) to indicate that the request was received.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1100</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1101---position-initialized"><a class="header" href="#1101---position-initialized">1101 - Position initialized</a></h4>
<p>Navitrol sends this message to deliver the results of position initialization request from the supervisor (messages 1001, 1002 and 3025).</p>
<p>The results include information about if the initialization was successful and the initialized position (x, y, h). If position initialization failed the xyh-information should not be trusted.</p>
<p>Note: It will take several seconds from receiving the position initialization request to position initialization being ready and this message being sent.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1101</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>28</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>X-map coordinate of the new position in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Y-map coordinate of the new position in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Heading of the new position on the map in radians</td></tr>
<tr><td>Floor</td><td>Uint</td><td>4</td><td>The floor of the new position</td></tr>
<tr><td>Initialization result</td><td>Uint</td><td>2</td><td>0 - <strong>Failure</strong> <br />The position initialization can fail for example if  <br />- A good position is not found within <strong>pos_ini_max_d</strong>..-parameters from the given pos init point <br />- A good position is not found within value of <strong>pos_init_max_wait_time</strong>-parameter <br />- The AGV is not stationary state, it is performing load or there are scanner related errors active. <br />1 - <strong>Success</strong> <br />A good position was found near the given position initialization point and position was successfully initialized.</td></tr>
<tr><td>Position confidence</td><td>Uint</td><td>2</td><td>Position confidence percentage (1 - 100%) <br />Describes how well the laser measurements in the new position matches the seen environment.</td></tr>
</tbody></table>
<hr />
<h4 id="1104---teaching-startedstopped"><a class="header" href="#1104---teaching-startedstopped">1104 - Teaching started/stopped</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Start/stop teaching&quot;-message (1004).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1104</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Received command</td><td>Uint</td><td>2</td><td>0 - <strong>Invalid command</strong> <br />An unrecognized command was received in the message 1004. Nothing will be done. <br />1 - <strong>Starting teaching</strong> <br />Start teaching command was received. Teaching started will be started if it was not already active. <br />2 - <strong>Stopping teaching</strong> <br />Stop teaching command was received. Teaching will be stopped and teach file saved to the IPC.</td></tr>
</tbody></table>
<hr />
<h4 id="1105---error-description"><a class="header" href="#1105---error-description">1105 - Error description</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Request error description&quot;-message (1005). The message contains the requested error code and its description.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1105</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>212</td></tr>
<tr><td>Error code</td><td>Uint</td><td>4</td><td>The error code received in message 1005</td></tr>
<tr><td>Error description</td><td>Char[]</td><td>200</td><td>The description for the error code as NULL-terminated table of Chars. <br />If the given error code is unrecognized, &quot;not defined&quot; will be given as the description.</td></tr>
</tbody></table>
<hr />
<h4 id="1106---error-description-list"><a class="header" href="#1106---error-description-list">1106 - Error description list</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Request error description list&quot;-message (1006). The message contains error codes and error descriptions of all active errors.</p>
<p>Note: The table of error codes is sent first and the table of error descriptions second. The error code of index x will match the description of the same index.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1106</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12 + Error count * 204</td></tr>
<tr><td>Error count</td><td>Uint</td><td>4</td><td>The number of active errors.  <br />Defines how many error codes and descriptions will be sent.</td></tr>
<tr><td>Error codes</td><td>Uint[]</td><td>4 * Error count</td><td>Error codes of active errors</td></tr>
<tr><td>Error descriptions</td><td>Char[][]</td><td>200 * Error count</td><td>The description for the error code as NULL-terminated table of Chars.</td></tr>
</tbody></table>
<hr />
<h4 id="1107---log-saved"><a class="header" href="#1107---log-saved">1107 - Log saved</a></h4>
<p>Navitrol sends this message after taking a log triggered by the &quot;Save log&quot;-message (1007) has been completed. The message tells if taking the log was successful or not.</p>
<p>Note: It can take up to 20 seconds from receiving the request to sending this result message.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
<tr><td>6.28.06</td><td>The of this message was changed. In earlier versions the response was sent before the log saving progress was completed.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1107</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Log result</td><td>Uint</td><td>4</td><td>0 - <strong>Failure</strong> <br />Log taking will fail, if there has been less than 20 second from the last save log request <br />1... - <strong>Success</strong> <br />The number of saved log file</td></tr>
</tbody></table>
<hr />
<h4 id="1108---environment-and-segment-data-reload-result"><a class="header" href="#1108---environment-and-segment-data-reload-result">1108 - Environment and segment data reload result</a></h4>
<p>By default, Navitrol sends this message every time environment and segment data are (re)loaded. This data will be loaded at Navitrol start and reloaded when requested by sending &quot;Reload environment and segment data&quot;-message (1008) or by using Navitrol Monitor.</p>
<p>The message can be disabled by setting <strong>veh_inte_env_read_rply_msg</strong>-parameter to value 0.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1108</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Reload result</td><td>Uint</td><td>2</td><td>0 - <strong>Failure</strong> <br />Reloading environment and/or segment data failed. Either all required files were not found, or they were corrupted. Navitrol log will contain more information. <br />1 - <strong>Success</strong> <br />Environment and segment data was successfully loaded and taken into use.</td></tr>
</tbody></table>
<hr />
<h4 id="1109---specific-environment-and-segment-data-reload-acknowledgement"><a class="header" href="#1109---specific-environment-and-segment-data-reload-acknowledgement">1109 - Specific environment and segment data reload acknowledgement</a></h4>
<p>Navitrol will send this message as a <strong>first</strong> reply to the &quot;1009 - Reload specific environment and segment file response&quot; message. With this message, Navitrol informs the sender if the request message 1009 is valid. Rejection might happen e.g. due to a missing null-terminaton <code>\0</code> in the filename.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.46.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1109</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Request accepted</td><td>Uint</td><td>2</td><td>0 - <strong>Accepted</strong><br/>1 - <strong>Rejected</strong></td></tr>
</tbody></table>
<hr />
<h4 id="1110---specific-environment-and-segment-data-reload-result"><a class="header" href="#1110---specific-environment-and-segment-data-reload-result">1110 - Specific environment and segment data reload result</a></h4>
<p>Navitrol will send this message as a <strong>second</strong> reply to the &quot;1009 - Reload specific environment and segment file response&quot; message <strong>only if the request was accepted</strong> (see message 1109). With this message, Navitrol informs the sender if reloading the environment and/or segment data from specifc files succeeded or failed. Reloading might fail e.g. due to a non-existing filename in given directory.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.46.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1110</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Environment reload result</td><td>Uint</td><td>2</td><td>0 - <strong>Success</strong><br/>Environment data was successfully loaded and taken into use.</br>1 - <strong>Failure</strong><br/>Reloading specific environment file failed.</td></tr>
<tr><td>Segment reload result</td><td>Uint</td><td>2</td><td>0 - <strong>Success</strong><br/>Segment data was successfully loaded and taken into use.</br>1 - <strong>Failure</strong><br/>Reloading specific segment file failed.</td></tr>
</tbody></table>
<hr />
<h4 id="1111---version-info"><a class="header" href="#1111---version-info">1111 - Version info</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Request version info&quot;-message (1111). The message contains version number of Navitrol software and the supervisor communication Protocol version.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1111</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16</td></tr>
<tr><td>Navitrol version</td><td>Uint</td><td>4</td><td>The version number of the Navitrol software running on the IPC. <br />This is sent in following format: <br />Major version * 10000 + Release version * 100 + hot fix version. <br />For example, 63202 = 6.32.02</td></tr>
<tr><td>Supervisor Protocol version</td><td>Uint</td><td>4</td><td>The version number of the latest supervisor communication protocol <br />This is sent in following format: <br />Protocol version * 10000  For example, 40000 = 4</td></tr>
</tbody></table>
<hr />
<h4 id="1112---reboot-started"><a class="header" href="#1112---reboot-started">1112 - Reboot started</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Reboot Navitrol&quot;-message (1012). After sending this message Navitrol will shut down and start again.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1112</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1113---time-set"><a class="header" href="#1113---time-set">1113 - Time set</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Set time&quot;-message (1013). The message contains information if the time given as the input was valid.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1113</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Time set result</td><td>Uint</td><td>2</td><td>0 - <strong>Failure</strong> <br />The values given in message 1013 were not in defined limits or setting time failed. Time was not set. <br />1 - <strong>Success</strong> <br />The time was successfully set.</td></tr>
</tbody></table>
<hr />
<h4 id="1120---file-info"><a class="header" href="#1120---file-info">1120 - File info</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Request file info&quot;-message (1020). The message contains information about the segment and environment files.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1120</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>56</td></tr>
<tr><td>Segment file version</td><td>Char[]</td><td>8</td><td>The segment file version number as NULL-terminated table of chars. If segment file is not found &quot;0&quot; will be returned.</td></tr>
<tr><td>Environment file version</td><td>Char[]</td><td>8</td><td>The environment file version number as NULL-terminated table of chars.</td></tr>
<tr><td>Area name</td><td>Char[]</td><td>32</td><td>The name of the area. The name is defined in Navithor Tools and is same as the default name of the Tools project file. <br />The first 32 characters of the name is given as table of chars. <br />Not guaranteed to be NULL-terminated</td></tr>
</tbody></table>
<hr />
<h4 id="1121---can-restart"><a class="header" href="#1121---can-restart">1121 - CAN restart</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Restart CAN&quot;-message (1021). The message confirms that the CAN restart request was received and the restart was initialized.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1121</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="1124---odometry-correction-data"><a class="header" href="#1124---odometry-correction-data">1124 - Odometry correction data</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Request odometry correction data&quot;-message (1024). The message returns latest odometry correction data including odometry autocorrection amounts and odometry correction averages. These values can be used to fine tune odometry calibration. - Closer these values are to the zero the better the calibration is between odometry and scanner data.</p>
<p>Note: These values are also visible in Navitrol Monitor's &quot;Odometry correction&quot;-chart.</p>
<p>The basic principle is that the automatic odometry corrections are applied to the received odometry values so that they would match the scanner data.</p>
<p><strong>Examples:</strong></p>
<ul>
<li>Automatic heading correction (<strong>H auto corr</strong>): Is <strong>added</strong> to the scanner angle. A typical reason for <strong>H auto corr</strong> is that the scanner zero angle is not accurately defined.</li>
<li>If automatic distance correction (<strong>ds auto corr</strong>) would have value 0.01 that would mean that the speed received from odometry is lower than the speed calculated from scanner data. The odometry speed matches scanner speed after being <strong>multiplied</strong> by the odometry correction value + 1.0 (1.01 in this case). A typical reason for distance correction would be inaccuracies in wheel rotation to AGV speed values calculations. For example, motor rotations per minute to meters per second might not be accurate. Automatic heading correction</li>
<li>(<strong>dh auto corr</strong>): The automatic heading correction is <strong>added</strong> to the odometry based heading. A typical reason for heading correction would be that the zero angle of the steer encoder has an offset compared to the real zero angle.</li>
</ul>
<p>See &quot;Automatic odometry correction&quot;-document for more information about the meaning of each value.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1124</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>44</td></tr>
<tr><td>Lat average corr</td><td>Float</td><td>4</td><td>Average latitudinal correction (unitless multiplier) <br />Positive value towards the left of the AGV.</td></tr>
<tr><td>Lon average corr</td><td>Float</td><td>4</td><td>Average longitudinal correction (unitless multiplier) <br />Positive value towards the front of AGV.</td></tr>
<tr><td>H average corr</td><td>Float</td><td>4</td><td>Average heading correction (degrees per meter) <br />Positive value to counterclockwise direction from AGV's heading.</td></tr>
<tr><td>H auto corr</td><td>Float</td><td>4</td><td>Automatic heading correction to reduce lateral position corrections (degrees per meter) <br />Positive value to counterclockwise direction from AGV's heading.</td></tr>
<tr><td>dh auto corr</td><td>Float</td><td>4</td><td>Automatic heading/rotation difference correction to reduce heading position corrections (degrees per meter) <br />Positive value to counterclockwise direction from AGV's heading.</td></tr>
<tr><td>ds auto corr</td><td>Float</td><td>4</td><td>Automatic drive distance correction to reduce longitudinal position corrections (unitless multiplier) <br />Positive value to forwards from the AGV.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>12</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1125---info-packages-to-navithor-response"><a class="header" href="#1125---info-packages-to-navithor-response">1125 - Info packages to Navithor response</a></h4>
<p>Navitrol sends this message to supervisor as a response to supervisor messages request (1025). If the response result is not accepted, validate that the length of the message is within limits (Number of active info packages, Number of chars in description).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1125</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Info packages result</td><td>Uint</td><td>2</td><td>0 - Accepted  <br /> 1 - Bad input data</td></tr>
<tr><td>Number of active info packages</td><td>Uint</td><td>2</td><td></td></tr>
</tbody></table>
<hr />
<h4 id="1135---parameter-set-selected"><a class="header" href="#1135---parameter-set-selected">1135 - Parameter set selected</a></h4>
<p>Navitrol sends this message to supervisor as a response to parameter set change request (1035).
Parameter change will fail if the index is out of bounds (-1 to 3 are valid) or if the AGV doesn't have a parameter file corresponding to the activated index. </p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.50</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1135</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Parameter change result</td><td>Uint16</td><td>2</td><td>0 - Succeeded  <br /> 1 - Failed</td></tr>
<tr><td>Reserved bytes</td><td>Uint</td><td>4</td><td>0, for future extensions</td></tr>
</tbody></table>
<hr />
<h4 id="3139---localization-scanner-status"><a class="header" href="#3139---localization-scanner-status">3139 - Localization scanner status</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Control localization scanners&quot;-message (3039). The message contains the current selection of localization scanners in use.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3139</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>20</td></tr>
<tr><td>Available scanners</td><td>Bitfield</td><td>2</td><td>The available scanners that have been configured to the system</td></tr>
<tr><td>Enabled scanners</td><td>Bitfield</td><td>2</td><td>The currently enabled scanners that are used in localization</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Available scanners bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Rear scanner</td><td>0</td><td>0 - Not configured. 1 - Available.</td></tr>
<tr><td>Front scanner</td><td>1</td><td>0 - Not configured. 1 - Available.</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Enabled scanners bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Rear scanner</td><td>0</td><td>0 - Disabled. 1 - Enabled.</td></tr>
<tr><td>Front scanner</td><td>1</td><td>0 - Disabled. 1 - Enabled.</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3140---fatal-errors-reset"><a class="header" href="#3140---fatal-errors-reset">3140 - Fatal errors reset</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Reset fatal errors&quot;-message (3040). The message confirms that all fatal errors were reset. If they are instantly triggered again after receiving this message, the issue triggering the error has not been resolved.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.01</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3140</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3145---travel-distance"><a class="header" href="#3145---travel-distance">3145 - Travel distance</a></h4>
<p>Navitrol will send this message as a reply to the &quot;Request travel distance&quot;-message (3045). The message contains information about total travel distance since last reset (see message 3047) and the travel distance since Navitrol was last started.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3145</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>24</td></tr>
<tr><td>Travel distance</td><td>Float</td><td>4</td><td>Traveled distance in meters since Navitrol was last started.</td></tr>
<tr><td>Total travel distance</td><td>Float</td><td>4</td><td>Total traveled distance in meters since Navitrol was started the first time on the IPC or since last travel distance reset. The value is stored between Navitrol restarts in the &quot;startInfo.bin&quot;-file.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3149---obstacle-detection-result"><a class="header" href="#3149---obstacle-detection-result">3149 - Obstacle detection result</a></h4>
<p>To use this message, set Navitrol parameter <strong>obst_detection_mode = 1</strong>.</p>
<p>With this message, Navitrol reports the obstacles detected by the area specified in the latest “3049 – Obstacle detection set detection area“ message. This message will be sent periodically with each scan.</p>
<p>The obstacles will be reported in the form of lines. Each line will consist of x and y coordinates of the starting point and end point.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.36.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3149</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16 + (NoL * 16)</td></tr>
<tr><td>Max distance of scan point</td><td>Float</td><td>4</td><td>Maximum distance a scan point can have from a detected line, in meters</td></tr>
<tr><td>Number of lines</td><td>Int</td><td>4</td><td>Number of lines (NoL)</td></tr>
<tr><td>Detected lines</td><td>Line[]</td><td>NoL * 16</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Line struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Start Point X</td><td>Float</td><td>4</td><td>Meters, in world coordinates</td></tr>
<tr><td>Start Point Y</td><td>Float</td><td>4</td><td>Meters, in world coordinates</td></tr>
<tr><td>End Point X</td><td>Float</td><td>4</td><td>Meters, in world coordinates</td></tr>
<tr><td>End Point Y</td><td>Float</td><td>4</td><td>Meters, in world coordinates</td></tr>
</tbody></table>
<hr />
<h4 id="4100---log-triggered"><a class="header" href="#4100---log-triggered">4100 - Log Triggered</a></h4>
<p>When enabled by setting <strong>log_trigger_pass_to_supervisor</strong> to value 1, instead of taking a log Navitrol will send this message to supervisor automatically every time log taking is triggered by Navitrol Monitor or Navithor Server. After receiving this message Supervisor should trigger the log taking by using message 1007.</p>
<p>This approach has been used to synchronize supervisor and Navitrol log taking:</p>
<ul>
<li>The log taking is triggered from Navithor or Navitrol Monitor</li>
<li>Instead of taking the log Navitrol sends this message to supervisor</li>
<li>Supervisor takes log of its own and triggers Navitrol log (for example using the message 1007)</li>
<li>Navitrol will inform supervisor that taking a log is ready by sending message 1107</li>
<li>Supervisor can now make a package from its own logs and the Navitrol log</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>4100</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Trigger source</td><td>Uint</td><td>2</td><td>The log taking was triggered by: <br />1 - Navitrol Monitor <br />2 - Navithor server</td></tr>
</tbody></table>
<hr />
<h2 id="position-control-messages"><a class="header" href="#position-control-messages">Position control messages</a></h2>
<p>These messages are related to position control and features requiring position control. They cannot be used in positioning only systems.</p>
<h3 id="from-supervisor-to-navitrol-1"><a class="header" href="#from-supervisor-to-navitrol-1">From Supervisor to Navitrol</a></h3>
<h4 id="1016---measurement-update-differential-drive"><a class="header" href="#1016---measurement-update-differential-drive">1016 - Measurement update differential drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in differential drive AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>See <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control differential drive&quot;-message (1116) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1016</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>26</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number.</em></td></tr>
<tr><td>Odometry left wheel</td><td>Uint</td><td>4</td><td>The cumulative encoder value from the left wheel. <br />The scale from encoder value to meters is defined by <strong>mot_ctrl_left_dist_scale</strong>-parameter <br />The overflow point must be from 0xffffffff to 0</td></tr>
<tr><td>Odometry right wheel</td><td>Uint</td><td>4</td><td>The cumulative encoder value from the right wheel. <br />The scale from encoder value to meters is defined by <strong>mot_ctrl_right_dist_scale</strong>-parameter <br />The overflow point must be from 0xffffffff to 0</td></tr>
<tr><td>Drive control</td><td>Uint</td><td>2</td><td>Drive control signal that defines if Navitrol is allowed to control the AGV: <br />1 - <strong>Activate auto mode</strong> <br />Navitrol is allowed to control the AGV. <br />2 - <strong>Activate supervisor error</strong> <br />Navitrol will perform <em>fast stop</em> and error ERROR_MOTOR_CONTROL_FAULT will be set. <br />3 - <strong>Activate manual mode</strong> <br />Navitrol will activate <em>manual mode</em> <br />4 - <strong>Activate emergency stop</strong> <br />Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in milliseconds. Time base can be chosen freely.</td></tr>
</tbody></table>
<hr />
<h4 id="1017---measurement-update-steer-drive"><a class="header" href="#1017---measurement-update-steer-drive">1017 - Measurement update steer drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in steer drive AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>See <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control steer drive&quot;-message (1117) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1017</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>28</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td></tr>
<tr><td>Steering angle</td><td>Float</td><td>4</td><td>Measured steering angle (±PI in radians)</td></tr>
<tr><td>Wheel speed</td><td>Float</td><td>4</td><td>Measured speed for drive wheel (m/s)</td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong> <br />Navitrol will activate <em>auto mode.</em></td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in milliseconds. Time base can be chosen freely.</td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values  <br />1 - active. 0 - Not active.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>4-5</td><td>0 - Not in use</td></tr>
<tr><td>Charging (Obsolete)</td><td>6</td><td>Charging bit is obsolete. 3002 - Supervisor status Battery section Charging Active bit is used to handle charging active/inactive logic</td></tr>
<tr><td>Brake released</td><td>7</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1018---measurement-update-differentialsteer-drive"><a class="header" href="#1018---measurement-update-differentialsteer-drive">1018 - Measurement update differential&amp;steer drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in differential&amp;steer drive AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>See <em>differential&amp;steer drive</em> and <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control differential&amp;steer drive&quot;-message (1118) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1018</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>36</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td></tr>
<tr><td>Steer wheel angle</td><td>Float</td><td>4</td><td>Measured angle of the steer wheel (±PI in radians)</td></tr>
<tr><td>Steer wheel speed</td><td>Float</td><td>4</td><td>Measured speed for the steering wheel (m/s) Used only for statistics as the odometry is calculated from differential wheel speeds.  If the statistics are not needed, hex value 7FA00000 can be sent to indicate that the wheel speed is undefined.</td></tr>
<tr><td>Left diff wheel speed</td><td>Float</td><td>4</td><td>The measured speed of the left differential wheel (m/s)</td></tr>
<tr><td>Right diff wheel speed</td><td>Float</td><td>4</td><td>The measured speed of the right differential wheel (m/s)</td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong><br /> Navitrol will activate <em>auto mode.</em></td></tr>
<tr><td>Timestamp</td><td></td><td>4</td><td>Cumulative time in milliseconds. Time base can be chosen freely.</td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values  <br />1 - active. 0 - Not active.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>4-5</td><td>0 - Not in use</td></tr>
<tr><td>Charging (Obsolete)</td><td>6</td><td>Charging bit is obsolete. 3002 - Supervisor status Battery section Charging Active bit is used to handle charging active/inactive logic</td></tr>
<tr><td>Brake released</td><td>7</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1019---measurement-update-omni-drive"><a class="header" href="#1019---measurement-update-omni-drive">1019 - Measurement update omni drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in omni drive AGV systems in which supervisor handles the motor control and Navitrol gives the references. The newer, more generic message is recommended <a href="#1026---measurement-update-generic-omni-drive">1026 - Measurement update generic omni drive</a>.</p>
<p>See <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control omni drive&quot;-message (1119) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1019</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>54</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td></tr>
<tr><td>Obsolete</td><td>NA</td><td>2</td><td>0 - Not in use <br/>Previously &quot;Select measurement format&quot;</td></tr>
<tr><td>Angle of wheel 0</td><td>Float</td><td>4</td><td>Measured steering angle of wheel 0 (±PI in radians).</td></tr>
<tr><td>Speed of wheel 0</td><td>Float</td><td>4</td><td>Measured speed of wheel 0 (m/s).</td></tr>
<tr><td>Angle of wheel 1</td><td>Float</td><td>4</td><td>Measured steering angle of wheel 1 (±PI in radians).</td></tr>
<tr><td>Speed of wheel 1</td><td>Float</td><td>4</td><td>Measured speed of wheel 1 (m/s).</td></tr>
<tr><td>Obsolete</td><td>NA</td><td>16</td><td>0 - Not in use <br/>Previously Kinematic free measurements as 4 floats</td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong> <br />Navitrol will activate <em>auto mode.</em></td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in milliseconds. Time base can be chosen freely.</td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values  <br />1 - active. 0 - Not active.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>4-5</td><td>0 - Not in use</td></tr>
<tr><td>Charging (Obsolete)</td><td>6</td><td>Charging bit is obsolete. 3002 - Supervisor status Battery section Charging Active bit is used to handle charging active/inactive logic</td></tr>
<tr><td>Brake released</td><td>7</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1022---measurement-update-mecanum-drive"><a class="header" href="#1022---measurement-update-mecanum-drive">1022 - Measurement update mecanum drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in mecanum drive AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>See <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control mecanum drive&quot;-message (1122) containing calculated control references.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1022</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>48</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td></tr>
<tr><td>Speed of wheel 0</td><td>Float</td><td>4</td><td>Measured speed of wheel 0 (m/s).</td></tr>
<tr><td>Speed of wheel 1</td><td>Float</td><td>4</td><td>Measured speed of wheel 1 (m/s).</td></tr>
<tr><td>Speed of wheel 2</td><td>Float</td><td>4</td><td>Measured speed of wheel 2 (m/s).</td></tr>
<tr><td>Speed of wheel 3</td><td>Float</td><td>4</td><td>Measured speed of wheel 3 (m/s).</td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong> <br />Navitrol will activate <em>auto mode.</em></td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values  <br />1 - active. 0 - Not active.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Brake released</td><td>4</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>5-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1023---measurement-update-combined"><a class="header" href="#1023---measurement-update-combined">1023 - Measurement update combined</a></h4>
<p>This message can be used to provide odometry data to Navitrol in several different AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>Supported kinematic types:</p>
<ul>
<li>Differential drive (D)</li>
<li>Steer drive (S)</li>
<li>Omni drive (O)</li>
<li>Differential&amp;steer drive (DS)</li>
</ul>
<p>See <em>Measurement update message.</em> In following message definition, the &quot;Used by&quot;-column defines if the data field is used with a given kinematic system. The * -mark means that the value is optional for the connected machine type. If an optional field is not used, hex value 7FA00000 should be sent.</p>
<p>If a data field is not used by a kinematic type, constant 0 should be sent.</p>
<p>Navitrol will reply with the &quot;Motor control combined&quot;-message (1123) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th><th><strong>Used by</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td><td>All</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1023</td><td>All</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>44</td><td>All</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td><td>All</td></tr>
<tr><td>Angle of wheel 0</td><td>Float</td><td>4</td><td>Measured steering angle of wheel 0 (±PI in radians).</td><td>S, DS, O</td></tr>
<tr><td>Speed of wheel 0</td><td>Float</td><td>4</td><td>Measured speed of wheel 0 (m/s).</td><td>S, DS*, O</td></tr>
<tr><td>Angle of wheel 1</td><td>Float</td><td>4</td><td>Measured steering angle of wheel 1 (±PI in radians).</td><td>O</td></tr>
<tr><td>Speed of wheel 1</td><td>Float</td><td>4</td><td>Measured speed of wheel 1 (m/s).</td><td>O</td></tr>
<tr><td>Left diff wheel speed</td><td>Float</td><td>4</td><td>Measured speed of the left differential wheel (m/s)</td><td>D, DS</td></tr>
<tr><td>Right diff wheel speed</td><td>Float</td><td>4</td><td>Measured speed of the right differential wheel (m/s)</td><td>D, DS</td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong> <br />Navitrol will activate <em>auto mode.</em></td><td>All</td></tr>
<tr><td>Time stamp</td><td>Uint</td><td>4</td><td>Cumulative time in milliseconds. Time base can be chosen freely.</td><td>All</td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values  1 - active. 0 - Not active.</td><td>All</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>4-5</td><td>0 - Not in use</td></tr>
<tr><td>Charging (Obsolete)</td><td>6</td><td>Charging bit is obsolete. 3002 - Supervisor status Battery section Charging Active bit is used to handle charging active/inactive logic</td></tr>
<tr><td>Brake released</td><td>7</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1026---measurement-update-generic-omni-drive"><a class="header" href="#1026---measurement-update-generic-omni-drive">1026 - Measurement update generic omni drive</a></h4>
<p>This message can be used to provide odometry data to Navitrol in N wheel omni drive AGV systems in which supervisor handles the motor control and Navitrol gives the references.</p>
<p>See <em>Measurement update message.</em></p>
<p>Navitrol will reply with the &quot;Motor control generic omni drive&quot;-message (1126) containing calculated control references.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.52.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1026</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>18 + N wheels * Omni wheels struct <br/> Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em> in <a href="#glossary">Glossary</a></td></tr>
<tr><td>Set drive mode</td><td>Uint</td><td>2</td><td>1 - <strong>Manual mode</strong> <br />Navitrol will activate <em>manual mode</em>. <br />2 - <strong>Automatic mode</strong> <br />Navitrol will activate <em>auto mode.</em></td></tr>
<tr><td>Supervisor status</td><td>Bitfield</td><td>2</td><td>Supervisor status and control values, see <strong>Supervisor status bits</strong></td></tr>
<tr><td>Number of wheels</td><td>Uint</td><td>2</td><td>Number of omni wheels. Maximum 6, minimum 2.</td></tr>
<tr><td>Omni wheels[]</td><td>Omni wheels[]</td><td>Varying length</td><td>The steer angle and wheel speed of each individual wheel</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Supervisor status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error</td><td>0</td><td>When active ERROR_MOTOR_CONTROL_FAULT will be set. <br />See <em>error.</em> in <a href="#glossary">Glossary</a></td></tr>
<tr><td>Emergency stop</td><td>1</td><td>When active Navitrol will perform <em>emergency stop</em> and following two warnings will be triggered: WARNING_AGV_EM_STOP and WARNING_ESTOP_ACTIVE</td></tr>
<tr><td>Soft slow</td><td>2</td><td>When active Navitrol will perform <em>soft slow.</em></td></tr>
<tr><td>Soft stop</td><td>3</td><td>When active Navitrol will perform <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>4-6</td><td>0 - Not in use</td></tr>
<tr><td>Brake released</td><td>7</td><td>Informs Navitrol of the status of brakes. <br />When <ins>not active</ins> <em>hard stop</em> will be enabled.</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Omni wheels struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Steer angle</td><td>Float</td><td>4</td><td>In radians. Range is [-PI, PI]. Positive is counter-clockwise.</td></tr>
<tr><td>Wheel speed</td><td>Float</td><td>4</td><td>In m/s</td></tr>
</tbody></table>
<hr />
<h4 id="1030---measurement-update-actuators"><a class="header" href="#1030---measurement-update-actuators">1030 - Measurement update actuators</a></h4>
<p>This message is obsolete, not used anymore! Check messages 1031 and 1131.</p>
<hr />
<h4 id="1031---measurement-update-multiple-actuators"><a class="header" href="#1031---measurement-update-multiple-actuators">1031 - Measurement update multiple actuators</a></h4>
<p>This message can be used to provide measurement data to Navitrol from actuators in AGV systems in which supervisor handles the actuator control and Navitrol gives the references. This message should be sent periodically at constant interval.</p>
<p>Note: The max interval for sending this message is 2 seconds. If interval between two consecutive messages exceeds this time, error is set. Recommended interval is 100 or 200 ms.</p>
<p>Navitrol will reply with the &quot;Control multiple actuators&quot;-message (1131) containing calculated control references.</p>
<p>The &quot;Status detection available&quot; sensors are used only if there is Lift actuator in use. They can be used to define multiple load sensors. For example, if all &quot;Status detection available&quot; bits are active, it means that the lift has 11 load sensors and all &quot;Status bits&quot; need to be 1 (except the bits 5 and 6 that should be 0) to consider load detected. </p>
<p>Lift and Secondary lift actuators has also &quot;Load sensor used&quot; and &quot;Load detected with sensor&quot; bits on the &quot;Actuator status bits&quot; those can be used to define one sensor per actuator. </p>
<p>&quot;Actuator reference reached&quot; bit can be used to stop control of some actuator. One use case is for example, stopping the reach actuator during the pickup or drop-off sequence if some sensor detects that it has already moved to the target. However, the reference reached bit should be set to 0 as soon as actuator control is not requested anymore by Navitrol (Message ID 1131 Binary output, Bit0 - Activate actuator).</p>
<p>For more information see: <a href="../../../LoadHandling/ActuatorControl/ActuatorControl-en.html">Actuator control</a> document.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.44</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1031</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Min 28, max 328. Depending how many actuators and sensors are sent</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em>.</td></tr>
<tr><td>Number of actuators</td><td>Uint</td><td>2</td><td>The number of actuators (NoA), each reported in a separate section. If 0, actuator section should not be sent. Maximum value 20.</td></tr>
<tr><td>Number of range measurements</td><td>Uint</td><td>2</td><td>Number of general range measurements (NoRM) on the machine. If 0, range measurement section should not be sent. Maximum value 10.</td></tr>
<tr><td>Actuator status section</td><td>Actuator[]</td><td>NoA * 12</td><td>Each section consists of: Actuator type, position measurement and status bits.</td></tr>
<tr><td>Status detection available</td><td>Uint</td><td>4</td><td>Defines whether a sensor is available on the machine to set each status bit. The bit order is corresponding to the status bits below. The bit is set if a sensor is available. For now, these can be used only as load sensors, they don't stop any actuator.</td></tr>
<tr><td>Status bits defining reaching of actuator targets</td><td>Uint</td><td>4</td><td>Status bits always the same independent of controlled actuator. Bit set if detection active. <br> Bit0 – Load reached contact left <br> Bit1 – Load reached contact right <br> Bit2 – Load distance reached <br> Bit3 – Fork tips through load  <br> Bit4 – Load detected above fork <br> Bit5 – Clearance above fork left <br> Bit6 – Clearance above fork right <br> Bit7 – Clearance below fork left <br> Bit8 – Clearance below fork right <br> Bit9 – Load contact sensor <br> Bit10 - Load secured <br> Bit11…31 – TBD</td></tr>
<tr><td>Safe control sensor available</td><td>Uint</td><td>2</td><td>Bit0…15 bits set for each available sensor</td></tr>
<tr><td>Safe control status bits</td><td>Uint</td><td>2</td><td>Not used yet. General safe control statuses, always the same independent of controlled actuator. A risk detection or a sensor malfunction sets the bit and the actuator is stopped if affected by that bit.  <br> Bit0 – Load misalignment <br> Bit1 – Fork collision left <br> Bit2 – Fork collision right <br> Bit3 – Fork tunnel left obstructed  <br> Bit4 – Fork tunnel right obstructed  <br> Bit5 – Mast obstacle detected  <br> Bit6 – Machine body obstacle detected <br> Bit7 – Load jammed (not matching actuation e.g., on conveyor) <br> Bit9…15 – TBD</td></tr>
<tr><td>General range measurement section</td><td>Sensor[]</td><td>NoRM * 6</td><td>Range measurements not directly related to any actuator. Each range measurement section contains a sensor type field and a measurement value field.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Actuator section</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Actuator type</td><td>Uint</td><td>2</td><td><strong>Basic type definition</strong> <br> 1 – Lift <br> 2 – Lift secondary <br> 3 – Reach <br> 4 – Tilt fork <br> 5 – Tilt mast (not implemented yet) <br> 6 – Tilt frame (not implemented yet) <br> 7 – Rotate fork <br> 8 – Side shift fork <br> 9 – Adjust fork width (not implemented yet) <br> 10 – Side tilt fork (not implemented yet) <br> 11 – Onboard conveyor (not implemented yet) <br> 12 – Lift scanner/camera <br> 13 – Load identification (not implemented yet) <br> 14 – Load securing on off (not implemented yet) <br> Others TBD <br> 1000 – Addition if not controllable by the navigation</td></tr>
<tr><td>Actuator status bits</td><td>Uint</td><td>2</td><td><strong>Status of the actuator</strong> <br> Bit0 – Actuator active <br> Bit1 – Actuator increasing <br> Bit2 – Actuator decreasing <br> Bit3 – Actuator reference reached <br> Bit4 – Actuator max limit reached <br> Bit5 – Actuator min limit reached <br> Bit6 – Actuator center limit reached <br> Bit7 - Load sensor used <br> Bit8 - Load detected with sensor <br> Bit9…14 TBD <br> Bit15 – Actuator error</td></tr>
<tr><td>Actuator position reading</td><td>Int</td><td>4</td><td><strong>Actuator position in millimeters or 0.1 degrees.</strong> <br> Lift - zero at low limit, positive upwards <br> Reach - zero at base, positive out from vehicle, towards load <br> Tilt fork - zero when horizontal, positive when fork tilted tips up <br> Tilt mast - zero when mast vertical, positive when mast angled towards vehicle (lifting fork tips) <br> Tilt frame - zero when leveled, positive when frame tilted fork side up (lifting fork tips) <br> Rotate fork - zero when straight forwards, positive CCW around vehicle seen from above (+-180 degrees) <br> Turn fork - zero when leveled, positive CCW seen from the fork base (+-180 degrees) <br> Fork side shift - zero when centered, positive to the left seen from the fork base <br> Fork width - distance between fork centerlines <br> Conveyor - zero at standstill, positive moving load in vehicle X or Y direction, increment since last stop <br> Lift scanner/camera - zero at fork load carrying level, positive up <br> Load identification - load ID number <br> Load securing - on-secured, off-not secure</td></tr>
<tr><td>Reserved actuator info</td><td>Int</td><td>4</td><td>Reserved for future use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Range measurement section</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Measurement type</td><td>Uint</td><td>2</td><td>Measurements type definition <br> 1 – Load distance (not implemented yet) <br> 2 – fork tip distance left (not implemented yet) <br> 3 – fork tip distance right (not implemented yet) <br> 4 – load weight (not implemented yet) <br> 5 – Load ID horizontal position (not implemented yet) <br> 6 – Load ID vertical position (not implemented yet) <br> N – TBD</td></tr>
<tr><td>Measurement value</td><td>Int</td><td>4</td><td>Signed measurement value. Distances in millimeters, angles in 0.1 degrees, weights in kilograms.</td></tr>
</tbody></table>
<hr />
<h4 id="3001---release-hold-state"><a class="header" href="#3001---release-hold-state">3001 - Release hold state</a></h4>
<p>This message can be used to release Navitrol from <em>hold state</em> to drive to the next destination symbolic point. Generates a <em>drive order</em>.</p>
<p>Requirements for releasing hold:</p>
<ul>
<li>Navitrol must be in <em>hold state</em></li>
<li>Supervisor drive orders must be enabled</li>
<li>The target must be reachable</li>
<li>Position error to the nearest route cannot be too large</li>
</ul>
<p>Navitrol will respond with the &quot;Hold state release&quot;-message (3101). The reply is sent immediately when the result of the request is known, which might take up to one second.</p>
<p>For more information see <a href="../../../DriveControl/Standalone/Standalone-en.html">standalone</a> document where hold-release feature is described.</p>
<p>Note: <ins>Hold-point is not the same as stop-and-hold point.</ins> This message does not function with stop-and-hold points. For that check messages 3011 and 3111.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3001</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Drive destination</td><td>Uint</td><td>4</td><td>The destination where Navitrol will drive after it has been released from hold-symbolic point: <br />0 - Default destination <br />1 - 1st alternative destination <br />2 - 2nd alternative destination <br />3 - 3rd alternative destination</td></tr>
</tbody></table>
<hr />
<h4 id="3002---supervisor-status"><a class="header" href="#3002---supervisor-status">3002 - Supervisor status</a></h4>
<p><ins>This message must be sent periodically</ins> (maximum interval 1 second) to deliver the status of the supervisor to Navitrol.</p>
<p>The status message consists of sections. Only the default section must be always implemented. The other sections are optional and can be added behind the status section in any order.</p>
<p>Navitrol will reply with the &quot;Navitrol status&quot;-message (3102) containing the status of Navitrol and the requested sections.</p>
<h5 id="default-section"><a class="header" href="#default-section">Default section</a></h5>
<p>This section must always be included in the status message. The section can be used to stop the AGV and request Navitrol to include additional status section into the reply message 3102. If no additional sections are requested the reply message will contain only the default section of its own.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3002</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>14 + 2 * number of sections + length of sections</td></tr>
<tr><td>Status</td><td>Uint</td><td>2</td><td>General supervisor status: <br />0 - <strong>Not ok</strong> <br />ERROR_PLC_FAILURE will be activated, and additionally manual driving will be prevented. <br />1 - <strong>Ok</strong> <br />Navitrol is allowed to drive the AGV.</td></tr>
<tr><td>Set ESTOP</td><td>Uint</td><td>2</td><td>Used to set and release <em>emergency stop:</em> <br />0 - Release ESTOP <br />1 - Set ESTOP</td></tr>
<tr><td>Number of sections</td><td>Uint</td><td>2</td><td>The number of status sections requested from Navitrol.</td></tr>
<tr><td>Section ID</td><td>Uint[]</td><td>2 * n of sections</td><td>The IDs of the requested sections. Navitrol will include these sections in the reply message (3102).</td></tr>
</tbody></table>
<hr />
<h5 id="1---actuator-section"><a class="header" href="#1---actuator-section">1 - Actuator section</a></h5>
<p>This section can be sent to inform Navitrol of the actuator status. Note: Using Navitrol for actuator control requires setting and tuning several parameters. See, &quot;Navitrol - Actuator control&quot;-document before using this section. Navitrol will send the related actuator control references in Navitrol status section 5. If one is interested in them, supervisor should request the section in the default section of supervisor status message.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>1</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>14</td></tr>
<tr><td>Actuator value</td><td>Uint</td><td>4</td><td>Measured value of the actuator. Most commonly fork height in millimeters. However, for example position or rotation values could also be used.  <br />Zero value means the minimum actuator position.</td></tr>
<tr><td>Actuator inputs</td><td>Bitfield</td><td>1</td><td>Actuator status and control values  <br />1 - active. 0 - Not active.</td></tr>
<tr><td>Scanner zone inputs</td><td>Bitfield</td><td>1</td><td>Scanner warning zone inputs for wall monitor feature that triggers different stops based on scanner zones. <br />1 - active. 0 - Not active.  <br />Navitrol will use these values only if <strong>wallmon_use_veh_inte_eth_inputs</strong>-parameter has been set to 1. For more information see the &quot;wall monitor&quot; feature documentation.</td></tr>
<tr><td>Other inputs</td><td>Bitfield</td><td>1</td><td>Other actuator control related binary inputs. 1 - active. 0 - Not active.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>1</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Actuator inputs bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Actuator in use</td><td>0</td><td>Informs Navitrol that the actuator is in use. If active when on the route that has &quot;Strict actuator&quot;-route property, driving will be prevented. Route properties are used with Navithor Tools</td></tr>
<tr><td>Actuator low limit</td><td>1</td><td>When active informs Navitrol that the actuator is at the lowest position.</td></tr>
<tr><td>Actuator high limit</td><td>2</td><td>When active informs Navitrol that the actuator is at the highest position.</td></tr>
<tr><td>Load sensor in use</td><td>3</td><td>When active informs Navitrol that the load sensor is available and the &quot;Load detected&quot;-data field can be trusted.</td></tr>
<tr><td>Load detected</td><td>4</td><td>When active informs Navitrol that a load is detected by the load sensor. Only trusted if &quot;Load sensor in use&quot; is active.</td></tr>
<tr><td>Reserved</td><td>5-7</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Scanner zone inputs bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Front warning zone 1</td><td>0</td><td>Active means that front scanner warning zone 1 is triggered.</td></tr>
<tr><td>Front warning zone 2</td><td>1</td><td>Active means that front scanner warning zone 2 is triggered.</td></tr>
<tr><td>Rear warning zone 1</td><td>2</td><td>Active means that rear scanner warning zone 1 is triggered.</td></tr>
<tr><td>Rear waring zone 2</td><td>3</td><td>Active means that rear scanner warning zone 2 is triggered.</td></tr>
<tr><td>Reserved</td><td>4-7</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Other inputs bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Release stop &amp; hold</td><td>0</td><td>Can be used to release the AGV from a StopAndHold symbolic point. Use must be enabled by setting <strong>stop_and_hold_mode</strong>-parameter to value 1. <br /> The information if AGV is held in StopAndHold point can be find in status message 3102 section 5. <br /> For more information see <a href="../../../DriveControl/StopAndHold/StopAndHold-en.html">Stop-and-hold</a> documentation.</td></tr>
<tr><td>Reserved</td><td>1-7</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="2---manual-section"><a class="header" href="#2---manual-section">2 - Manual section</a></h5>
<p>This section can be used to activate Navitrol's <em>manual mode</em> and give keyboard-like drive commands.</p>
<p>The available drive commands are forward, backward, left and right. Driving a curve is possible by giving left or right command simultaneously with a forward or backward command. The curvature is value of <strong>veh_inte_manual_ang_vel</strong>-parameter divided by the given drive speed.</p>
<p>Note: The &quot;remote control&quot;-section is prioritized over this one, if both are used.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td></td></tr>
<tr><td>Enable manual control</td><td>Uint</td><td>2</td><td>Used to enable manual control from this section: <br />0 - <strong>Enable control</strong> <br />Navitrol will activate <em>manual mode</em> and sets WARNING_ETH_MANUAL_MODE. This section can be used to drive the AGV. <br />1 - <strong>Disable control</strong> <br />Navitrol will ignore any controls from this section.</td></tr>
<tr><td>Forward</td><td>Uint</td><td>2</td><td>Drive forward command to Navitrol: <br />0 - Inactive 1 - Active</td></tr>
<tr><td>Backward</td><td>Uint</td><td>2</td><td>Drive backward command to Navitrol: <br />0 - Inactive 1 - Active</td></tr>
<tr><td>Left</td><td>Uint</td><td>2</td><td>Turn left command to Navitrol: <br />0 - Inactive 1 - Active</td></tr>
<tr><td>Right</td><td>Uint</td><td>2</td><td>Turn right forward command to Navitrol: <br />0 - Inactive 1 - Active</td></tr>
<tr><td>Drive speed</td><td>Float</td><td>4</td><td>The manual drive speed reference in meters per second.</td></tr>
</tbody></table>
<hr />
<h5 id="3---error-section"><a class="header" href="#3---error-section">3 - Error section</a></h5>
<p>This section can be used to display custom errors and warnings. When a custom error is set Navitrol will activate ERROR_PLC and when a custom warning WARNING_PLC.</p>
<p>For example, if the string length was fixed to 25 bytes and there is two warnings active with error codes &quot;3&quot; and &quot;2424&quot; and descriptions &quot;Error_Actuator_jammed&quot; and &quot;Error_Brake_failure&quot;, the message would look like this (displayed as characters):</p>
<p>3 0 64 1 0 0 2 0 # section ID + sect len (320 bytes) + active errors count <br />
3 0 0 0 25 21 E r r o r _ A c t u a t o r _ j a m m e d 0 0 0 0 # error 1 (total of 31 bytes) <br />
78 9 0 0 25 19 E r r o r _ B r a k e _ f a i l u r e 0 0 0 0 0 0 # error 2 (31 bytes) <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # error 3 (31 bytes) <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # error 4 <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # error 5 <br />
0 0 # active warnings count <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # warning 1 (31 bytes) <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # warning 2 <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # warning 3 <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # warning 4 <br />
0 0 0 0 25 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 # warning 5</p>
<p>Data for &quot;Total description length&quot; and &quot;Used description length&quot; must be sent, but they can be set to 0.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>3</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Total length of the section 10 + length of the 5 Error and the 5 Warning <br />Min 70. Max 2620.</td></tr>
<tr><td>Error count</td><td>Uint</td><td>2</td><td>Number of active errors.  <br />Note: Maximum of 5 custom descriptions will be shown.</td></tr>
<tr><td>Error data</td><td>Error[]</td><td>Total size of the 5 Errors</td><td>Error contains the error code and its description. Length of a single Error is 6 + total description length. There must always be 5 Errors. Each error can have different length.</td></tr>
<tr><td>Warning count</td><td>Uint</td><td>2</td><td>Number of active warnings.  Note: Maximum of 5 custom descriptions will be shown.</td></tr>
<tr><td>Warning data</td><td>Warning[]</td><td>Total size of the 5 Warnings</td><td>Warning contains the warning code and its description. Length of a single Warning is 6 + total description length. There must always be 5 Warnings. Each error can have different length.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Error data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error code</td><td>Uint</td><td>4</td><td>The error code of the custom error</td></tr>
<tr><td>Total description length</td><td>Uint</td><td>1</td><td>The total length of &quot;Error description&quot;-data field. <br />Maximum value 255.</td></tr>
<tr><td>Used description length</td><td>Uint</td><td>1</td><td>The displayed length of the error description. Navitrol will display only this number of chars from the beginning of given &quot;Error description&quot;. <br />Maximum value 50.</td></tr>
<tr><td>Error description</td><td>Char[]</td><td>Number of chars</td><td>The error description as an ASCII char array.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Warning data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Warning code</td><td>Uint</td><td>4</td><td>The warning code of the custom warning</td></tr>
<tr><td>Total description length</td><td>Uint</td><td>1</td><td>The total length of &quot;Warning description&quot;-data field. <br />Maximum value 255.</td></tr>
<tr><td>Used description length</td><td>Uint</td><td>1</td><td>The displayed length of the warning description. Navitrol will display only this number of chars from the beginning of given &quot;Warning description&quot;. <br />Maximum value 50.</td></tr>
<tr><td>Warning description</td><td>Char[]</td><td>Number of chars</td><td>The warning description as an ASCII char array.</td></tr>
</tbody></table>
<hr />
<h5 id="4---inputs-section"><a class="header" href="#4---inputs-section">4 - Inputs section</a></h5>
<p>This section can be used to deliver custom data from the supervisor software to the MES software using virtual inputs. Dataflow: supervisor - Navitrol - Navithor - MES. Navitrol and Navithor will not use the data. A use case example. The supervisor system knows if the AGV has lights on or of and this information is needed in MES system for example for visualization. This section can be used to define that for example the binary input of index 0 means contains the light status. Then MES system can read the data from &quot;InputValues&quot;-message coming from Navithor.  See also &quot;Navithor Fleer Control - Communication specification between Navithor and MES&quot;-document. To use this section the value of <strong>use_virtual_io</strong>-parameter must be set to 1.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>12 + bin count * 1 + int count * 4 + float count * 4</td></tr>
<tr><td>Binary input count</td><td>Uint</td><td>2</td><td>The number of inputs given in &quot;Binary inputs&quot;-array. <br />Supported values 0 - 32</td></tr>
<tr><td>Binary inputs</td><td>Uint[]</td><td>1 * binary count</td><td>An array of binary values. <br />Supported values 0 and 1.</td></tr>
<tr><td>Integer input count</td><td>Uint</td><td>2</td><td>The number of inputs given in &quot;Integer inputs&quot;-array. <br />Supported values 0 - 32</td></tr>
<tr><td>Integer inputs</td><td>Int[]</td><td>4 * int count</td><td>An array of integer values.</td></tr>
<tr><td>Float input count</td><td>Uint</td><td>2</td><td>The number of inputs given in &quot;Float inputs&quot;-array. <br />Supported values 0 - 32</td></tr>
<tr><td>Float inputs</td><td>Float[]</td><td>4 * float count</td><td>An array of floating-point number values.</td></tr>
</tbody></table>
<hr />
<h5 id="5---safety-scanner-section"><a class="header" href="#5---safety-scanner-section">5 - Safety scanner section</a></h5>
<p>This section can be used to inform Navitrol about triggered safety scanner zones and Navitrol will slow or stop and show warnings based on them.</p>
<p>Use of this section must be enabled by setting <strong>supervisor_safety_scanner_enabled</strong>-parameter to value 1.</p>
<p>Disclaimer - Navitrol is not a safety software. There should always be a safety PLC directly connected to the safety scanners to prevent collisions.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>5</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Warning zone 2</td><td>Uint</td><td>2</td><td>0 - Inactive 1 - Active <br />When active Navitrol will set WARNING_SAFETY_SCANNER_WARNING_ZONE2 and if <strong>wallmon_scanner_zone_mode</strong>-parameter is larger than 0 perform <em>soft slow</em>,</td></tr>
<tr><td>Warning zone 1</td><td>Uint</td><td>2</td><td>0 - Inactive 1 - Active <br />When active Navitrol will set WARNING_SAFETY_SCANNER_WARNING_ZONE1 and if value of <strong>wallmon_scanner_zone_mode</strong>-parameter is 1 perform <em>soft stop</em> and if it is 2 perform <em>hard stop.</em></td></tr>
<tr><td>Protection zone</td><td>Uint</td><td>2</td><td>0 - Inactive 1 - Active <br />When active Navitrol will set WARNING_SAFETY_SCANNER_PROTECTION_ZONE and if <strong>wallmon_scanner_zone_mode</strong>-parameter is larger than 0 perform <em>hard stop</em>,</td></tr>
</tbody></table>
<hr />
<h5 id="6---remote-control-section"><a class="header" href="#6---remote-control-section">6 - Remote control section</a></h5>
<p>This section can be used to manually drive the AGV with joystick-like controls.</p>
<p>The joystick vector should be within the unit circle (radius 1). In other words, the square root of ( (Joystick x)^2 + (joystick y)^2) must be equal or less than 1.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
<tr><td>6.34.00</td><td>Joystick1 control mode: 2 - Vector control was added. <br />Steer type must be set (<em>Mid wheel steer</em> is recommended as default). <br />Speed can be scaled with <strong>supervisor_remote_ctrl_speed_scale_pct</strong>-parameter.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>6</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>28</td></tr>
<tr><td>Joystick1 control mode</td><td>Uint</td><td>2</td><td>Selects the joystick 1 control mode: <br />0 - <strong>No control</strong> <br />Joystick 1 x and y values are ignored. <br />1 - <strong>Old control</strong> <br /><ins>Not recommended</ins> <br />Navitrol activates <em>manual mode.</em> Curvature is calculated directly from joystick 1 x value and the speed from joystick 1 y value. <br />2 - <strong>Vector control</strong> <br /> <ins>Recommended</ins><br />Navitrol activates <em>manual mode.</em> A unit vector is calculated from joystick 1 xy-values. The speed comes from the length of the vector (Positive when y is positive) and the curvature from its angle from the Y-axis. </br> For example AGV drives forward and curves right when x and y are positive. </br> For more information, see &quot;Joystick System&quot; chapter from <a href="../../../CustomerUis/WebInterface/WebInterface-en.html">Web Interface</a> document</td></tr>
<tr><td>Joystick1 x</td><td>Float</td><td>4</td><td>Used for drive control. The behavior is defined by Joystick 1 control mode. <br />Valid values [-1...1]</td></tr>
<tr><td>Joystick1 y</td><td>Float</td><td>4</td><td>Used for drive control. The behavior is defined by Joystick 1 control mode. <br />Valid values [-1...1]</td></tr>
<tr><td>Joystick2 control mode</td><td>Uint</td><td>2</td><td>Selects the joystick 2 control mode: <br />0 - <strong>No control</strong> <br />Joystick 1 x and y values are ignored. <br />1 - <strong>Enable lift control</strong> <br />Navitrol activates <em>manual mode.</em></td></tr>
<tr><td>Joystick2 x</td><td>Float</td><td>4</td><td>0 - Not in use</td></tr>
<tr><td>Joystick2 y</td><td>Float</td><td>4</td><td>Lift actuator height reference control. <br />If the given y-value is larger than 0.1 actuator control is enabled. And the y-value is scaled with <strong>actuator_eth_ctrl_scale</strong>-parameter and added to the previous actuator reference. <br />The actuator reference can be controlled only between values of <strong>actuator_min_val</strong> and <strong>actuator_max_val</strong> parameters. <br />Valid values [-1...1]</td></tr>
<tr><td>Steer type selection</td><td>Uint</td><td>2</td><td>1 - <strong>Front wheel steer</strong> <br />Only for omni drives. Moves the navigation point to between the front wheels. With this steer type almost all turning control will be done by the rear wheels. <br />2 - <strong>Mid wheel steer</strong> <br />Normal driving. The normal navigation point is used. <br />3 - <strong>Rear wheel steer</strong> <br />Only for omni drives.  Moves the navigation point to between the rear wheels. With this steer type almost all turning control will be done by the front wheels. <br />5 - <strong>Pivot steer</strong> <br />Pivot curvature is always given, and supervisor can control only the speed up to maximum of <strong>pivot_speed</strong>-parameter. This mode should only be activated, if the AGV can pivot. <br />6 - <strong>Parallel steer forward</strong> <br /><ins>Only for omni drives.</ins> <br />The curvature in this mode is always zero. Instead of curvature supervisor controls the frame heading instead and speed. Wheels will rotate forward with positive speed reference. <br />7 - <strong>Parallel steer backward</strong> <br /><ins>Only for omni drives.</ins> <br />The curvature in this mode is always zero. Instead of curvature supervisor controls the frame heading instead and speed. Wheels will rotate backwards with positive speed reference.</td></tr>
</tbody></table>
<hr />
<h5 id="7---drive-control-section"><a class="header" href="#7---drive-control-section">7 - Drive control section</a></h5>
<p>This section can be used to disable Navitrol control from various sources.<br />
If a disabled source tries to control Navitrol WARNING_DRIVE_ORDER_DISABLED will be set.<br />
By default, Navitrol allows all control sources and just prioritizes them internally.</p>
<p>Note: Disabling a control source only prevents new drive orders. It does not affect the active drive order.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.14.00</td><td>Section added</td></tr>
<tr><td>6.42.00</td><td>When Web interface manual control is disabled, Web interface shows Manual not possible and all controls, other than Acknowledge Fatal Errors, are disabled. Warning WARNING_DRIVE_ORDER_DISABLED is not set in Navitrol in this case.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>7</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>8</td></tr>
<tr><td>Disable drive controls</td><td>Bitfield</td><td>2</td><td>Defines which drive control sources are disabled <br />1 - Disable. 0 - Enable.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Disable drive controls bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Supervisor - manual</td><td>0</td><td>Ethernet supervisor manual drive. <br />For example, controls from &quot;manual section&quot; and &quot;Remote control section&quot;</td></tr>
<tr><td>Supervisor - auto</td><td>1</td><td>Drive orders from ethernet supervisor <br />For example, orders using messages 3005, 3012, 3013...</td></tr>
<tr><td>Monitor - manual</td><td>2</td><td>Keyboard control from Navitrol monitor</td></tr>
<tr><td>Monitor - auto</td><td>3</td><td>All drive orders from Navitrol monitor</td></tr>
<tr><td>Web interface - manual</td><td>4</td><td><em>Web interface</em> control</td></tr>
<tr><td>Fleet control - auto</td><td>5</td><td>Fleet control drive orders</td></tr>
<tr><td>Backward drive</td><td>6</td><td>Triggers soft stop if trying to drive backwards</td></tr>
<tr><td>Forward drive</td><td>7</td><td>Triggers soft stop if trying to drive forwards</td></tr>
<tr><td>VDA 5050 - auto</td><td>8</td><td>VDA drive orders</td></tr>
<tr><td>Profinet supervisor</td><td>9</td><td>Any drive orders trough Profinet supervisor interface</td></tr>
<tr><td>Reserved</td><td>10-15</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="8---battery-section"><a class="header" href="#8---battery-section">8 - Battery section</a></h5>
<p>This section can be used for delivering battery information from supervisor to Navitrol. Other option would be to connect BMS (battery management system) directly to the IPC if the BMS model supported by Navitrol.</p>
<p>To use this section <strong>extbatt_if_type</strong>-parameter must be set to value 5. When in use Navitrol will set WARNING_AGV_NO_BATTERY_LEVEL, if it does not receive this section for more than value of <strong>extbatt_if_max_interval_ms</strong>-parameter.</p>
<p>If some of the data listed in this section is not available, constant &quot;Not available&quot; value must be sent instead.</p>
<p>See Navitrol battery management documentation for more information.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.22.03</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>8</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>30</td></tr>
<tr><td>State of charge</td><td>Uint</td><td>2</td><td>Battery state of charge percentage. <br />Valid values [0...100] <br />65535 - Not available <br />This will be used for determining the battery level if <strong>battery_percentage_from_mot_ctrl</strong>-parameter is set to 1.</td></tr>
<tr><td>Voltage</td><td>Uint</td><td>2</td><td>Battery voltage in 0.1 Volts.  <br />For example, 4.2V would be 42 <br />65535 - Not available <br />This will be used for determining the battery level if <strong>battery_percentage_from_mot_ctrl</strong>-parameter is set to 0.</td></tr>
<tr><td>Charge current / draw</td><td>Int</td><td>2</td><td>Charge current / current draw in 0.1 Amperes. <br />Negative values when battery is discharging and positive values when battery is being charged. <br />32767 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Energy draw</td><td>Int</td><td>2</td><td>Energy draw in 0.1 Ampere hours <br />Negative values when battery is discharging and positive values when battery is being charged. <br />32767 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Time remaining</td><td>Uint</td><td>2</td><td>Estimated time left in minutes until the battery is empty. <br />65535 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>State of health</td><td>Uint</td><td>2</td><td>Battery state of health percentage. Describes the overall state of the battery.  <br />Valid values [0...100] <br />65535 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Temperature</td><td>Int</td><td>2</td><td>Battery temperature in Celsius degrees. <br />32767 - Not available <br />Used to trigger WARNING_BATTERY_HIGH_TEMPERATURE if given temperature is larger than <strong>battery_high_temperature_warning_limit_C</strong> and ERROR_BATTERY_HIGH_TEMPERATURE if larger than <strong>battery_high_temperature_error_limit_C</strong></td></tr>
<tr><td>Load cycle count</td><td>Uint</td><td>2</td><td>Total number of load cycles performed for the battery. <br />65535 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Operating hours</td><td>Uint</td><td>2</td><td>Total number of operating hours of the battery. <br />65535 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Charger voltage</td><td>Uint</td><td>2</td><td>Voltage of the charger in 0.1 Volts. <br />65535 - Not available <br />Only for statistics - visible in Navitrol Monitor.</td></tr>
<tr><td>Error status</td><td>Bitfield</td><td>2</td><td>Error status information.  <br />If any of the errors marked with * are active Navitrol Monitor will view its description and Navitrol set WARNING_BATTERY_ERROR_OR_WARNING_ACTIVE <br />0 - Error inactive. 1 - Error active</td></tr>
<tr><td>Binary data</td><td>Bitfield</td><td>1</td><td>Battery related binary data and requests <br />0 - Inactive. 1 - Active</td></tr>
<tr><td>Reserved</td><td>NA</td><td>1</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Error status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Communication error</td><td>0</td><td>BMS has lost the communication to the battery. *</td></tr>
<tr><td>Configuration error</td><td>1</td><td>Battery has not been correctly configured. *</td></tr>
<tr><td>Undervoltage</td><td>2</td><td>Undervoltage detected.  Operating voltage is low. Prepare to charge or replace the battery. *</td></tr>
<tr><td>Overvoltage</td><td>3</td><td>Overvoltage detected.  Overvoltage is a sustained voltage that exceeds the normal steady state limits. *</td></tr>
<tr><td>Overcurrent</td><td>4</td><td>Overcurrent detected.  Might be caused by overloading or short circuiting the battery. *</td></tr>
<tr><td>Temperature error</td><td>5</td><td>The temperature of the battery is at unsafe levels. * In addition, Navitrol will set ERROR_BATTERY_HIGH_TEMPERATURE</td></tr>
<tr><td>Internal defect</td><td>6</td><td>The battery has a defect and might not work properly. *</td></tr>
<tr><td>Bad state of health</td><td>7</td><td>The battery is worn down in use. It might not fully charge anymore. *</td></tr>
<tr><td>Faulty charger</td><td>8</td><td>The charger connected to the battery is not working.  *</td></tr>
<tr><td>Faulty contactor</td><td>9</td><td>The contactor of the battery is not working.  *</td></tr>
<tr><td>Current sensor defect</td><td>10</td><td>The current sensor of the battery is not working.  *</td></tr>
<tr><td>Temperature sensor defect</td><td>11</td><td>The temperature sensor of the battery is not working. *</td></tr>
<tr><td>Battery cell drift</td><td>12</td><td>Two or more battery cells are in imbalance. Can lead to over-charging or over-discharging harming the battery. *</td></tr>
<tr><td>Charging error</td><td>13</td><td>Error while charging the battery *</td></tr>
<tr><td>Generic error</td><td>14</td><td>This can be used to indicate that there is some other battery related error that is not listed above. *</td></tr>
<tr><td>Reserved</td><td>15-17</td><td>0 - Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary data bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Request charge</td><td>0</td><td>This charge request info is show in <em>motor control messages</em> and in Navitrol battery status section if <strong>charging_cmd_source</strong>-parameter is set to 3. <br /><ins>No drive orders or other actions are made based on this.</ins></td></tr>
<tr><td>Charging active</td><td>1</td><td>Informs Navitrol that charging is active.  Navitrol will set <em>soft stop.</em></td></tr>
<tr><td>Reserved</td><td>2-7</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="9---sleep-mode-state-section"><a class="header" href="#9---sleep-mode-state-section">9 - Sleep mode state section</a></h5>
<p>This section is used to inform the sleep mode state to the fleet control.
With the sleep mode feature, the fleet control can request AGVs to save battery. The command can be received by requesting <a href="#20---sleep-mode-command-section">sleep mode command section in 3102 status message</a>.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.56.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>9</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>8</td></tr>
<tr><td>Sleep mode state</td><td>Uint</td><td>2</td><td>0 = Normal operation <br> 1 = AGV in sleep <br> 2 = AGV in deep sleep</td></tr>
</tbody></table>
<hr />
<h5 id="12---trailer-transport-section"><a class="header" href="#12---trailer-transport-section">12 - Trailer transport section</a></h5>
<p>This section contains trailer transport status data required to coordinate the trailer coupling and uncoupling sequences. See the feature documentation for more information.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>12</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>26</td></tr>
<tr><td>Trailer coupling status</td><td>Uint</td><td>2</td><td>During coupling to or uncoupling from a trailer Navitrol sends “Trailer coupling actions” in 3102:17 and expects the Supervisor to perform the requested actions and send matching coupling status to indicate that it is ready for a next step.<br />Values:<br />0 = Unknown<br />1 = Uncoupled (actuator down)<br />2 = Ready for coupling  (actuator at kingpin height – ready drive to kingpin)<br />3 = Ready for uncoupling (actuator at kingpin height, lock released – ready drive from kingpin)<br />4 = Kingpin detected (Only used when driving to kingpin during coupling)<br />5 = Coupled (actuator up / trailer locked)</td></tr>
<tr><td>Scanner telescope status</td><td>Uint</td><td>2</td><td>The status of scanner telescope, that is used for trailer angle detection and docking to trailer.<br />0 = Unknown – Navitrol will stop<br />1 = Adjusting – Navitrol will stop<br />2 = Locked – Navitrol will trust and use scanner measurements from the pallet detection scanner</td></tr>
<tr><td>Scanner Telescope Length</td><td>Uint</td><td>4</td><td>Distance from the kingpin point of the AGV to scanner location (in meters).</td></tr>
<tr><td>Reserved</td><td>NA</td><td>12</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3003---request-symbolic-point-data"><a class="header" href="#3003---request-symbolic-point-data">3003 - Request symbolic Point data</a></h4>
<p>This message can be used to request data of all <em>symbolic point</em>s currently loaded to Navitrol. Symbolic points that have no connected routes will not be sent. |</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3003</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3004---release-hold-to-custom-destination"><a class="header" href="#3004---release-hold-to-custom-destination">3004 - Release hold to custom destination</a></h4>
<p>This message can be used to release Navitrol from hold-point to a custom destination symbolic point with a <em>drive order</em>. Navitrol will not be released if an invalid destination is given or no route to the given destination is found.</p>
<p>Navitrol will respond with &quot;Release hold to custom destination result&quot;-message (3104).</p>
<p>Note: <ins>Hold-point is not the same as stop-and-hold point.</ins> This message does not function with stop-and-hold points. For that check messages 3011 and 3111.</p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3004</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>ID of the desired destination symbolic point.</td></tr>
</tbody></table>
<hr />
<h4 id="3005---go-to-destination"><a class="header" href="#3005---go-to-destination">3005 - Go to destination</a></h4>
<p>This message can be used to create a <em>drive order</em> to the given symbolic point. The drive order to succeed:</p>
<ul>
<li>The given symbolic point must be defined
<ul>
<li>Defined destinations are listed in message &quot;Symbolic point data result&quot; 3103</li>
</ul>
</li>
<li>A suitable path to reach it must exist.</li>
<li>AGV must be on <em>stanby state</em></li>
<li>AGV has no active errors</li>
<li>Active drive control system
<ul>
<li>Either Standalone system with valid licenses</li>
<li>Or Navithor system with active connection</li>
</ul>
</li>
</ul>
<p>When Navitrol receives this message:</p>
<ul>
<li>In a standalone system Navitrol will try to find a path to the given symbolic point and drive there.</li>
<li>In a Navithor system Navitrol will forward the <em>production request</em> to Navithor. Navithor then creates the drive command.</li>
</ul>
<p>Navitrol will respond with &quot;Go to destination result&quot;-message (3105).</p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
<tr><td>6.42.00</td><td>In standalone systems the message can now be sent during a drive to change destination when <strong>route_driver_dest_update_enabled</strong>-parameter is set</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3005</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>ID of the desired destination symbolic point.</td></tr>
</tbody></table>
<hr />
<h4 id="3006---pause-drive"><a class="header" href="#3006---pause-drive">3006 - Pause drive</a></h4>
<p>This message can be used to pause the ongoing <em>drive order</em>. When pause is received Navitrol will keep the given destination, perform a <em>soft stop</em> and enter <em>pause state.</em> The paused drive can be resumed by sending &quot;Resume drive&quot;-message (3007). The information if Navitrol is paused can be seen in the default section of &quot;Navitrol status&quot;-message (3002).</p>
<p>Pause is released also if drive is aborted, in this case the paused drive order is discarded, and the drive will not continue.</p>
<p>In Navithor systems a <em>production request</em> is created.</p>
<p>Navitrol will respond with &quot;Pause drive result&quot;-message (3106).</p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3006</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3007---resume-drive"><a class="header" href="#3007---resume-drive">3007 - Resume drive</a></h4>
<p>This message can be used to resume a paused <em>drive order</em>.</p>
<p>The command will be rejected, if Navitrol is not in <em>pause state</em>.</p>
<p>In Navithor systems a <em>production request</em> is created and the AGV is taken into production.</p>
<p>Navitrol will respond with &quot;Resume drive result&quot;-message (3107).</p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3007</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3008---abort-drive"><a class="header" href="#3008---abort-drive">3008 - Abort drive</a></h4>
<p>This message can be used to abort an active <em>drive order</em> or discard a paused one.</p>
<p>When the command is received Navitrol will enter <em>standby state</em>.</p>
<p>In Navithor systems a <em>production request</em> is created, and the machine will be taken out of production. The production order will not be cleared the if the AGV is taken back to production it Navithor will create a new drive order based on it. Navitrol will respond with &quot;Drive aborted&quot;-message (3108).</p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3008</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3010---clear-production"><a class="header" href="#3010---clear-production">3010 - Clear production</a></h4>
<p>This message can be used to clear production orders for the AGV from Navithor fleet control system.</p>
<p>Navitrol will forward this <em>production request</em> to Navithor which will handle the clearing of production orders - <ins>This message can only be used with Navithor systems.</ins></p>
<p><ins>Navitrol will not respond to this message.</ins></p>
<p><strong>Navithor supports this message from version 1.8.9.5 forwards.</strong></p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3010</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3011---release-stop-and-hold"><a class="header" href="#3011---release-stop-and-hold">3011 - Release stop-and-hold</a></h4>
<p>This message can be used to release the AGV from a stop-and-hold position it had stopped for example to wait for a door to open. See <a href="../../../DriveControl/StopAndHold/StopAndHold-en.html">Stop-and-hold</a> document for more details.</p>
<p>To use this message <strong>stop_and_hold_mode</strong>-parameter must be set to value 3.</p>
<p>Navitrol will respond with &quot;Stop hold released&quot;-message (3111).</p>
<p>Note: <ins>Stop-and-hold point is not the same as hold-point.</ins> This message does not cannot be used to release the AGV from a <em>hold state.</em> For that check messages 3001 and 3101.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3011</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3012---go-to-destination-with-route-offset"><a class="header" href="#3012---go-to-destination-with-route-offset">3012 - Go to destination with route offset</a></h4>
<p>This message can be used to create a drive order to a symbolic point with offset to the route and to the stopping point.</p>
<p><ins>See &quot;Drive order with offsets&quot; under &quot;Feature descriptions&quot;-chapter before using this message.</ins></p>
<p>Note: This message equals &quot;Go to destination&quot;-message (3005) with zero offsets. See drive preconditions from there.</p>
<p>In Navithor systems a <em>production request</em> is created.</p>
<p>Navitrol will respond with &quot;Go to destination with route offset result&quot;-message (3112).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.15.00</td><td>Message added</td></tr>
<tr><td>6.30.00</td><td><strong>drive_offset_enable_speed_ramp</strong>-parameter was added to enable improved speed ramps when stopping with an offset. When using this message, it is recommended to put value of this parameter to 1.</td></tr>
<tr><td>6.42.00</td><td>In standalone systems <strong>route_driver_dest_update_enabled</strong>-parameter was added to enable changing the destination without stopping.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3012</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>24</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>The ID of destination <em>symbolic point</em></td></tr>
<tr><td>Transversal drive offset</td><td>Float</td><td>4</td><td>Transversal offset to the route (in meters) for the drive. <br />Positive value to the left of the route <br />0 - No offset.</td></tr>
<tr><td>Longitudinal stopping offset</td><td>Float</td><td>4</td><td>Longitudinal offset (in meters) that is calculated from the location of the destination symbolic point.  <br />Positive value for driving past the end point. 0 - No offset.</td></tr>
<tr><td>Frame heading drive offset</td><td>Float</td><td>4</td><td>Frame heading offset for the whole drive. <br /><ins>Applied only for <em>omnidirectional AGV</em>s.</ins> <br />Positive value counterclockwise from the route vehicle heading. <br />0 - No offset.</td></tr>
</tbody></table>
<hr />
<h4 id="3013---go-to-destination-with-order-id"><a class="header" href="#3013---go-to-destination-with-order-id">3013 - Go to destination with order ID</a></h4>
<p>This message is the same as &quot;Go to destination with route offset&quot;-message (3012) but with an added &quot;drive order ID&quot; information. Standalone systems can use this message but there is no added benefit compared to message 3012 as the drive order ID is not used.</p>
<p><ins>See &quot;Drive order with offsets&quot; under &quot;Feature descriptions&quot;-chapter before using this message.</ins></p>
<p>See drive order preconditions from &quot;Go to destination&quot;-message (3005).</p>
<p>Drive order ID information can be used to for supervisor to track the given <em>drive orders</em>.</p>
<p>When the supervisor gives a drive order with order ID added, Navitrol creates a <em>production order</em> with the ID to Navithor. Navithor attaches this ID to the generated production order and reports it to Navitrol. Navitrol then forwards the information back to supervisor. In this way the supervisor can follow the status of an active drive order.</p>
<p>Navitrol will respond with &quot;Go to destination with order ID result&quot;-message (3113).  Additionally, Navitrol will enable automatic sending of &quot;Production order status update&quot;-message (3115). That message is sent every time Navithor changes the production status of the AGV and can be used to monitor which one of the given drive order IDs is currently active. The automatic sending can be controlled with &quot;Control production order status updates&quot;-message (3014).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Message added</td></tr>
<tr><td>6.30.00</td><td><strong>drive_offset_enable_speed_ramp</strong>-parameter was added to enable improved speed ramps when stopping with an offset. When using this message, it is recommended to put value of this parameter to 1.</td></tr>
<tr><td>6.42.00</td><td>In standalone systems <strong>route_driver_dest_update_enabled</strong>-parameter was added to enable changing the destination without stopping.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3013</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>28</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>The ID of destination <em>symbolic point</em></td></tr>
<tr><td>Transversal drive offset</td><td>Float</td><td>4</td><td>Transversal offset to the route (in meters) for the drive. <br />Positive value to the left of the route <br />0 - No offset.</td></tr>
<tr><td>Longitudinal stopping offset</td><td>Float</td><td>4</td><td>Longitudinal offset (in meters) that is calculated from the location of the destination symbolic point.  <br />Positive value for driving past the end point. <br />0 - No offset.</td></tr>
<tr><td>Frame heading drive offset</td><td>Float</td><td>4</td><td>Frame heading offset for the whole drive. <br /><ins>Applied only for <em>omnidirectional AGV</em>s.</ins> <br />Positive value counterclockwise from the route vehicle heading. <br />0 - No offset.</td></tr>
<tr><td>Drive order ID</td><td>Uint</td><td>4</td><td>Identification number of the drive order. ID Can be freely chosen. <br />If same ID is sent consecutively more than once within a second, the duplicate request will be rejected.</td></tr>
</tbody></table>
<hr />
<h4 id="3014---control-production-order-status-updates"><a class="header" href="#3014---control-production-order-status-updates">3014 - Control production order status updates</a></h4>
<p>This message can be used to activate or deactivate the automatic sending of &quot;Production order status update&quot;-message (3115) that provides information of active Navithor production orders.</p>
<p>Note: Requesting status once option does not affect the active sending on update mode.</p>
<p><ins>This message can only be used with Navithor systems.</ins></p>
<p>Navitrol will respond with the &quot;Control production order status updates response&quot;-message (3114).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Message added</td></tr>
<tr><td>6.42.00</td><td>Added request current status once option</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3014</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Control command</td><td>Uint</td><td>2</td><td>0 – Deactivate sending on update<br />1 – Activate sending on update<br />2 – Request current status once<br />Note: This will not affect sending on update</td></tr>
</tbody></table>
<hr />
<h4 id="3015---resume-drive-from-base-station"><a class="header" href="#3015---resume-drive-from-base-station">3015 - Resume drive from base station</a></h4>
<p>This message can be used to request a return to where the mission was aborted with 3033 (Abort drive with data) to return to base station.</p>
<p>In Navithor systems a <em>production request</em> is created, if Navithor is not connected this request does nothing.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.52.0</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3008</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3021---start-new-external-drive"><a class="header" href="#3021---start-new-external-drive">3021 - Start new external drive</a></h4>
<p><ins>This message will work only with <em>external fleet control</em> systems</ins> - the external fleet control must be enabled by setting <strong>fleet_control_type</strong>-parameter to value 2.</p>
<p><ins>See the &quot;Supervisor fleet control&quot; under the &quot;Feature descriptions&quot;-chapter.</ins></p>
<p>This message can be used to start new drive by providing a drive trajectory. To start a new drive Navitrol must be on <em>standby state,</em> if you would like to extend the current drive see message 3022.</p>
<p>Navitrol will respond with the &quot;Start external drive result&quot;-message (3121).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3021</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16 + 20 * NTP</td></tr>
<tr><td>Trajectory type</td><td>Uint</td><td>2</td><td>Trajectory type defines the data in trajectory point array. Currently only one option: <br />1 - Trajectory point data</td></tr>
<tr><td>Number of trajectory points</td><td>Uint</td><td>4</td><td>The number of trajectory points (NTP) in the drive order. The length of the trajectory array given. <br />Valid values [2...400]</td></tr>
<tr><td>Trajectory point data</td><td>Trajectory point[]</td><td>20 * NTP</td><td>An array of trajectory points</td></tr>
<tr><td>Speed scale</td><td>Uint</td><td>2</td><td>A percentage for scaling down all the speed values given in the trajectory point array. <br />Valid values [0...100]</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Trajectory point data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>X-coordinate</td><td>Float</td><td>4</td><td>The X-map coordinate of the trajectory point in meters.</td></tr>
<tr><td>Y-coordinate</td><td>Float</td><td>4</td><td>The Y-map coordinate of the trajectory point in meters.</td></tr>
<tr><td>Frame heading</td><td>Float</td><td>4</td><td>The target frame heading of the AGV (in <em>map coordinate frame</em>) on the trajectory point in radians. <br />By default, the frame heading equals to the route heading. <br /><ins>Applied only for <em>omnidirectional AGVs</em></ins> when &quot;omni heading&quot;-point attribute has been enabled. <br />Valid values [-Pi...Pi]</td></tr>
<tr><td>Speed</td><td>Float</td><td>4</td><td>The target speed of the AGV on the trajectory point in meters per second. <br />Note: The speed of the AGV is limited by the given trajectory point speed (after the given &quot;speed scale&quot; has been applied) and <strong>mot_ctrl_max_wheel_v_fw</strong> and <strong>mot_ctrl_max_wheel_v_bw</strong> parameters, whichever is the most limiting.</td></tr>
<tr><td>Point attributes</td><td>Bitfield</td><td>4</td><td>The attributes of the trajectory point <br />0 - Disabled. 1 - Enabled.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Point attributes bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Pivot point</td><td>1</td><td>When Navitrol enters trajectory point with a pivot point attribute enabled pivot will be started. <br />Only the first and the last point of the trajectory can have this attribute enabled.</td></tr>
<tr><td>Omni heading</td><td>2</td><td>When enabled the given trajectory point &quot;frame heading&quot; data field is used.</td></tr>
<tr><td>Reserved</td><td>2-31</td><td>0 - Not in use.</td></tr>
</tbody></table>
<hr />
<h4 id="3022---extend-external-drive"><a class="header" href="#3022---extend-external-drive">3022 - Extend external drive</a></h4>
<p><ins>This message will work only with <em>external fleet control</em> systems</ins> - the external fleet control must be enabled by setting <strong>fleet_control_type</strong>-parameter to value 2.</p>
<p><ins>See the &quot;Supervisor fleet control&quot; under the &quot;Feature descriptions&quot;-chapter.</ins></p>
<p>This message can be used to extend current drive. Drive extensions are expected to overlap with previous drive/extension, so that the first point of the new extension has the same coordinates as the last point of the previous order/extension.</p>
<p>To extend a drive Navitrol must be on <em>auto state,</em> if you would like to start a new drive see message 3021.</p>
<p>Navitrol will respond with the &quot;Extend external drive result&quot;-message (3122).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3022</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16 + 20 * NTP</td></tr>
<tr><td>Trajectory type</td><td>Uint</td><td>2</td><td>Trajectory type defines the data in trajectory point array. Currently only one option: <br />1 -Trajectory point data</td></tr>
<tr><td>Number of trajectory points</td><td>Uint</td><td>4</td><td>The number of trajectory points (NTP) in the drive order. The length of the trajectory array given. <br />Valid values [2...400]</td></tr>
<tr><td>Trajectory point data</td><td>Trajectory point[]</td><td>20 * NTP</td><td>An array of trajectory points <br /><ins>See message 3021 for the trajectory point array definition.</ins></td></tr>
<tr><td>Speed scale</td><td>Uint</td><td>2</td><td>A percentage for scaling down all the speed values given in the trajectory point array. <br />Valid values [0...100]</td></tr>
</tbody></table>
<hr />
<h4 id="3023---set-speed-limit"><a class="header" href="#3023---set-speed-limit">3023 - Set speed limit</a></h4>
<p>This message can be used to set the maximum speed limit or releasing previously given one. Navitrol will limit the reference speed to the given value or to the values of <strong>mot_ctrl_max_wheel_v_fw</strong> and <strong>mot_ctrl_max_wheel_v_bw</strong> parameters, whichever is the most limiting.</p>
<p>It has been used, for example, lowering the speed based on scanner warning zones.</p>
<p>This limit can be requested in any Navitrol state but will be active only in <em>auto</em> and <em>manual state</em>s. By default, when Navitrol goes to <em>standby state</em> the given speed limit will be cleared. This behavior can be disable by setting the value of <strong>supervisor_speedlimit_clear_on_standby</strong>-parameter to 0.</p>
<p>Navitrol will respond with the &quot;Set speed limit result&quot;-message (3123).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added (only for <em>external fleet control</em> systems)</td></tr>
<tr><td>6.28.00</td><td>Message can be used with any Navitrol control system</td></tr>
<tr><td>6.30.00</td><td>Added option to not clear the given speed limit when entering <em>standby state</em> with <strong>supervisor_speedlimit_clear_on_standby</strong>-parameter.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3023</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>14</td></tr>
<tr><td>Release / Set limit</td><td>Uint</td><td>2</td><td>Defines if a new speed limit should be set or an existing released: <br />0 - <strong>Release</strong> <br />Navitrol will use normal speed limits - usually the ones defined with <strong>mot_ctrl_max_wheel_v_fw</strong> and <strong>mot_ctrl_max_wheel_v_bw</strong> parameters. <br />1 - <strong>Set</strong>  <br />Navitrol will set the limit given in &quot;Speed limit&quot;-data field.</td></tr>
<tr><td>Speed limit</td><td>Float</td><td>4</td><td>The maximum speed for the AGV in meters per second. An absolute value that will be applied to all driving directions. Valid values [0...1000m/s] (Values over <strong>mot_ctrl_max_wheel_v</strong>...-parameters will have no effect.) <br />Ignored when releasing.</td></tr>
</tbody></table>
<hr />
<h4 id="3024---return-to-route"><a class="header" href="#3024---return-to-route">3024 - Return to route</a></h4>
<p>This message can be used to activate the &quot;return to route&quot;-feature of Navitrol. Return to route can be used when AGV is not on a defined route. The feature attempts to find the most optimal return path to any nearby route and automatically drive the AGV there.</p>
<p>To activate the &quot;return to route&quot;-feature Navitrol must be in <em>standby state.</em></p>
<p><ins>Before using this message, it is recommended to read the feature documentation and adjust related parameters.</ins></p>
<p>Tip: To determine if the AGV is on the route, the &quot;On route&quot;-data field of &quot;General section&quot; of &quot;Navitrol status&quot;-message (3102) can be used.</p>
<p>Navitrol will respond with the &quot;Return to route result&quot;-message (3124).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.15.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3024</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3028---set-custom-speed-array"><a class="header" href="#3028---set-custom-speed-array">3028 - Set custom speed array</a></h4>
<p>This message can be used to select a predefined custom array of speed and acceleration related parameters.</p>
<p>Up to 10 different speed settings can be defined with following array parameters:</p>
<ul>
<li><strong>mot_ctrl_max_wheel_v_fw_arr</strong>[] - Maximum speed limit forwards (m/s)</li>
<li><strong>mot_ctrl_max_wheel_v_bw_arr</strong>[] - Maximum speed limit backwards (m/s)</li>
<li><strong>mot_ctrl_max_wheel_acc_arr</strong>[] - Maximum acceleration rate (m/s^2)</li>
<li><strong>mot_ctrl_max_wheel_dec_arr</strong>[] - Maximum deceleration rate (m/s^2)</li>
<li><strong>max_turn_rate_deg_p_s_arr</strong>[] - Maximum turning rate of the AGV (deg/s)</li>
<li><strong>mot_ctrl_max_steer_rate_deg_p_s_arr</strong>[] - Maximum steer rate of a single wheel (deg/s)</li>
</ul>
<p>By default, and when released, the default versions of these parameters are used. The default parameters have the same names without the &quot;*_arr**[]&quot;-post fix.</p>
<p>Note: There is no need to define all these parameters in the params.txt file. For example, if one wants to only change the acceleration and deceleration, they can add only the related two array parameters and for the other ones, the values of the default parameters are used.</p>
<p>Note: The index of currently active speed array parameters can be requested with message 3052.</p>
<p>Navitrol will respond with the &quot;Select custom speed array result&quot;-message (3128).</p>
<p>Tip: If you want to only limit the speed, see message 3023.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3028</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Release / Set array</td><td>Uint</td><td>2</td><td>Defines if a new custom speed array should be selected or a previously selected one released: <br />0 - <strong>Release</strong><br /> Navitrol will use the default versions of the custom speed parameters.  <br />1 - <strong>Set</strong> <br />Navitrol will activate a set of custom speed array parameters defined by the index given in &quot;Parameter array index&quot;-data field.</td></tr>
<tr><td>Parameter array index</td><td>Uint</td><td>2</td><td>Defines the parameter array index to be selected/activated.  <br />If a parameter array of given index is not found from params.txt, the previous array will be released. <br />Valid values [0...9] <br />Ignored when releasing.</td></tr>
</tbody></table>
<hr />
<h4 id="3031---give-segment-drive-order"><a class="header" href="#3031---give-segment-drive-order">3031 - Give segment drive order</a></h4>
<p>This message can be used to drive to a xy-coordinates rather than a symbolic point using the exact path determined by the supervisor. Using this message requires a license for the standalone system and cannot be used with Navithor systems.</p>
<p><ins>See &quot;Drive order with offsets&quot; under &quot;Feature descriptions&quot;-chapter before using this message.</ins></p>
<p>To use this message supervisor must use the same <em>segment file</em> that Navitrol is using and use the route segments read from it to generate drive orders for Navitrol.</p>
<p>Requirements for segment drive order:</p>
<ul>
<li>The consecutive segments must be connected to each other.</li>
<li>The x and y end coordinates must be located on the last given segment.</li>
<li>When starting a drive, the AGV must be located on the first given segment.</li>
<li>When extending a drive, the first given segment must be the same as the last of the previous one and the AGV must not have passed the segment.</li>
</ul>
<p>Navitrol will respond with the &quot;Give segment drive order&quot;-message (3131).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
<tr><td>6.30.00</td><td><strong>drive_offset_enable_speed_ramp</strong>-parameter was added to enable improved speed ramps when stopping with an offset. When using this message, it is recommended to put value of this parameter to 1.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3031</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>34 + NS * 2</td></tr>
<tr><td>Number of segments</td><td>Uint</td><td>2</td><td>Number of given segments (NS). <br />Valid values [1...50]</td></tr>
<tr><td>Segment IDs</td><td>Uint[]</td><td>2 * NS</td><td>Segment ID array in order from first to last. <br />The consecutive segments must be linked to each other.</td></tr>
<tr><td>End point X</td><td>Float</td><td>4</td><td>The x map coordinate of the end point of the drive, in meters.</td></tr>
<tr><td>End point Y</td><td>Float</td><td>4</td><td>The x map coordinate of the end point of the drive, in meters.</td></tr>
<tr><td>Transversal offset</td><td>Float</td><td>4</td><td>Transversal offset to the route (in meters) for the drive. <br />Positive value to the left of the route <br />0 - No offset.</td></tr>
<tr><td>Longitudinal offset</td><td>Float</td><td>4</td><td>Longitudinal offset (in meters) that is calculated from the location of the destination point.  <br />Positive value for driving past the end point. <br />0 - No offset.</td></tr>
<tr><td>Frame heading offset</td><td>Float</td><td>4</td><td>Frame heading offset for the whole drive. <br /><ins>Applied only for <em>omnidirectional AGV</em>s.</ins> <br />Positive value counterclockwise from the route vehicle heading. <br />0 - No offset.</td></tr>
<tr><td>Drive order type</td><td>Uint</td><td>2</td><td>The type of drive order: <br />0 - <strong>Start new drive</strong><br /> Navitrol must be on <em>standby state</em> <br />1 - <strong>Extend drive</strong> <br />Navitrol must be on <em>auto state.</em></td></tr>
<tr><td>Reserved</td><td>NA</td><td>2</td><td>0 - Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3032---set-target-detection-mode"><a class="header" href="#3032---set-target-detection-mode">3032 - Set target detection mode</a></h4>
<p>Pallet finding, reflector docking and pattern detection can be separately activated using this message. Note that only one target detection mode can be active at any given time - setting a new detection mode will be ignored if the previous detection mode has already found a target but has not reached it yet.</p>
<p>Navitrol will sent message 3132 as a response to this message telling if setting the new target detection mode was successful.</p>
<p>Parameter target_detection_type_selection must be set to value 5</p>
<p>Following parameters will be overridden when using this message:</p>
<ul>
<li>target_detection_type_selection</li>
<li>refl_det_version</li>
<li>refl_det_refl_width</li>
<li>refl_det_refl_dist_pattern[0-6]</li>
<li>refl_det_num_of_reflectors</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3032</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 48</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Target detection mode to set</td><td>Uint</td><td>2</td><td>0 = Disable target detection <br />1 = Activate reflector docking <br />2 = Activate pallet detection (v2) <br />3 = Activate pattern detection <br />Note: Pallet detection can be used for both pallets and tables</td></tr>
<tr><td>Pallet(s) to detect</td><td>Bitfield 32</td><td>4</td><td><strong>Pallet detection:</strong>  <br />All targets are always searched but if the found target does not match the ones specified here Navitrol will stop and set an error. B<br />its [0...4] set to index to 1 to accept target or 0 to set an error if found.  The indexes match targets defined in params.txt [0 - 4] <br /><em>See pallet detection document for parameter definition instructions</em> <br />Bits [5...31]: reserved for future <br />Tip: Uint value 0xFFFFFFFF (or 4294967295 in decimal) will enable all targets. <br /><strong>Reflector docking and Pattern detection:</strong> <br />Value read but not used</td></tr>
<tr><td>Number of reflectors</td><td>Uint</td><td>2</td><td><strong>Reflector docking:</strong> <br />Defines the number of reflectors used in reflector docking Supported amounts: <br />2 = Two reflectors <br />4 = Four reflectors <br />Overrides parameter: refl_det_num_of_reflectors <br /><strong>Pallet detection and Pattern detection:</strong> Value read but not used</td></tr>
<tr><td>Reflector width</td><td>Uint</td><td>2</td><td><strong>Reflector docking and pattern detection:</strong> <br />Defines the width of the used reflectors in millimeters Overrides parameter: refl_det_refl_width  <br /><strong>Pallet detection:</strong> <br />Value read but not used</td></tr>
<tr><td>PatternDetReflDist[0]</td><td>Uint</td><td>2</td><td><strong>Pattern detection:</strong> <br />Distances (millimeter) between reflectors in pattern measured from center to center of the reflectors. The array should contain distances from leftmost [0] to rightmost [6]<br /> Note: All 7 does not need to be defined (value &gt; 0), but the ones that are, must be defined in order.  <br />Overrides parameter: refl_det_refl_dist_pattern[0]  <br /><strong>Pallet detection and reflector docking:</strong> <br />Value read but not used</td></tr>
<tr><td>PatternDetReflDist[1]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. <br />Overrides parameter: refl_det_refl_dist_pattern[1]</td></tr>
<tr><td>PatternDetReflDist[2]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. <br />Overrides parameter:  refl_det_refl_dist_pattern[2]</td></tr>
<tr><td>PatternDetReflDist[3]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. <br />Overrides parameter:  refl_det_refl_dist_pattern[3]</td></tr>
<tr><td>PatternDetReflDist[4]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. <br />Overrides parameter:  refl_det_refl_dist_pattern[4]</td></tr>
<tr><td>PatternDetReflDist[5]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. <br />Overrides parameter:  refl_det_refl_dist_pattern[5]</td></tr>
<tr><td>PatternDetReflDist[6]</td><td>Uint</td><td>2</td><td>See PatternDetReflDist[0] for description. Overrides parameter:  refl_det_refl_dist_pattern[6]</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3033---abort-drive-with-data"><a class="header" href="#3033---abort-drive-with-data">3033 - Abort Drive with Data</a></h4>
<p>This message can be used if the drive abort has some data to be sent along with it. In case a drive needs to be aborted while setting the current production order as completed, this message has to be sent with status/control bitfield's bit 0 as 1.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3033</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 14</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Status/control</td><td>Bitfield</td><td>2</td><td></td></tr>
<tr><td>Reserved</td><td>Uint</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Drive order completed</td><td>0</td><td>1 = End current drive order while setting it as 'completed' in Navithor <br />0 = End current drive order without setting the current drive order to be completed</td></tr>
<tr><td>Return to base</td><td>1</td><td>1 =  Request to return to base station, doesn't actually abort the drive in Navitrol, but Navithor should soon do it <br />0 = Do not request drive to base station</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3034---pgv-data-request"><a class="header" href="#3034---pgv-data-request">3034 - PGV Data Request</a></h4>
<p>Supervisor sends this message to Navitrol to initiate sending of PGV Data Response message (3134). This message needs to be only sent once for starting or for stopping data flow.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3034</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 10</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Request data</td><td>Uint</td><td>2</td><td>0 = Stop request 1 = Start request</td></tr>
</tbody></table>
<hr />
<h4 id="3035---external-target-detection"><a class="header" href="#3035---external-target-detection">3035 - External target detection</a></h4>
<p>Navitrol gets x, y, height and angle difference of a target from a Supervisor target detection sensor. In addition, target locked / target detected information is sent to Navitrol. Supervisor will send Navitrol error code as well.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3035</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 38</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Target X difference from sensor</td><td>Float</td><td>4</td><td>X is the centre line of the detection sensor view</td></tr>
<tr><td>Target Y difference from sensor</td><td>Float</td><td>4</td><td>Y to the left from sensor X-axis</td></tr>
<tr><td>Target Z difference from camera/scanner</td><td>Float</td><td>4</td><td>Z is in vertical direction. Positive direction upwards. <br />Value forced to 0</td></tr>
<tr><td>Target angle difference between sensor heading and target heading</td><td>Float</td><td>4</td><td>0 along sensor X-axis, positive in CCW direction</td></tr>
<tr><td>Target found</td><td>Uint</td><td>2</td><td>0 = target not found <br />1 = target found</td></tr>
<tr><td>Error code</td><td>Uint</td><td>4</td><td>Device error code number <br />Value 0 = no errors</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3036---coupled-drive-coupling-command"><a class="header" href="#3036---coupled-drive-coupling-command">3036 - Coupled drive: coupling command</a></h4>
<p>This message can be used to initialize coupled drive. Changing Navitrol state from STANDBY to COUPLED to prepare the coupling.</p>
<p>The leader sends the coupling reply message (3136) with the <strong>Coupling result</strong> &gt; 0 if coupling is not possible due to wrong state, bad ID, or other immediate reasons. Else the <strong>Coupling result</strong> is 0 (Coupling started) and the leader switches to coupled state. The Communication ok will be set to false in the coupled drive status message until the communication is established.</p>
<p>If communication OK is not set within a timeout the supervisor must send a decoupling command. This can only be done at loading stations, as the new coupling command will reset the initial formation data. If the communication is lost during a drive, the coupling shall remain while the communication is corrected.</p>
<p><strong>Rules of using this message</strong>:</p>
<ol>
<li>
<p>It must be sent to all AGVs that will be coupled</p>
</li>
<li>
<p>It must be sent to followers first and last to the leader</p>
</li>
<li>
<p>The receiving Navitrol must be in STANDBY state - Otherwise the message is rejected.</p>
</li>
<li>
<p>The coupling data of each AGV is an array of size 64 and must be defined in the following order:</p>
<ol>
<li>Leader</li>
<li>Follower 1</li>
<li>Follower 2</li>
<li>Follower 3</li>
</ol>
</li>
<li>
<p>The message is of variable length. Connection data is only sent to the AGVs in the coupling.</p>
<ul>
<li>Follower: Message length = 10
<ul>
<li>Includes only header and &quot;coupling mode&quot; data fields</li>
</ul>
</li>
<li>Leader: Message length = 44 + N * 64
<ul>
<li>Includes all data fields</li>
<li>N = &quot;Number of AGVs&quot;</li>
</ul>
</li>
</ul>
</li>
</ol>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3036</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length for:  <br />Leader =  44 + N * 64 = 172 or 236 <br />Follower = 10</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)  <br />N = &quot;Number of AGVs&quot;</td></tr>
<tr><td>Coupling mode</td><td>Uint</td><td>2</td><td>Chooses Coupling mode <br />1 = leader <br />2 = follower</td></tr>
<tr><td>-</td><td>-</td><td>-</td><td>Follower data ends here</td></tr>
<tr><td>Number of AGVs  = N</td><td>Uint</td><td>2</td><td>Number of AGVs in coupling <br />Minimum of 2 (1 leader, 1 follower) <br />Maximum of 3 (1 leader, 2 followers)</td></tr>
<tr><td>AGV coupling data[N]</td><td>Array of AGV coupling data</td><td>Variable: N * structure size (64)</td><td>Coupling data structs according to Number of AGVs in coupling</td></tr>
<tr><td>Load dimension front</td><td>Float</td><td>4</td><td><em>Load dimensions are used to define the size and navigation point of the coupled formation</em> <br />The front dimension of the load.  <br />Measured from the navigation point in meters. (Positive x-direction) <br />Valid range: [0.01, 1000]</td></tr>
<tr><td>Load dimension rear</td><td>Float</td><td>4</td><td>The rear dimension of the load. <br />Measured from the navigation point in meters. (Negative x-direction) <br />Valid range: [-1000, 0.01]</td></tr>
<tr><td>Load dimension left</td><td>Float</td><td>4</td><td>The left dimension of the load.<br /> Measured from the navigation point in meters. (Positive y-direction) <br />Valid range: [0.01, 1000]</td></tr>
<tr><td>Load dimension right</td><td>Float</td><td>4</td><td>The right dimension of the load. Measured from the navigation point in meters. (Negative x-direction) <br />Valid range: [-1000, 0.01]</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>AGV coupling data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>IP address</td><td>char[46]</td><td>46</td><td>The IP address is defined as null terminated string ( = char array ending with value 0) <br />Supports IPv4 and IPv6</td></tr>
<tr><td>Machine ID</td><td>Uint</td><td>2</td><td>Machine ID of the AGV Should match the machine ID defined in the params.txt of given AGV <br />Minimum = 1</td></tr>
<tr><td>X-position</td><td>Float</td><td>4</td><td>X-position of AGV relative to center point of the load  <br />Valid range: [-1000, 1000]</td></tr>
<tr><td>Y-position</td><td>Float</td><td>4</td><td>Y-position of AGV relative to center point of the load <br />Valid range: [-1000, 1000]</td></tr>
<tr><td>Heading</td><td>Float</td><td>4</td><td>Heading of the AGV relative to load heading (degrees) <br />Valid range: [-360, 360]</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3037---coupled-drive-decoupling-command"><a class="header" href="#3037---coupled-drive-decoupling-command">3037 - Coupled drive: decoupling command</a></h4>
<p>This message is used to decouple Navitrol from the coupled drive formation.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3037</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
</tbody></table>
<hr />
<h4 id="3038---request-drive-ready"><a class="header" href="#3038---request-drive-ready">3038 - Request drive ready</a></h4>
<p>The AGV supervisor can request Navitrol to set drive ready. It is possible to send the request either as generic case, or specifically for docking and buffer lanes. If sent as the generic drive ready request, Navitrol will stop anywhere and signal that drive is ready. If sent for specific cases, drive is set to ready if docking is active and it is requested to stop or AGV is on the buffer area and buffer lane ready is requested. Drive ready (ID 3129) is sent if the drive is stopped successfully.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3038</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Requested Drive Ready</td><td>Uint</td><td>2</td><td>What drive is requested to be ready. <br />0 = none, <br />1 = docking, <br />2 = buffer lane, <br />3 = generic.</td></tr>
</tbody></table>
<hr />
<h4 id="3042--trailer-transport-set-trailer-dimensions"><a class="header" href="#3042--trailer-transport-set-trailer-dimensions">3042 – Trailer Transport: Set Trailer Dimensions</a></h4>
<p>Navitrol expects this message before it can drive with a trailer. Navitrol will request this message using Trailer transport status section’s “Trailer dimensions request” data field.
The “Trailer dimensions request” will take a moment to update after trailer dimensions have been successfully set, so recommended minimum sent interval for “Set trailer dimensions” message is 1 second. If multiple dimensions are sent the first valid one will be accepted and taken into use any further messages are rejected with 3142.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3042</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>48</td></tr>
<tr><td>Wheel track</td><td>Float</td><td>4</td><td>Transversal distance between wheels center to center  <br />On the innermost axle</td></tr>
<tr><td>Wheel Diameter</td><td>Float</td><td>4</td><td>Wheel diameter (longitudinal dimension at scanner height can be calculated)  <br />On the innermost axle</td></tr>
<tr><td>Wheel Width</td><td>Float</td><td>4</td><td>Width of one wheel if double wheels  <br />On the innermost axle</td></tr>
<tr><td>Distance to Trailer Navigation point</td><td>Float</td><td>4</td><td>Navigation point is the midpoint between two axles, center axle if three axles  <br />Measured from kingpin</td></tr>
<tr><td>Distance to frontmost wheel axle</td><td>Float</td><td>4</td><td>Measured from kingpin</td></tr>
<tr><td>Distance to rearmost wheel axle</td><td>Float</td><td>4</td><td>Measured from kingpin</td></tr>
<tr><td>Distance to trailer back end</td><td>Float</td><td>4</td><td>Measured from kingpin</td></tr>
<tr><td>Reserved</td><td>NA</td><td>12</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3043---coupled-drive-request-coupling-configuration"><a class="header" href="#3043---coupled-drive-request-coupling-configuration">3043 - Coupled drive: request coupling configuration</a></h4>
<p>The AGV supervisor can send this message to request version information from Navitrol. Navitrol replies with the coupling configuration message (Message ID 3143).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3043</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
</tbody></table>
<hr />
<h4 id="3044---send-schwarzmueller-tpdo-request"><a class="header" href="#3044---send-schwarzmueller-tpdo-request">3044 - Send Schwarzmueller TPDO Request</a></h4>
<p>The AGV supervisor can send this message to request Schwarzmueller data from Navitrol. Navitrol replies with the Schwarzmueller TPDO Response message (Message ID 3144).</p>
<p>This message valid only for AGVs that are using Schwarzmueller motor controller. Navitrol is sending back raw TPDO received from the CAN bus.</p>
<p>This message can be used, for instance, for troubleshooting or visualization on the PLC's side. </p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3044</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
</tbody></table>
<hr />
<h4 id="3046---omni-steering-angle-request"><a class="header" href="#3046---omni-steering-angle-request">3046 - Omni steering angle request</a></h4>
<p>The AGV supervisor can send this message to request information about measured and target steering angle for Omni AGV.</p>
<p>The message can be used, for instance, for visualization purposes.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3046</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
</tbody></table>
<hr />
<h4 id="3050---request-symbolic-points-on-agv-path"><a class="header" href="#3050---request-symbolic-points-on-agv-path">3050 - Request symbolic points on AGV path</a></h4>
<p>With this message the AGV supervisor can request symbolic point IDs on AGV path. Navitrol replies with Symbolic points on AGV path response (Message ID 3150).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.38.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3050</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3051--pivot-to-target-heading"><a class="header" href="#3051--pivot-to-target-heading">3051 – Pivot to target heading</a></h4>
<p>The AGV supervisor can send this message to Navitrol to pivot the AGV to a defined target heading. Navitrol immediately responds with &quot;Pivot to target heading started&quot;-message (3153) and additionally will reply if the pivoting was successful with Message ID 3151. The AGV must be in Standby state when this message is sent. If the pivoting cannot be started or it is interrupted before the target is reached, reply with reject reason will be sent.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.42.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3051</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>18</td></tr>
<tr><td>Target heading to pivot</td><td>Float</td><td>4</td><td>Heading in world coordinates in degrees. <br />Range ±180°</td></tr>
<tr><td>Pivoting direction</td><td>Uint</td><td>2</td><td>0 = Shortest angle to pivot<br />1 = CW (clockwise)<br />2 = CCW (counterclockwise)</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3052--request-active-custom-speed-array-index"><a class="header" href="#3052--request-active-custom-speed-array-index">3052 – Request active custom speed array index</a></h4>
<p>The AGV supervisor can request the index of the currently active custom speed array parameters set by message 3028. This information can be used for example to check if the desired custom speed array is active.</p>
<p>Navitrol will respond with message 3152.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.42.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3052</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Reserved</td><td>NA</td><td>2</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3054--object-model-information"><a class="header" href="#3054--object-model-information">3054 – Object model information</a></h4>
<p>This AGV supervisor message can set the object model dimension for target detection, the expected centre and the detection type. The dimension of the pallet/cart/table is given as polygon positions. Symmetric and asymmetric pallets are supported. Examples for how the leg and leg points are defined for symmetric and asymmetric pallets is visualized below:</p>
<p><img src="./media-en/palletlegpolygons.png" alt="" /></p>
<p>The leg polygon point order for more complex leg shapes are visualized below:</p>
<p><img src="./media-en/legpolygonpointorder.PNG" alt="" /></p>
<p>The leg polygon points can be defined around the leg's axis of rotation if the legs are e.g. castor wheels. An offset is computed based on the deviation between geometric centre and the axis of rotation. In the below Figure the geometric centre is given visualized as a black circle and the axis of rotation as the blue circle. In the example the offset X is positive.</p>
<p><img src="./media-en/legoffset.PNG" alt="" /></p>
<p>An immediate response will be sent if the obtained pallet is invalid. A pallet is valid if:<br />
General:</p>
<ul>
<li>The number of polygon points in a leg corresponds to <em>Additional leg information</em></li>
</ul>
<p>Symmetric pallets:</p>
<ul>
<li>2 or 3 columns and rows of legs</li>
<li>Minimum of 4 legs and maximum of 9 legs</li>
<li>Number of legs corresponds to the number of columns * number of rows</li>
</ul>
<p>Asymmetric pallets:</p>
<ul>
<li>4 legs</li>
</ul>
<table><thead><tr><th>Parameter</th><th>Min</th><th>Default</th><th>Max</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>I, target_detection_maximum_iterations</strong></td><td>1</td><td>10</td><td>50</td><td>The maximum number of target detection iterations to be performed before response. The returned pose is the average of the successful detections</td></tr>
<tr><td><strong>I, pallet_model_definition_mode</strong></td><td>0</td><td>1</td><td>2</td><td>Defines where the pallet model information is to be obtained. 0 - None, 1 - Parameters, 2 - Supervisor</td></tr>
<tr><td><strong>F, pallet_det_target_pose_error</strong></td><td>0.05</td><td>0.2</td><td>3.0</td><td>Maximum target distance deviation between estimated centre point and target</td></tr>
</tbody></table>
<p>Set parameter <strong>pallet_model_definition_mode</strong> to 2.</p>
<p>Navitrol will respond with message 3154.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.44.00</td><td>Message added</td></tr>
<tr><td>6.56.00</td><td>Vehicle coordinate support</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3054</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>44 + N legs * (12 + N leg points * 8)</td></tr>
<tr><td>Detection type</td><td>Uint</td><td>2</td><td>Type of detection | Estimated target pose is informed in global (x) or vehicle (1x) coordinate frame<br/>- Cart detection | 1 or 11<br/>- Pallet detection | 2 or 12<br/>- Table detection | 3 or 13<br/>- Box | 4 or 14<br/></td></tr>
<tr><td>Object model id</td><td>Uint</td><td>2</td><td>Number identifying the object type - for verification that the right model is reported back</td></tr>
<tr><td>Object center position X</td><td>Float</td><td>4</td><td>Estimated target pose X [m] - A value of Hex 7FA00000 (NaN) will omit the received centre pose and instead use the trajectory</td></tr>
<tr><td>Object center position Y</td><td>Float</td><td>4</td><td>Estimated target pose Y [m] - A value of Hex 7FA00000 (NaN) will omit the received centre pose and instead use the trajectory</td></tr>
<tr><td>Object heading H</td><td>Float</td><td>4</td><td>Estimated object heading [deg] - A value of Hex 7FA00000 (NaN) will omit the received centre pose and instead use the trajectory</td></tr>
<tr><td>Object length</td><td>Float</td><td>4</td><td>Total length of object, meters</td></tr>
<tr><td>Object width</td><td>Float</td><td>4</td><td>Total width of object, meters</td></tr>
<tr><td>Leg position symmetry</td><td>Uint</td><td>2</td><td>Defines whether the legs are positioned in symmetrical rows and columns i.e., no row or column with only one leg.<br /> 0 - symmetric<br /> <img src="./media-en/symmetricpalletexample.PNG" alt="" /><br /> 1 - asymmetric<br /> <img src="./media-en/asymmetricpalletexample.PNG" alt="" /></td></tr>
<tr><td>Number of leg rows on long side of pallet</td><td>Uint</td><td>2</td><td>The number of leg rows perpendicular to the x-axis of a pallet, min 2, max 3. Not applicable for asymmetric pallets</td></tr>
<tr><td>Number of leg rows on short side of pallet</td><td>Uint</td><td>2</td><td>The number of leg rows perpendicular to the y-axis of a pallet, min 2, max 3. Not applicable for asymmetric pallets</td></tr>
<tr><td>Number of object legs</td><td>Uint</td><td>2</td><td>Maximum of 9 legs for symmetric pallets, and 4 for asymmetric</td></tr>
<tr><td>Object leg count</td><td>Array of legs</td><td>Variable: Number of legs * (12 + leg polygon count * 8)</td><td>Leg positions are given relative to the geometric center point of the object. The leg order is from object center point along x-axis and then in CCW order from the x-axis.</td></tr>
<tr><td>Leg position X</td><td>Float</td><td>4</td><td>The X - position of the leg relative to the geometric center point of the object</td></tr>
<tr><td>Leg position Y</td><td>Float</td><td>4</td><td>The Y - position of the leg relative to the geometric center point of the object</td></tr>
<tr><td>Leg polygon count</td><td>Uint</td><td>2</td><td>Number of leg polygon points (max 6 points). Points are given relative to the leg center point along x-axis and then in CCW order from the x-axis for solid legs. If two points on are on the positive X-axis they shall be the first and last to get a continuous array of points. For hollow legs from endpoint to endpoint starting from X-max end going through corners to X-min end (similarly for Y if no X-difference between endpoints)</td></tr>
<tr><td>Leg polygon point X</td><td>Float</td><td>4</td><td>Polygon point X relative to the leg center point</td></tr>
<tr><td>Leg polygon point Y</td><td>Float</td><td>4</td><td>Polygon point Y relative to the leg center point</td></tr>
<tr><td>Additional leg information</td><td>Uint</td><td>2</td><td>0 - solid leg (4 or 6 points). Currently, only 4 points is supported<br/><img src="./media-en/solidlegexample.PNG" alt="" /><br />1 - hollow leg (3 points)<br /><img src="./media-en/hollowlegexample.PNG" alt="" /><br />2 - plate leg (2 points)<br /><img src="./media-en/platelegexample.PNG" alt="" /></td></tr>
<tr><td>Supervisor scan selection enabled</td><td>Uint</td><td>2</td><td>0 - disabled, 1 - enabled</td></tr>
<tr><td>Target detection scan selection</td><td>Uint</td><td>2</td><td>Defines which scanners are used for target detection, 0 - enable target_detection_multi_scan_selection, 1 - rear scanner only, 2 - front scanner only, 3 - both scanners (supported only in reflector based detection!), 4 - use scanner in driving direction, 5 - alternate between scanners</td></tr>
</tbody></table>
<hr />
<h4 id="3055---cleaning-actuator-command"><a class="header" href="#3055---cleaning-actuator-command">3055 - Cleaning actuator command</a></h4>
<p>With this message the AGV supervisor can set the command for cleaning actuators. AGV supervisor can either command with the actuator mode with predefined actuator control logic or with manual command for each actuator.</p>
<p>This message can be used if parameter <strong>cleaning_machine_used</strong> is set to 1.</p>
<p>Navitrol will respond with message 3155.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.44.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3055</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>28</td></tr>
<tr><td>Actuators mode</td><td>Uint</td><td>4</td><td>0 - Actuators off, 1 - Vacuum, 2 - Mop, 3 - Vacuum and Mop, 4 - Manual  mode, 5 - Replay mode</td></tr>
<tr><td>Manual actuator command</td><td>Bitfield</td><td>4</td><td>Allows controlling each actuator independently <br /> This field is ignored if Actuators mode is not Manual.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>12</td><td>Reserved for future ideas</td></tr>
</tbody></table>
<p>In the table bellow, actuator modes are described.</p>
<table><thead><tr><th><strong>Actuator mode</strong></th><th><strong>Single actuator command</strong></th><th><strong>Value</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody>
<tr><td><strong>Actuators OFF</strong> - mode 0</td><td>Cleaning sweep lift</td><td>0</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Cleaning brush level</td><td>0</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Sucking motor</td><td>0</td><td>0 - off, 1 - on (vacuum)</td></tr>
<tr><td></td><td>Cleaning brush</td><td>0</td><td>0 - off, 1 - on (cleaning)</td></tr>
<tr><td></td><td>Water valve command</td><td>0</td><td>0 - off, 1 - on (mopping)</td></tr>
<tr><td><strong>Vacuum - mode 1</strong></td><td>Cleaning sweep lift</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Cleaning brush level</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Sucking motor</td><td>1</td><td>0 - off, 1 - on (vacuum)</td></tr>
<tr><td></td><td>Cleaning brush</td><td>1</td><td>0 - off, 1 - on (cleaning)</td></tr>
<tr><td></td><td>Water valve command</td><td>0</td><td>0 - off, 1 - on (mopping)</td></tr>
<tr><td><strong>Mop</strong> - mode 2</td><td>Cleaning sweep lift</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Cleaning brush level</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Sucking motor</td><td>0</td><td>0 - off, 1 - on (vacuum)</td></tr>
<tr><td></td><td>Cleaning brush</td><td>1</td><td>0 - off, 1 - on (cleaning)</td></tr>
<tr><td></td><td>Water valve command</td><td>1</td><td>0 - off, 1 - on (mopping)</td></tr>
<tr><td><strong>Vacuum and mop - mode 3</strong></td><td>Cleaning sweep lift</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Cleaning brush level</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td></td><td>Sucking motor</td><td>1</td><td>0 - off, 1 - on (vacuum)</td></tr>
<tr><td></td><td>Cleaning brush</td><td>1</td><td>0 - off, 1 - on (cleaning)</td></tr>
<tr><td></td><td>Water valve command</td><td>1</td><td>0 - off, 1 - on (mopping)</td></tr>
</tbody></table>
<p>In the manual mode, AGV supervisor sets the status of each actuator individually</p>
<table><thead><tr><th><strong>Manual actuator command - mode 4</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Cleaning sweep lift</td><td>0</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td>Cleaning brush level</td><td>1</td><td>0 - up, 1 - down (cleaning position)</td></tr>
<tr><td>Sucking motor</td><td>2</td><td>0 - off, 1 - on (vacuum)</td></tr>
<tr><td>Cleaning brush</td><td>3</td><td>0 - off, 1 - on (cleaning)</td></tr>
<tr><td>Water valve command</td><td>4</td><td>0 - off, 1 - on (mopping)</td></tr>
<tr><td>Reserved</td><td>5-31</td><td>Reserved for future development</td></tr>
</tbody></table>
<p>In the replay mode, the actuator command is taken from the segments that the AGV drives. It is saved as a custom route property named &quot;binary_actuators&quot;. If the AGV is not in automatic driving mode, the actuators will be turned off in this mode.</p>
<hr />
<h4 id="3056---error-situation"><a class="header" href="#3056---error-situation">3056 - Error situation</a></h4>
<p>This supervisor message is used for error recovery handling. Related to message 3156.</p>
<p>When an error situation starts, Navitrol will start sending the supervisor reply message (3156) at a 3 second interval. 
Then customer can define an action for this error situation by sending this 3056 message.
The <strong>error situation id</strong> is a number that tells what situation is active and Navitrol will send that information on the 3156 message. Customer should define what error situation id the action is related to. See example situation below.</p>
<p><strong>Error situation ids</strong>:</p>
<ul>
<li>0 = None</li>
<li>1 = <strong>Dropoff not empty</strong> (related to error: 522 ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED).</li>
</ul>
<p>Actions for the <strong>Dropoff not empty</strong> situation:</p>
<ul>
<li>0 - None -&gt; Do nothing</li>
<li>1 - Acknowledge -&gt; Reset ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED </li>
<li>2 - Retry -&gt; Reset ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED and do the empty space detection again</li>
<li>3 - Ignore -&gt; Reset ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED and continue driving to rack without empty space detection feature. This will ignore the feature only for this one time. Next time it will be active again. </li>
</ul>
<p>Example scenario:</p>
<ul>
<li>AGV drives to rack and does empty space detection.</li>
<li>Some wrapping or plastic is triggering the ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED and AGV will stop.</li>
<li>Navitrol starts sending 3156 message with <strong>Error situation id</strong>: 1 (<strong>Dropoff not empty</strong>).</li>
<li>Operator is checking the shelf and verifies that AGV would be able to drive to the shelf without issues. There is just some wrapping hanging from next shelf that would not cause any damage.</li>
<li>Customer PLC sends 3056 message with 
<ul>
<li><strong>Error situation id</strong>: 1 (<strong>Dropoff not empty</strong>) </li>
<li><strong>Action</strong>: 3 (Ignore)</li>
</ul>
</li>
<li>Navitrol resets the ERROR_RACKING_EMPTY_SPACE_NOT_DETECTED error and continue driving to the shelf without doing the empty space detection this time.</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.46.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3056</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>13</td></tr>
<tr><td>Error situation id</td><td>Int</td><td>4</td><td>Id of the active error situation (same as what Navitrol sent with the 3156 message)</td></tr>
<tr><td>Action</td><td>Uint</td><td>1</td><td>Error action: <br /> 0 - None: Do nothing. <br /> 1 - Acknowledge: Reset error. <br /> 2 - Retry: Reset error and try again the feature that caused error. <br /> 3 - Ignore: Reset error and ignore the feature that caused the error for this time.</td></tr>
</tbody></table>
<hr />
<h4 id="3057---route-free-navigation-request"><a class="header" href="#3057---route-free-navigation-request">3057 - Route-free Navigation Request</a></h4>
<p>Starts the route free navigation to the target. Navitrol will plan a route to the given target avoiding the walls based on the environment model. Navitrol will respond with 3157 message.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.51.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3057</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>40</td></tr>
<tr><td>Reserved</td><td>Uint</td><td>4</td><td>Reserved bits for the future. Should be 0 for now, may be used for eg. point count later</td></tr>
<tr><td>x</td><td>double</td><td>8</td><td>X-coordinate for the target</td></tr>
<tr><td>y</td><td>double</td><td>8</td><td>Y-coordinate for the target</td></tr>
<tr><td>heading (radians)</td><td>double</td><td>8</td><td>heading for the target</td></tr>
<tr><td>velocity (m/s)</td><td>float</td><td>4</td><td>desired velocity. 0.0 if not specified, negative numbers are not supported for now</td></tr>
</tbody></table>
<hr />
<h3 id="from-navitrol-to-supervisor-1"><a class="header" href="#from-navitrol-to-supervisor-1">From Navitrol to Supervisor</a></h3>
<h4 id="1116---motor-control-differential"><a class="header" href="#1116---motor-control-differential">1116 - Motor control differential</a></h4>
<p>The Motor control message is sent as a reply to the message Odometer update differential vehicle (Message ID 1016).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1116</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <em>NOTE:</em> This value must match with the latest Odometer update message number sent by the Supervisor.</td></tr>
<tr><td>Speed_Left</td><td>Float</td><td>4</td><td>Reference speed for left wheel (m/s)</td></tr>
<tr><td>Speed_Right</td><td>Float</td><td>4</td><td>Reference speed for right wheel (m/s)</td></tr>
<tr><td>Navitrol Errors Stopping driving</td><td>Uint</td><td>2</td><td>0 no errors, 1 error stopping driving</td></tr>
</tbody></table>
<hr />
<h4 id="1117---motor-control-steer-drive"><a class="header" href="#1117---motor-control-steer-drive">1117 - Motor control steer drive</a></h4>
<p>The Motor control message is sent as a reply to the message Measurement update steer drive vehicle (Message ID 1017).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1117</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br /><em>NOTE:</em> This value must match with the latest Odometer update message number sent by the Supervisor.</td></tr>
<tr><td>Steering Angle</td><td>Float</td><td>4</td><td>Reference steering angle (+/-PI in radians) <br />Positive turning direction is CCW</td></tr>
<tr><td>Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td></tr>
<tr><td>Status/control</td><td>Bitfield</td><td>2</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td></td></tr>
<tr><td>Reserved</td><td>1-4</td><td>Not in use</td></tr>
<tr><td>Obsolete</td><td>5</td><td>Not in use. Previously &quot;Ack/Reset&quot;</td></tr>
<tr><td>Charge request (deprecated)</td><td>6</td><td>Charge request bit is deprecated and should not be used. 3102 - Supervisor status Battery section Charging required bit is used to request charging</td></tr>
<tr><td>Brake release</td><td>7</td><td></td></tr>
<tr><td>Reserved</td><td>8-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1118---motor-control-differentialsteer-drive"><a class="header" href="#1118---motor-control-differentialsteer-drive">1118 - Motor control differential&amp;steer drive</a></h4>
<p>The Motor control message is sent as a reply to the message <em>Measurement update steer drive vehicle</em> (Message ID 1018).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1118</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br /><em>NOTE:</em> This value must match with the latest Odometer update message number sent by the Supervisor.</td></tr>
<tr><td>Steer wheel: Steering Angle</td><td>Float</td><td>4</td><td>Reference steering angle (+/-PI in radians) <br />Positive turning direction is CCW</td></tr>
<tr><td>Steer wheel: Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td></tr>
<tr><td>Diff Left wheel: Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td></tr>
<tr><td>Diff Right wheel: Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td></tr>
<tr><td>Status/control</td><td>Uint</td><td>2</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td></td></tr>
<tr><td>Reserved</td><td>1-4</td><td>Not in use</td></tr>
<tr><td>Obsolete</td><td>5</td><td>Not in use. Previously &quot;Ack/Reset&quot;</td></tr>
<tr><td>Charge request (deprecated)</td><td>6</td><td>Charge request bit is deprecated and should not be used. 3102 - Supervisor status Battery section Charging required bit is used to request charging</td></tr>
<tr><td>Brake release</td><td>7</td><td></td></tr>
<tr><td>Reserved</td><td>8-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1119---motor-control-omni-drive"><a class="header" href="#1119---motor-control-omni-drive">1119 - Motor control omni drive</a></h4>
<p>The Motor control message is sent as a reply to the message Measurement update omnidirectional drive vehicle (Message ID 1019).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1119</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 26</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br /><em>NOTE:</em> This value must match with the latest Odometer update message number sent by the Supervisor.</td></tr>
<tr><td>Driving Vector Angle</td><td>Float</td><td>4</td><td>Reference driving vector angle relative to the vehicle frame. (+/-PI in radians) <br />0-forwards along vehicle center line. Positive direction is CCW from vehicle center line. <br />Hex 7FA00000 no control</td></tr>
<tr><td>Steering Radius</td><td>Float</td><td>4</td><td>Radius to center of rotation from navigation point (m).  <br />0-pivoting around vehicle navigation point. Positive PI/2 CCW from driving vector turning the vehicle to the left.  <br />Hex 7FA00000 no control</td></tr>
<tr><td>Driving Speed</td><td>Float</td><td>4</td><td>Reference speed of the vehicle navigation point along driving vector (m/s) <br />Positive along driving vector, negative against driving vector (i.e. driving vector ± PI) <br />Hex 7FA00000 no control</td></tr>
<tr><td>Status/control</td><td>Bitfield</td><td>2</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td></td></tr>
<tr><td>Obsolete</td><td>1</td><td>Not in use. Previously &quot;Control enable&quot;</td></tr>
<tr><td>Reserved</td><td>2-4</td><td>Not in use</td></tr>
<tr><td>Obsolete</td><td>5</td><td>Not in use. Previously &quot;Ack/Reset&quot;</td></tr>
<tr><td>Charge request (deprecated)</td><td>6</td><td>Charge request bit is deprecated and should not be used. 3102 - Supervisor status Battery section Charging required bit is used to request charging</td></tr>
<tr><td>Brake release</td><td>7</td><td></td></tr>
<tr><td>Reserved</td><td>8-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1122---motor-control-mecanum-drive"><a class="header" href="#1122---motor-control-mecanum-drive">1122 - Motor control mecanum drive</a></h4>
<p>The Motor control message is sent as a reply to the message Measurement update mecanum drive vehicle (Message ID 1022).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1122</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>46</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages mirrored from message 1022 <br /><em>NOTE:</em> Supervisor should check that the values match to confirm that no messages have been lost.</td></tr>
<tr><td>Reference speed for wheel 0</td><td>Float</td><td>4</td><td>Reference speed for wheel 0</td></tr>
<tr><td>Reference speed for wheel 1</td><td>Float</td><td>4</td><td>Reference speed for wheel 1</td></tr>
<tr><td>Reference speed for wheel 2</td><td>Float</td><td>4</td><td>Reference speed for wheel 2</td></tr>
<tr><td>Reference speed for wheel 3</td><td>Float</td><td>4</td><td>Reference speed for wheel 3</td></tr>
<tr><td>Status/control</td><td>Bitfield</td><td>2</td><td>See <strong>Status/control bits</strong></td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td>Navitrol has any error active and is unable to drive.</td></tr>
<tr><td>Brake release</td><td>1</td><td>Navitrol requests Supevisor to release brakes to start driving</td></tr>
<tr><td>Reserved</td><td>2-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1123---motor-control-combined"><a class="header" href="#1123---motor-control-combined">1123 - Motor control combined</a></h4>
<p>The Motor control message is sent as a reply to the message <em>Measurement update combined</em> (Message ID 1023).</p>
<p>For all supported kinematics (O-omni, S-steer, D-diff, DS-diff steer) both wheel references (1) and vector references (2) are sent.  The receiver should choose which one they would like to use. The <strong>Used by</strong> column shows which combination each control value is intended for e.g., D1 for diff drive wheel reference.</p>
<p>Note: If the data field is not used by the vehicle type, a constant 0 will be sent.</p>
<p>A special feature for driving vector speed available. This feature allows sending a speed reference to the supervisor despite driving restrictions in order to activate a direction validation. This information, for instance, can be forwarded to the safety system in order to to inform it about driving direction prior to movement.</p>
<p>In order to enable the feature, the following conditions should be met:</p>
<ul>
<li>AGV stop signal should be sent by supervisor (soft stop PLC, bit 3 from supervisor status in Message ID 1023)</li>
<li>AutoMoveDelay should be enabled for the state change (<strong>auto_moving_delay_msec</strong> parameter should be set to non-zero value)</li>
<li>Parameter <strong>eth_set_speed_ref_prior_to_drive</strong> should be set to 1.</li>
</ul>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th><th><strong>Used by</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td><td>All</td></tr>
<tr><td>Message ID = 1123</td><td>Uint</td><td>2</td><td></td><td>All</td></tr>
<tr><td>Message length = 54</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields</td><td>All</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br /><em>NOTE:</em> This value must match with the latest Odometer update message number sent by the Supervisor.</td><td>All</td></tr>
<tr><td>Reference angle for wheel 0</td><td>Float</td><td>4</td><td>Reference steering angle (+/-PI in radians) <br />Positive turning direction is CCW</td><td>S1, DS1, O1</td></tr>
<tr><td>Reference speed for wheel 0</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td><td>S1, DS1, O1</td></tr>
<tr><td>Reference angle for wheel 1</td><td>Float</td><td>4</td><td>Reference steering angle (+/-PI in radians) <br />Positive turning direction is CCW</td><td>O1</td></tr>
<tr><td>Reference speed for wheel 1</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td><td>O1</td></tr>
<tr><td>Driving Vector Angle</td><td>Float</td><td>4</td><td>Reference driving vector angle relative to the vehicle frame. (+/-PI in radians)  <br />0-forwards along vehicle center line. Positive direction is CCW from vehicle center line.</td><td>S2, DS2, D2, O2</td></tr>
<tr><td>Steering Radius</td><td>Float</td><td>4</td><td>Radius to center of rotation from navigation point (m).   <br />0-pivoting around vehicle navigation point.  <br />Positive PI/2 CCW from driving vector turning the vehicle to the left.</td><td>S2, DS2, D2, O2</td></tr>
<tr><td>Driving Speed</td><td>Float</td><td>4</td><td>Reference speed of the vehicle along driving vector (m/s). <br /> For O2 and DS2 - speed of <strong>navigation point</strong>. <br /> For S2 and D2 - <strong>speed of fastest wheel</strong> <br />Positive along driving vector, negative against driving vector (i.e. driving vector ± PI)</td><td>S2, DS2, D2, O2</td></tr>
<tr><td>Diff Left wheel: Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td><td>D1, DS1</td></tr>
<tr><td>Diff Right wheel: Wheel Speed</td><td>Float</td><td>4</td><td>Reference speed for drive wheel (m/s)</td><td>D1, DS1</td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in ms; Mirrored from 1023</td><td>All</td></tr>
<tr><td>Status/control</td><td>Bitfield</td><td>2</td><td></td><td>All</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td></td></tr>
<tr><td>Obsolete</td><td>1</td><td>Not in use. Previously &quot;Control enable&quot;</td></tr>
<tr><td>Reserved</td><td>2-4</td><td>Not in use</td></tr>
<tr><td>Obsolete</td><td>5</td><td>Not in use. Previously &quot;Ack/Reset&quot;</td></tr>
<tr><td>Charge request (deprecated)</td><td>6</td><td>Charge request bit is deprecated and should not be used. 3102 - Supervisor status Battery section Charging required bit is used to request charging</td></tr>
<tr><td>Brake release</td><td>7</td><td></td></tr>
<tr><td>Reserved</td><td>8-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="1126---motor-control-omni-response"><a class="header" href="#1126---motor-control-omni-response">1126 - Motor control omni response</a></h4>
<p>The following motor control message is sent as a reply to the message Measurement update generic omni drive (Message ID 1026).</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.52.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1126</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>28 + N wheels * Omni wheels ref struct <br/> Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>See <em>message number</em> in <a href="#glossary">Glossary</a></td></tr>
<tr><td>Supervisor status out</td><td>Bitfield</td><td>2</td><td>See <strong>Status/control bits</strong> for more information.</td></tr>
<tr><td>Driving vector Angle</td><td>Float</td><td>4</td><td>Reference driving vector angle relative to the vehicle frame. (+/-PI in radians) <br />0-forwards along vehicle center line. Positive direction is CCW from vehicle center line.</td></tr>
<tr><td>Steering Radius</td><td>Float</td><td>4</td><td>Radius to center of rotation from navigation point (m).  <br />0-pivoting around vehicle navigation point. Positive value sets the center of rotation to a direction of 90 deg CCW from the driving vector angle. For example with 0 deg driving vector angle vehicle turns to left with positive radius and to right with negative radius.</td></tr>
<tr><td>Navigation point speed</td><td>Float</td><td>4</td><td>Reference speed of the vehicle navigation point along driving vector (m/s) <br />Positive along driving vector, negative against driving vector (i.e. driving vector ± PI).</td></tr>
<tr><td>Number of Wheels</td><td>Uint</td><td>2</td><td>Number of omni wheels, maximum 6, minimum 2. Determined by parameter omni_steer_nbr</td></tr>
<tr><td>Omni wheels ref struct[]</td><td>Omni wheels ref struct[]</td><td>Varying length</td><td>The references for each individual omni wheel</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status/control bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Navitrol error</td><td>0</td><td>Navitrol has any error active and is unable to drive.</td></tr>
<tr><td>Reserved</td><td>1-6</td><td>Not in use</td></tr>
<tr><td>Brake release</td><td>7</td><td>Navitrol requests Supevisor to release brakes to start driving</td></tr>
<tr><td>Reserved</td><td>8-15</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Omni wheels ref struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Steer angle reference</td><td>Float</td><td>4</td><td>In radians. Range is [-PI, PI]. Positive is counter-clockwise.</td></tr>
<tr><td>Wheel speed reference</td><td>Float</td><td>4</td><td>In m/s</td></tr>
</tbody></table>
<hr />
<h4 id="1130---control-actuators"><a class="header" href="#1130---control-actuators">1130 - Control actuators</a></h4>
<p>This message is obsolete, not used anymore! Check messages 1031 and 1131.</p>
<hr />
<h4 id="1131---control-multiple-actuators"><a class="header" href="#1131---control-multiple-actuators">1131 - Control multiple actuators</a></h4>
<p>When Navitrol is controlling the actuators, it can control those actuators which are available in the <em>Measurement update multiple actuators</em> message and also activated in the parameters. One or several actuators are activated at a time according to a predefined work sequence. Navitrol sets position references for the actuators, requests the AGV controller to do the control and monitors feedback data for malfunctions and fulfillment of the control task. If relevant feedback data is not provided over the message, the navigation only waits for the reference reached information to end the control. When actuator control is successfully finished, the next controller is activated, while also monitoring that previously achieved controller targets are maintained.</p>
<p>Navitrol sends this message as a reply to the <em>Measurement update multiple actuators</em> message (1031).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1131</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = Min 16, max 176</td><td>Uint</td><td>4</td><td>Message length depends on how many actuators are in use. Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>This value shall be incremented by one for each message sent and it should match with received reply message number.</td></tr>
<tr><td>Message status</td><td>Uint</td><td>2</td><td>0 – ok <br> 1 – configuration error (an actuator section is sent with status bit 15 set)</td></tr>
<tr><td>Number of actuator control sections</td><td>Uint</td><td>2</td><td>Number of simultaneously controlled actuators (NoA). As many actuator sections can be sent as there are actuators defined to be controllable in the measurement update message.</td></tr>
<tr><td>Actuator control section</td><td>Actuator[]</td><td>NoA * 8</td><td>Each packet consists of: Actuator to control, position reference and binary outputs</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Actuator control section</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Controlled actuator</td><td>Uint</td><td>2</td><td>1 – Lift <br> 2 – Lift secondary (relative to the main lift) <br> 3 – Reach <br> 4 – Tilt fork  <br> 5 – Tilt mast <br> 6 – Tilt vehicle frame <br> 7 – Turn fork direction relative to vehicle frame <br> 8 – Side shift fork <br> 9 – Adjust fork width <br> 10 – Side tilt fork <br> 11 – Run onboard conveyor  <br> 12 – Lift scanner/camera <br> 13 – Load identification on/off <br> 14 – Load securing on/off <br> 15 – Drive fork in/out (vehicle driving on odometry so no feedback, provided only as status information) <br> 16 – Drive fork right/left, side loader and narrow aisle (vehicle driving on odometry so no feedback, provided only as status information) <br> Others can be added on request.</td></tr>
<tr><td>Actuator position reference</td><td>Int</td><td>4</td><td>Reference position in millimeters or 0.1 degrees</td></tr>
<tr><td>Binary output</td><td>Uint</td><td>2</td><td>Binary output, described below</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary output</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Activate actuator</td><td>0</td><td>1 control active, else 0</td></tr>
<tr><td>Increase actuator</td><td>1</td><td>1 if actuator value should be increased, extended or rotated CCW. For conveyors load moving in positive X or Y direction on vehicle coordinate frame. Bit 0 has to be 1, Bit 2 has to be 0</td></tr>
<tr><td>Decrease actuator</td><td>2</td><td>1 if actuator value should be decreased, retracted or rotated CW. For conveyors load moving in negative X or Y direction on vehicle coordinate frame. Bit 0 has to be 1, Bit 1 has to be 0</td></tr>
<tr><td>Not defined</td><td>3-14</td><td>Reserved bits (= 0)</td></tr>
<tr><td>Undefined actuator</td><td>15</td><td>Actuator configured for control not defined in navigation parameters.</td></tr>
</tbody></table>
<hr />
<h4 id="1132---recording-status"><a class="header" href="#1132---recording-status">1132 - Recording status</a></h4>
<p>Tells the status of the record and play functionality</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.48</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>1132</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16</td></tr>
<tr><td>Operation result</td><td>Uint</td><td>4</td><td>0 fail, 1 success</td></tr>
<tr><td>Record &amp; Play state</td><td>Uint</td><td>4</td><td>0 play, 1 record, 2 failure</td></tr>
</tbody></table>
<p>Record &amp; play states other than the specified are reserved and should be considered failures.
Operation results other than the specified are reserved and should be considered failures.</p>
<hr />
<h4 id="3101---hold-released"><a class="header" href="#3101---hold-released">3101 - Hold released</a></h4>
<p>Navitrol sends this message as a reply to the Release Hold message 3001 (not 3011).</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3101</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the destination.</td></tr>
<tr><td>Release result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state, <br />3 unreachable ID, <br />4 drive control disabled</td></tr>
</tbody></table>
<hr />
<h4 id="3102---navitrol-status"><a class="header" href="#3102---navitrol-status">3102 - Navitrol status</a></h4>
<p>Navitrol sends this message as a response to message <em>Supervisor status 3002.</em> Content of the message is determined by the request from the AGV supervisor. Message always starts with the default section. Rest of the message is determined by the section IDs received from the Supervisor.</p>
<h5 id="default-section-1"><a class="header" href="#default-section-1">Default section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3102</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = * Depends on what sections are included</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Default section length</td><td>Uint</td><td>4</td><td>Length of the default section</td></tr>
<tr><td>State</td><td>Uint</td><td>4</td><td>Navitrol state <br />START_STATE = 1, <br />STANDBY_STATE = 2, <br />AUTO_STATE = 3, <br />FSTOP_STATE = 9, <br />LOAD_STATE = 14, <br />HOLD_STATE = 15, <br />MANUAL_STATE = 16, <br />PAUSE_STATE = 17</td></tr>
<tr><td>X-coordinate</td><td>Float</td><td>4</td><td>In meters</td></tr>
<tr><td>Y-coordinate</td><td>Float</td><td>4</td><td>In meters</td></tr>
<tr><td>Heading</td><td>Float</td><td>4</td><td>Radians</td></tr>
<tr><td>Level</td><td>Int</td><td>4</td><td>Level ID</td></tr>
<tr><td>Speed</td><td>Float</td><td>4</td><td>m/s</td></tr>
<tr><td>Position initialize status</td><td>Uint</td><td>2</td><td>0 = Failed 1 = Succeeded</td></tr>
<tr><td>Position confidence</td><td>Uint</td><td>2</td><td>Position confidence in percentage (1 - 100%)</td></tr>
<tr><td>Error status</td><td>Uint</td><td>2</td><td>1 error on, 0 no error</td></tr>
</tbody></table>
<hr />
<h5 id="1---general-section"><a class="header" href="#1---general-section">1 - General section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 1</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Battery voltage</td><td>Float</td><td>4</td><td>V</td></tr>
<tr><td>On route</td><td>Uint</td><td>2</td><td>1 on route, 0 not on route</td></tr>
</tbody></table>
<hr />
<h5 id="2---hold-section"><a class="header" href="#2---hold-section">2 - Hold section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 2</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>InHold</td><td>Uint</td><td>2</td><td>1 if machine in Hold, 0 otherwise</td></tr>
<tr><td>Default destination in use</td><td>Uint</td><td>2</td><td>1 if the machine is at a hold location for which a Default destination is defined, 0 otherwise</td></tr>
<tr><td>Default destination name</td><td>Char[32]</td><td>32</td><td>Default destination name as a null-terminated string.</td></tr>
<tr><td>1st alternative destination in use</td><td>Uint</td><td>2</td><td>1 if the machine is at a hold location for which the 1st alternative destination is in use, 0 otherwise</td></tr>
<tr><td>1st alternative destination name</td><td>Char[32]</td><td>32</td><td>1st alternative destination name as a null-terminated string.</td></tr>
<tr><td>2nd alternative destination in use</td><td>Uint</td><td>2</td><td>1 if the machine is at a hold location for which the 2nd alternative destination is in use, 0 otherwise</td></tr>
<tr><td>2nd alternative destination name</td><td>Char[32]</td><td>32</td><td>2nd alternative destination name as a null-terminated string.</td></tr>
<tr><td>3rd alternative destination in use</td><td>Uint</td><td>2</td><td>1 if the machine is at a hold location for which the 3rd alternative destination is in use, 0 otherwise</td></tr>
<tr><td>3rd alternative destination name</td><td>Char[32]</td><td>32</td><td>3rd alternative destination name as a null-terminated string.</td></tr>
</tbody></table>
<hr />
<h5 id="3---virtual-tag-section"><a class="header" href="#3---virtual-tag-section">3 - Virtual Tag section</a></h5>
<p>Virtual tags can be defined to symbolic points in Navithor Tools. Virtual tag means only the tags of 'generic' type, so the tags from doors or Navitrol features are not sent on this section. Virtual tag section applies only to symbolic point tags, it doesn't send any values from the route properties.</p>
<p>It is possible to define two virtual tags of 'generic'-type using Navithor Tools. If one is defined it will be always sent in &quot;Value of virtual tag 1&quot; -data field. If two 'generic' tags are defined the second is sent &quot;Value of virtual tag 2&quot; -data field. The order of two 'generic' tags will be the same as they were defined in Navithor Tools.</p>
<p><strong>Note: Message was changed in 6.28.00 to support two virtual tags instead of one. This concerns customers that have used previously this message with big endian communication.</strong></p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 3</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Virtual Tag in use</td><td>Uint</td><td>2</td><td>1 the machine is close to a virtual tag location, 0 otherwise <br />Applies only to Generic tags on symbolic points (doors, Navitrol features or any route properties/tags do not trigger this or the Virtual Tag value).</td></tr>
<tr><td>Value of virtual tag 1</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Value of virtual tag 2</td><td>Uint</td><td>2</td><td>If two 'generic' virtual tags are defined the second is sent in this field.</td></tr>
</tbody></table>
<hr />
<h5 id="4---coming-from-going-to-section"><a class="header" href="#4---coming-from-going-to-section">4 - Coming from Going to section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 4</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Going to ID</td><td>Uint</td><td>4</td><td>ID of ongoing or last drive target, updated at start of a drive</td></tr>
<tr><td>Target reached</td><td>Uint</td><td>2</td><td>1 if the Going to ID destination has been reached, else 0</td></tr>
<tr><td>Going to name</td><td>Char[32]</td><td>32</td><td>Name of goal symbolic point of the drive, null-terminated string</td></tr>
<tr><td>Coming from name</td><td>Char[32]</td><td>32</td><td>Name of symbolic point where the drive started, null-terminated string</td></tr>
</tbody></table>
<hr />
<h5 id="5---actuator-section"><a class="header" href="#5---actuator-section">5 - Actuator section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 5</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Actuator reference</td><td>Uint</td><td>4</td><td>Actuator reference value (position, rotation, height (mm)), updated when Activate actuator is 1</td></tr>
<tr><td>Binary outputs 1</td><td>Bitfield</td><td>1</td><td></td></tr>
<tr><td>Reserved</td><td>NA</td><td>1</td><td>Not in use</td></tr>
<tr><td>Binary outputs 3</td><td>Bitfield</td><td>1</td><td></td></tr>
<tr><td>Reserved</td><td>NA</td><td>1</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary outputs 1 bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Activate actuator</td><td>0</td><td>1 control active, else 0</td></tr>
<tr><td>Increase actuator value</td><td>1</td><td>1 if actuator value should be increased (Bit 0 has to be 1, Bit 2 has to be 0)</td></tr>
<tr><td>Decrease actuator value</td><td>2</td><td>1 if actuator value should be decreased (Bit 0 has to be 1, Bit 1 has to be 0)</td></tr>
<tr><td>Reserved</td><td>3-7</td><td>5 bits</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary outputs 3 bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>StopAndHoldActive</td><td>0</td><td>1 if AGV is held over StopAndHold symbolic point, otherwise 0</td></tr>
<tr><td>Reserved</td><td>1-7</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="6---custom-attribute-section"><a class="header" href="#6---custom-attribute-section">6 - Custom attribute section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 6</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Attribute 1 value</td><td>Float</td><td>4</td><td>Value of attribute 1</td></tr>
<tr><td>Attribute 1 name</td><td>Char[32]</td><td>32</td><td>name of the attribute 1</td></tr>
<tr><td>Attribute 2 value</td><td>Float</td><td>4</td><td>Value of attribute 2</td></tr>
<tr><td>Attribute 2 name</td><td>Char[32]</td><td>32</td><td>name of the attribute 2</td></tr>
<tr><td>Attribute 3 value</td><td>Float</td><td>4</td><td>Value of attribute 3</td></tr>
<tr><td>Attribute 3 name</td><td>Char[32]</td><td>32</td><td>name of the attribute 3</td></tr>
<tr><td>Attribute 4 value</td><td>Float</td><td>4</td><td>Value of attribute 4</td></tr>
<tr><td>Attribute 4 name</td><td>Char[32]</td><td>32</td><td>name of the attribute 4</td></tr>
<tr><td>Attribute 5 value</td><td>Float</td><td>4</td><td>Value of attribute 5</td></tr>
<tr><td>Attribute 5 name</td><td>Char[32]</td><td>32</td><td>name of the attribute 5</td></tr>
</tbody></table>
<hr />
<h5 id="7---warning-zone-section"><a class="header" href="#7---warning-zone-section">7 - Warning zone section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 7</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Warning zone front value</td><td>Uint</td><td>2</td><td>Front warning zone selection, this warning zone is reported when Navitrol driving in AUTO mode otherwise idle zone is reported</td></tr>
<tr><td>Warning zone rear value</td><td>Uint</td><td>2</td><td>Rear warning zone selection, this warning zone is reported when Navitrol driving in AUTO mode otherwise idle zone is reported</td></tr>
</tbody></table>
<hr />
<h5 id="8---outputs-section"><a class="header" href="#8---outputs-section">8 - Outputs section</a></h5>
<p>The virtual outputs need to be activated and mapped in Navitrol parameters to be used instead of physical IO</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 8</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Num of binary outputs</td><td>Uint</td><td>2</td><td>0-32 supported</td></tr>
<tr><td>Binary outputs</td><td>An array of bytes</td><td>num of outputs * 1</td><td></td></tr>
<tr><td>Num of integer outputs</td><td>Uint</td><td>2</td><td>0-32 supported</td></tr>
<tr><td>Integer outputs</td><td>An array of integers</td><td>num of outputs * 4</td><td></td></tr>
<tr><td>Num of float outputs</td><td>Uint</td><td>2</td><td>0-32 supported</td></tr>
<tr><td>Float outputs</td><td>An array of floats</td><td>num of outputs * 4</td><td></td></tr>
</tbody></table>
<hr />
<h5 id="9---steering-angle-section"><a class="header" href="#9---steering-angle-section">9 - Steering Angle section</a></h5>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 9</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Target steering wheel angle</td><td>Float</td><td>4</td><td>In radians</td></tr>
<tr><td>Measured steering wheel angle</td><td>Float</td><td>4</td><td>In radians</td></tr>
</tbody></table>
<hr />
<h5 id="10---battery-section"><a class="header" href="#10---battery-section">10 - Battery section</a></h5>
<p>Battery values produced by Navitrol.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 10</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Battery state of charge</td><td>Uint</td><td>2</td><td>In percentages, range 0...100 %, 65535 not used</td></tr>
<tr><td>Battery voltage</td><td>Uint</td><td>2</td><td>Value * 0.1 Volt, 65535 not used</td></tr>
<tr><td>Charge current/current draw</td><td>Int</td><td>2</td><td>Value * 0.1 Ampere, 32767 not used. Negative values if discharging and positive values, if battery is being charged.</td></tr>
<tr><td>Energy draw</td><td>Int</td><td>2</td><td>Value * 0.1 Ah, 32767 not used</td></tr>
<tr><td>Time to go</td><td>Uint</td><td>2</td><td>Estimated time left in minutes until the battery is empty, 65535 not used</td></tr>
<tr><td>Battery state of health</td><td>Uint</td><td>2</td><td>In percentages, range 0...100 %, 65535 not used</td></tr>
<tr><td>Battery temperature</td><td>Int</td><td>2</td><td>In Celsius degrees, 32767 not used</td></tr>
<tr><td>Battery load cycles</td><td>Uint</td><td>2</td><td>Number of load cycles performed for battery, 65535 not used</td></tr>
<tr><td>Battery operating hours</td><td>Uint</td><td>2</td><td>Total number of operating hours, 65535 not used</td></tr>
<tr><td>Charger voltage</td><td>Uint</td><td>2</td><td>Value * 0.1 Volt, 65535 not used</td></tr>
<tr><td>Errors</td><td>Bitfield</td><td>2</td><td>Active error flags described below. All bits are 0 when not active battery errors.</td></tr>
<tr><td>Binary data 1</td><td>Bitfield</td><td>1</td><td>Binary data 1 described below:</td></tr>
<tr><td>Reserved</td><td>NA</td><td>1</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Errors  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Battery management communication error</td><td>0</td><td>0: not active 1: active</td></tr>
<tr><td>Battery configuration error</td><td>1</td><td>0: not active 1: active</td></tr>
<tr><td>Undervoltage error</td><td>2</td><td>0: not active 1: active</td></tr>
<tr><td>Overvoltage error</td><td>3</td><td>0: not active 1: active</td></tr>
<tr><td>Overcurrent error</td><td>4</td><td>0: not active 1: active</td></tr>
<tr><td>Temperature error</td><td>5</td><td>0: not active 1: active</td></tr>
<tr><td>Internal defect</td><td>6</td><td>0: not active 1: active</td></tr>
<tr><td>Bad state of health</td><td>7</td><td>0: not active 1: active</td></tr>
<tr><td>Faulty charger</td><td>8</td><td>0: not active 1: active</td></tr>
<tr><td>Faulty contactor</td><td>9</td><td>0: not active 1: active</td></tr>
<tr><td>Current sensor defect</td><td>10</td><td>0: not active 1: active</td></tr>
<tr><td>Temperature sensor defect</td><td>11</td><td>0: not active 1: active</td></tr>
<tr><td>Battery cell drift error</td><td>12</td><td>0: not active 1: active</td></tr>
<tr><td>Charging error</td><td>13</td><td>0: not active 1: active</td></tr>
<tr><td>Generic error</td><td>14</td><td>Unspecified error <br />0: not active 1: active</td></tr>
<tr><td>Generic error</td><td>15</td><td>Unspecified error <br />0: not active 1: active</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Binary data 1 bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Charging required</td><td>0</td><td>1 charging required, <br />Used to notify that AGV is ready for charge.</td></tr>
<tr><td>Charging</td><td>1</td><td>1 charging, 0 not charging</td></tr>
<tr><td>Reserved</td><td>2-7</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="11---disable-safety-section"><a class="header" href="#11---disable-safety-section">11 - Disable safety section</a></h5>
<p>This message is sent only when parameter disable_safety is set to 1.</p>
<p>Used in situation, where customer has safety scanner below the fork, so the safety needs to be disabled when the AGV is close to the load or unload point or when the fork is decreased to the scanner level. Parameter disable_safety_distance_to_load_or_unload defines the distance to the load and unload points and actuator_disable_safety_max_value_mm is the maximum value where the safety is not disabled. If the actuator is lower than this parameter, then disable safety is sent. If needed, the speed can be limited also while the disable is active. It can be set with parameter disable_safety_limit_speed.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 11</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Disable safety</td><td>Byte</td><td>1</td><td>1 = Navitrol request safety to be disabled, <br />0 = Not disabled</td></tr>
</tbody></table>
<hr />
<h5 id="12---drive-order-info-section"><a class="header" href="#12---drive-order-info-section">12 - Drive order info section</a></h5>
<p>Information from current drive order.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 12</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length = 100</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Going to ID</td><td>Uint</td><td>4</td><td>ID of ongoing or last drive target, updated at start of a drive</td></tr>
<tr><td>Target reached</td><td>Uint</td><td>2</td><td>1 if the Going to ID destination has been reached and the AGV is stopped, else 0 <br />Note: AGV is considered to be stopped, if measured speed is less than value of mot_ctrl_wheel_v_min -parameter</td></tr>
<tr><td>Going to name</td><td>Char[32]</td><td>32</td><td>Name of goal symbolic point of the drive, null-terminated string</td></tr>
<tr><td>Coming from name</td><td>Char[32]</td><td>32</td><td>Name of symbolic point where the drive started, null-terminated string</td></tr>
<tr><td>Current segment</td><td>Uint</td><td>4</td><td>The ID of the segment on which the AGV currently is located</td></tr>
<tr><td>Distance to segment</td><td>Float</td><td>4</td><td>The transversal distance to the segment in meters</td></tr>
<tr><td>On route</td><td>Uint</td><td>2</td><td>AGV on route information,  <br />1 - on route 0 - not on route</td></tr>
<tr><td>Tag ID</td><td>Uint</td><td>2</td><td>ID of the route tag. A tag value can be defined on any part or group of segments to distinguish one part of the route network from another. <br />Valid values 0 - 65280.</td></tr>
<tr><td>Door Tag ID</td><td>Uint</td><td>2</td><td>Door type symbolic point writes tag IDs to route automatically.</td></tr>
<tr><td>Reserved Tag IDs</td><td>Uint</td><td>4</td><td></td></tr>
<tr><td>Driving vector angle</td><td>Float</td><td>4</td><td>Driving vector angle relative to the vehicle frame (+/- PI in radians)  <br />0-forwards along vehicle center line. Positive direction is CCW from the vehicle center line.</td></tr>
<tr><td>Turning information</td><td>Uint</td><td>2</td><td>Vehicle turning/pivoting. <br />0 = No turning <br />1 = Left <br />2 = Right <br />3 = Blink both (Not currently implemented) <br />4 = Adjusting wheels for pivoting <br />5 = Pivot left <br />6 = Pivot right <br />7 = Approaching pivot point</td></tr>
</tbody></table>
<hr />
<h5 id="13---distance-to-target-section"><a class="header" href="#13---distance-to-target-section">13 - Distance to target section</a></h5>
<p>Distance information of current drive order</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 13</td><td>Uint</td><td>2</td><td>Distance to Target section</td></tr>
<tr><td>Section length = 52</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Distance to Target</td><td>Float</td><td>4</td><td>Length of the straight line between current position and the target location</td></tr>
<tr><td>Trajectory length to Target</td><td>Float</td><td>4</td><td>Length of the trajectory from current position to the target location, information only valid when in AUTO_STATE</td></tr>
<tr><td>Target X</td><td>Float</td><td>4</td><td>Drive target X coordinate, updated in AUTO_STATE</td></tr>
<tr><td>Target Y</td><td>Float</td><td>4</td><td>Drive target Y coordinate, updated in AUTO_STATE</td></tr>
<tr><td>Target H</td><td>Float</td><td>4</td><td>Drive target Heading in radians, updated in AUTO_STATE</td></tr>
<tr><td>Target is Symbolic point</td><td>Uint</td><td>2</td><td>End point of trajectory is symbolic point 0=False, 1=True, updated in AUTO_STATE</td></tr>
<tr><td>Target Symbolic point ID</td><td>Uint</td><td>4</td><td>Trajectory target ID, valid only if &quot;Target is Symbolic point&quot; is set true, updated in AUTO_STATE</td></tr>
<tr><td>Target Symbolic point type</td><td>Bitfield</td><td>4</td><td>Symbolic point type bitfield of target symbolic point.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Target Symbolic point type bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Load</td><td>0</td><td></td></tr>
<tr><td>Unload</td><td>1</td><td></td></tr>
<tr><td>Wait unload</td><td>2</td><td></td></tr>
<tr><td>Wait unload</td><td>3</td><td></td></tr>
<tr><td>Charge</td><td>4</td><td></td></tr>
<tr><td>Stop</td><td>5</td><td></td></tr>
<tr><td>Reserved</td><td>6-7</td><td>Not in use</td></tr>
<tr><td>Hold</td><td>8</td><td></td></tr>
<tr><td>Tag</td><td>9</td><td></td></tr>
<tr><td>Decision point</td><td>10</td><td></td></tr>
<tr><td>Door</td><td>11</td><td></td></tr>
<tr><td>Stop-and-hold</td><td>12</td><td></td></tr>
<tr><td>Level change</td><td>13</td><td></td></tr>
<tr><td>Buffer lane</td><td>14</td><td></td></tr>
<tr><td>Rack</td><td>15</td><td></td></tr>
</tbody></table>
<hr />
<h5 id="14---all-custom-properties"><a class="header" href="#14---all-custom-properties">14 - All Custom properties</a></h5>
<p>This message will send all custom properties that are parsed from the segment file. The maximum number is 20. The first byte informs how many properties are coming. Each property has a value and name.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 14</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length = 10 + N * 36</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Number of properties = N</td><td>Int</td><td>4</td><td>Number of properties that will be sent <br />Max value 20</td></tr>
<tr><td>Property data</td><td>Property type</td><td>36 * N</td><td>Each property has a value and name</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Property data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Property value</td><td>Float</td><td>4</td><td>Value of property</td></tr>
<tr><td>Property name</td><td>Char[32]</td><td>32</td><td>Name of property</td></tr>
</tbody></table>
<hr />
<h5 id="15---coupled-drive-status-section"><a class="header" href="#15---coupled-drive-status-section">15 - Coupled drive status section</a></h5>
<p>This section contains data about coupled formation and state. The complete contents can only be provided by the leader AGV.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length  (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 15</td><td>Uint</td><td>2</td><td>Coupled drive status section</td></tr>
<tr><td>Section length = 60</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Coupling mode</td><td>Uint</td><td>2</td><td>0 = Decoupled <br />1 = Coupled as leader <br />2 = Coupled as follower</td></tr>
<tr><td>Coupled state</td><td>Uint</td><td>2</td><td>The coupled state of the machine  <br />0 = NO_STATE  <br />1 = START  <br />2 = STANDBY  <br />3 = AUTO  <br />9 = FSTOP  <br />14 = LOAD  <br />15 = HOLD  <br />16 = MANUAL  <br />17 = PAUSE</td></tr>
<tr><td>Communication ok</td><td>Uint</td><td>2</td><td>0 = Not ok 1 = Ok</td></tr>
<tr><td>Formation data</td><td>Formation data type</td><td>32</td><td>Formation data is only valid for leader when communication is ok</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Formation data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>X-position</td><td>Float</td><td>4</td><td>X-coordinate of formation's navigation point in map coordinates(meters)</td></tr>
<tr><td>Y-position</td><td>Float</td><td>4</td><td>Y-coordinate of formation's navigation point in map coordinates (meters)</td></tr>
<tr><td>Heading</td><td>Float</td><td>4</td><td>Heading of the formation (degrees) in map coordinates</td></tr>
<tr><td>Omni heading</td><td>Float</td><td>4</td><td>Omni heading / &quot;frame heading&quot; of the formation (degrees)</td></tr>
<tr><td>Velocity</td><td>Float</td><td>4</td><td>Speed of the formation (m/s)</td></tr>
<tr><td>Turn rate</td><td>Float</td><td>4</td><td>Turn rate of the formation (degrees/s)</td></tr>
<tr><td>Current segment</td><td>Uint</td><td>4</td><td>Current segment of the formation</td></tr>
<tr><td>Distance to route</td><td>Float</td><td>4</td><td>Formation's distance from the defined route - along trajectory normal (meters)</td></tr>
</tbody></table>
<hr />
<h5 id="16---drive-order-with-enroute-stopping-point-data"><a class="header" href="#16---drive-order-with-enroute-stopping-point-data">16 - Drive order with enroute stopping point data</a></h5>
<p>This section will send the data for the drive order with enroute stopping points.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 16</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length = 12</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Is AGV within the distance specified by stop_enroute_speed_activation_dist_m</td><td>Unsigned char</td><td>1</td><td>1 = AGV within specified distance <br />0 = AGV not within specified distance</td></tr>
<tr><td>Reserved</td><td>NA</td><td>5</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="17---trailer-transport-section"><a class="header" href="#17---trailer-transport-section">17 - Trailer transport section</a></h5>
<p>This section contains trailer transport data required for coupling and uncoupling sequences. Navitrol uses this section to request coupling actions and will wait until supervisor confirms the action to be ready using Supervisor trailer transport section.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>17</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>22</td></tr>
<tr><td>Trailer coupling action</td><td>Uint</td><td>2</td><td>During coupling to a trailer or uncoupling from one Navitrol will send these “coupling actions” based on the state of the coupling. Navitrol expects that Supervisor will change the “Coupling status” (in message 3002:12) to match the given action before it continues to next (un)coupling state.<br />Values:<br />0 = No action<br />1 = Uncouple (move actuator down)<br />2 = Prepare for coupling (move actuator to kingpin height)<br />3 = Prepare for uncoupling (move actuator to kingpin height, release lock)<br />4 = Couple (move actuator to transport height / lock trailer)</td></tr>
<tr><td>Trailer dimensions request</td><td>Uint</td><td>2</td><td>Indicates if Navitrol is waiting for trailer dimensions from the supervisor. (Sent using message 3042)<br />0 = All good<br />1 = Waiting for Trailer dimensions</td></tr>
<tr><td>Reserved</td><td>NA</td><td>12</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="18---vehicle-speed-section"><a class="header" href="#18---vehicle-speed-section">18 - Vehicle speed section</a></h5>
<p>Information about trajectory speed reference, measured and calculated speeds on the vehicle</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 18</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length = 36 + wheel count * 4</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Trajectory reference speed</td><td>Float</td><td>4</td><td>Speed reference given in trajectory point in m/s. Nonzero when driving. <br />Zero at startup, can be zeroed in standby or left as the last used reference.</td></tr>
<tr><td>Vehicle speed</td><td>Float</td><td>4</td><td>Navigation point speed in m/s. Can be both positive and negative. If negative, the vehicle is moving in the opposite direction of the speed direction.</td></tr>
<tr><td>Vehicle speed direction</td><td>Float</td><td>4</td><td>Navigation point speed direction relative to vehicle body in degrees. Range +-180 degrees, 0 forwards along vehicle center axis</td></tr>
<tr><td>Wheel count</td><td>Uint</td><td>2</td><td>Number of wheels with speed measurement on vehicle.</td></tr>
<tr><td>Wheel speed</td><td>Float</td><td>4 * wheel count</td><td>Speed of each wheel in m/s Sending order:  <br />Steer drive - index 0 <br />Diff drive - left 0, right 1 <br />Mecanum: Front left 0, front right 1, rear left 2, rear right 3 <br />Omni drive - order from 0 to count in parameters wheel_x[i], wheel_y[i]</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="19---scanner-status-section"><a class="header" href="#19---scanner-status-section">19 - Scanner status section</a></h5>
<p>This section contains the status information from all safety and measurement scanners connected to Navitrol.</p>
<p>Scanner types:</p>
<ul>
<li>Measurement scanners
<ul>
<li>Navigation scanner
<ul>
<li>Used for localization</li>
<li>Related parameters: <strong>scanner_model_front</strong> and <strong>scanner_model_rear</strong></li>
</ul>
</li>
<li>Measurement only scanner
<ul>
<li>Used for example target detection or obstacle avoidance
- Related parameters: <strong>scanner_meas_model</strong></li>
</ul>
</li>
</ul>
</li>
<li>Safety only scanner
<ul>
<li>Used for warning and protection zone information</li>
<li>Must be a safety scanner model</li>
<li>Related parameters: <strong>safety_scanner_model</strong></li>
</ul>
</li>
</ul>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID</td><td>Uint</td><td>2</td><td>19</td></tr>
<tr><td>Section length</td><td>Uint</td><td>4</td><td>10 + 2 * (NMS + NSS)</td></tr>
<tr><td>Number of measurement scanners</td><td>Uint</td><td>2</td><td>Number of measurement scanner statuses sent. (NMS)<br />Equals to number of supported measurement scanners – currently Navitrol supports 4 measurement scanners.<br />The status is sent from all measurement scanners even if some of them would not be in use.</td></tr>
<tr><td>Measurement scanner status</td><td>Scanner status bitfield[]</td><td>2 * NMS</td><td>Measurement scanner status as 2-byte bitfield array. <br />Default array indexes: <br />[0] – Rear navigation scanner  <br />[1] – Front navigation scanner  <br />[2] – Measurement only scanner 1  <br />[3] – Measurement only scanner 2 <br />0 – Inactive, 1 – Active</td></tr>
<tr><td>Number of safety only scanners</td><td>Uint</td><td>2</td><td>Number of safety only scanner statuses sent. (NSS)<br />Equals to number of safety scanners (NSS) in use – currently Navitrol supports up to 4 safety scanners.<br />Status will be sent only from the safety scanners defined with <strong>safety_scanner_model</strong>-array parameter.</td></tr>
<tr><td>Safety scanner status</td><td>Scanner status bitfield[]</td><td>2 * NSS</td><td>Safety scanner status as 2-byte bitfield array.<br />Array indexes: <br />The same order as the scanners are defined with <strong>safety_scanner_model</strong>-array parameter.</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Scanner status bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Pollution warning</td><td>0</td><td>Scanner pollution warning – Scanner is dirty.</td></tr>
<tr><td>Pollution error</td><td>1</td><td>Scanner pollution error – Scanner is very dirty</td></tr>
<tr><td>Fatal error</td><td>2</td><td>Scanner reports fatal error – Scanner is unoperational</td></tr>
<tr><td>Protection zone</td><td>3</td><td>Scanner protection zone triggered</td></tr>
<tr><td>Warning zone 1</td><td>4</td><td>Scanner warning zone 1 triggered.</td></tr>
<tr><td>Warning zone 2</td><td>5</td><td>Scanner warning zone 2 triggered.</td></tr>
<tr><td>Reserved</td><td>6-15</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h5 id="20---sleep-mode-command-section"><a class="header" href="#20---sleep-mode-command-section">20 - Sleep mode command section</a></h5>
<p>This section contains the command for sleep mode. With the sleep mode feature, the fleet control can request AGVs to save battery. The supervisor can inform the fleet control about AGV's current sleep mode state by sending the <a href="#9---sleep-mode-state-section">sleep mode state section in 3002 status message</a>.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.56.00</td><td>Section added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Section ID = 20</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Section length = 8</td><td>Uint</td><td>4</td><td>Length of the section including all data fields of the section</td></tr>
<tr><td>Sleep mode command</td><td>Uint</td><td>2</td><td>0 = Normal operation <br/> 1 = Activate sleep <br/> 2 = Activate deep sleep</td></tr>
</tbody></table>
<hr />
<h4 id="3103---symbolic-point-data-result"><a class="header" href="#3103---symbolic-point-data-result">3103 - Symbolic point data result</a></h4>
<p>Navitrol sends this message as a reply to the &quot;Symbolic Point Data Request&quot;-message and always after Navitrol has loaded the symbolic points into memory. This message contains the information of all symbolic points parsed by Navitrol e.g. for a UI display.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3103</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Number of Symbolic Points = N</td><td>Uint</td><td>4</td><td>The number of Symbolic Point data structures in this message</td></tr>
<tr><td>Symbolic point data</td><td>SP data type</td><td>N * 84</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>Symbolic point data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Symbolic Point ID</td><td>Uint</td><td>4</td><td>ID of the symbolic point</td></tr>
<tr><td>Symbolic Point Name</td><td>Char[32]</td><td>32</td><td>name of the symbolic point</td></tr>
<tr><td>X-coordinate</td><td>Float</td><td>4</td><td>x-coordinate of the symbolic point</td></tr>
<tr><td>Y-coordinate</td><td>Float</td><td>4</td><td>y-coordinate of the symbolic point</td></tr>
<tr><td>Level</td><td>Int</td><td>4</td><td>Level of the symbolic point</td></tr>
<tr><td>Position Init1- ID</td><td>Int</td><td>4</td><td>ID for the position init pose 1. -1 if not defined for this symbolic point</td></tr>
<tr><td>Position Init1 - Heading</td><td>Float</td><td>4</td><td>Heading for the AGV when setting position to PositionInit1</td></tr>
<tr><td>Position Init2 - ID</td><td>Int</td><td>4</td><td>ID for the position init pose 2 -1 if not defined for this symbolic point</td></tr>
<tr><td>Position Init2 - Heading</td><td>Float</td><td>4</td><td>Heading for the AGV when setting position to PositionInit2 (opposite heading to PositionInit1).</td></tr>
<tr><td>Virtual Tag enabled</td><td>Uint</td><td>2</td><td>1 if a virtual tag is enabled for this symbolic point (applies to 'generic' tag, so doors, Navitrol features or any route properties do not trigger this or the Virtual Tag value)</td></tr>
<tr><td>Virtual Tag value</td><td>Uint</td><td>4</td><td>This value (i.e. action code) is written into the &quot;Navitrol Status&quot;-message when the AGV is entering this symbolic point (field <em>Virtual Tag value</em> in message 3012)</td></tr>
<tr><td>IsLoad</td><td>Uint</td><td>2</td><td>1 if symbolic point is a loading location</td></tr>
<tr><td>isUnload</td><td>Uint</td><td>2</td><td>1 if symbolic point is an unloading location</td></tr>
<tr><td>isWaitLoad</td><td>Uint</td><td>2</td><td>1 if symbolic point is a wait loading location</td></tr>
<tr><td>isWaitUnload</td><td>Uint</td><td>2</td><td>1 if symbolic point is a wait unloading location</td></tr>
<tr><td>isChargingLocation</td><td>Uint</td><td>2</td><td>1 if symbolic point is a charging location</td></tr>
<tr><td>isStopLocation</td><td>Uint</td><td>2</td><td>1 if symbolic point is a stop location</td></tr>
<tr><td>isHold</td><td>Uint</td><td>2</td><td>1 if symbolic point is a hold location</td></tr>
</tbody></table>
<hr />
<h4 id="3104---release-hold-to-custom-destination-result"><a class="header" href="#3104---release-hold-to-custom-destination-result">3104 - Release hold to custom destination result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Release hold to custom destination</em> message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3104</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the destination.</td></tr>
<tr><td>Release result</td><td>Uint</td><td>4</td><td>0 accepted, 1 bad input data, 2 wrong state, 3 unreachable ID, 4 drive control disabled</td></tr>
</tbody></table>
<hr />
<h4 id="3105---go-to-destination-result"><a class="header" href="#3105---go-to-destination-result">3105 - Go to destination result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Go to destination</em> message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3105</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the destination.</td></tr>
<tr><td>Go to result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state, <br />3 unreachable ID, <br />4 drive control disabled, <br />5 too big transversal offset, <br />6 too big longitudinal offset, <br />7 too big heading offset <br /> 8 drive rejected (no active drive controllers),  <br />9 error(s) active <br />10 AGV distance error to route too high <br />11 trajectory generation failure  <br />12 previous drive order in progress <br /> 13 AGV already at the destination ID</td></tr>
</tbody></table>
<hr />
<h4 id="3106---pause-drive-result"><a class="header" href="#3106---pause-drive-result">3106 - Pause drive result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Pause drive</em> message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3106</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Pause result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state</td></tr>
</tbody></table>
<hr />
<h4 id="3107---resume-drive-result"><a class="header" href="#3107---resume-drive-result">3107 - Resume drive result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Resume drive</em> message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3107</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the resumed drive destination.</td></tr>
<tr><td>Resume result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state</td></tr>
</tbody></table>
<hr />
<h4 id="3108---abort-drive-result"><a class="header" href="#3108---abort-drive-result">3108 - Abort drive result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Abort drive</em> message. Aborting is accepted if the machine is driving or if a drive is paused.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3108</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Abort result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state</td></tr>
</tbody></table>
<hr />
<h4 id="3111---stop-hold-released"><a class="header" href="#3111---stop-hold-released">3111 - Stop hold released</a></h4>
<p>Navitrol sends this message as a reply to the <em>Release stop hold</em> message (Message ID 3011).</p>
<p>Note: This is a specific message for only Stop-and-Hold point and the logic is different than in normal release-hold production, which is run with other types of symbolic points.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3111</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 10</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Release Stop Hold Result</td><td>Uint</td><td>2</td><td>0 = accepted, <br />1 = rejected - not stop hold <br />2 = rejected - wrong mode</td></tr>
</tbody></table>
<hr />
<h4 id="3112---go-to-destination-with-route-offset-result"><a class="header" href="#3112---go-to-destination-with-route-offset-result">3112 - Go to destination with route offset result</a></h4>
<p>Navitrol sends this message as a reply to the <em>Go to destination with route offset</em> message.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3112</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the destination.</td></tr>
<tr><td>Go to result</td><td>Uint</td><td>4</td><td><a href="#3105---go-to-destination-result">Same as: 3105 - Go to destination result</a></td></tr>
</tbody></table>
<hr />
<h4 id="3113-go-to-destination-with-order-id-result"><a class="header" href="#3113-go-to-destination-with-order-id-result">3113 Go To Destination With Order ID result</a></h4>
<p>Navitrol replies to the Go To Destination With Order ID message just to inform whether it has been accepted for forwarding to fleet control. The fleet control can still refuse the drive order based on the route and fleet statuses. If the fleet control accepts and starts the drive order, the production status is reported in message 3115 Production Status Data.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3113</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 20</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Destination ID</td><td>Uint</td><td>4</td><td>Symbolic Point ID of the destination.</td></tr>
<tr><td>Go To order result</td><td>Uint</td><td>4</td><td><a href="#3105---go-to-destination-result">Same as: 3105 - Go to destination result</a></td></tr>
<tr><td>Order ID</td><td>Uint</td><td>4</td><td>Verification of the order ID generated by the supervisor <br />0xFFFF FFFF - no ID</td></tr>
</tbody></table>
<hr />
<h4 id="3114-production-status-data-sending-request-result"><a class="header" href="#3114-production-status-data-sending-request-result">3114 Production Status Data Sending Request Result</a></h4>
<p>Navitrol replies to the Production Status Data Sending Request message to inform the current sending status.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Message added</td></tr>
<tr><td>6.42.00</td><td>Added requested once and invalid request received responses</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3114</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>10</td></tr>
<tr><td>Sending status</td><td>Uint</td><td>2</td><td>0 – Sending deactivated<br />1 – Sending on update activated<br />2 – Requested once<br />100 – Invalid request received</td></tr>
</tbody></table>
<hr />
<h4 id="3115-production-status-data"><a class="header" href="#3115-production-status-data">3115 Production Status Data</a></h4>
<p>Navitrol sends this message if the production status sending has been activated. Activation is done either by sending message 3013 - Go to destination message with ID or by separately activating the sending with message 3014 - Production status sending request. The message is sent every time a production order status message is received from the fleet control.</p>
<p>Note: Sending production status data is disabled by default on Navithor side. It can be enabled with “Machine_ProductionStatusIntervalMs” Navithor parameter.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.26.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3115</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 36</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Order ID external</td><td>Uint</td><td>4</td><td>The last order ID received from the Supervisor</td></tr>
<tr><td>Order ID sent</td><td>Uint</td><td>4</td><td>The last order ID sent to fleet control</td></tr>
<tr><td>Order ID active</td><td>Uint</td><td>4</td><td>Current active drive order ID in fleet control</td></tr>
<tr><td>Item type</td><td>Uint</td><td>4</td><td>Item being handled by the AGV in the active drive order. <br />0xFFFF FFFF - no item</td></tr>
<tr><td>Pick up ID</td><td>Uint</td><td>4</td><td>Symbolic point ID to pick up from</td></tr>
<tr><td>Target ID</td><td>Uint</td><td>4</td><td>Symbolic point ID to bring the resource to</td></tr>
<tr><td>Order status</td><td>Short Integer</td><td>2</td><td>0 - new_order <br />1 - order loaded <br />2 - order waiting <br />3 - executing  <br />4 - interrupted <br />5 - completed <br />6 - cancelled</td></tr>
<tr><td>Machine in production</td><td>Uint</td><td>2</td><td>0 - machine not in production <br />1 - machine in production</td></tr>
</tbody></table>
<hr />
<h4 id="3121---start-new-drive-result"><a class="header" href="#3121---start-new-drive-result">3121 - Start New Drive Result</a></h4>
<p>Navitrol sends this message as a reply to the Start New Drive message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3121</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Start New Drive Result</td><td>Uint</td><td>4</td><td>0 accepted <br />1 bad input data <br />2 wrong state <br />3 invalid traj type <br />4 message size mismatch <br />5 rejected due to active error <br />6 trajectory calculation failed <br />7 invalid point attribute (like omni heading for steer/diff drive AGV) <br />8 too few trajectory points sent <br />9 too many trajectory points sent <br />10 distance between trajectory points too small <br />11 distance between trajectory points too large <br />12 - undefined <br />13 route too far from current location <br />14 agv heading differs too much from route heading <br /><strong>NOTE:</strong> Some example cases what might have caused a specific result can be found under the message specification 3021</td></tr>
</tbody></table>
<hr />
<h4 id="3122---extend-drive-result"><a class="header" href="#3122---extend-drive-result">3122 - Extend Drive Result</a></h4>
<p>Navitrol sends this message as a reply to the Extend drive message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3122</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Extend Drive Result</td><td>Uint</td><td>4</td><td>0 accepted <br />1 bad input data <br />2 wrong state <br />3 invalid traj type <br />4 message size mismatch <br />5 rejected due to active error <br />6 trajectory calculation failed <br />7 invalid point attribute (like omni heading for steer/diff drive AGV) <br />8 too few trajectory points sent <br />9 too many trajectory points sent <br />10 distance between trajectory points too small <br />11 distance between trajectory points too large <br />12 invalid drive extension message type  <br /><strong>NOTE:</strong> Some example cases what might have caused a specific result can be found under the message specification 3021</td></tr>
</tbody></table>
<hr />
<h4 id="3123---speed-limit-set"><a class="header" href="#3123---speed-limit-set">3123 - Speed Limit Set</a></h4>
<p>Navitrol sends this message as a reply to the Set Speed Limit message.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3123</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 14</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Released/Set</td><td>Uint</td><td>2</td><td>0 - released, 1 - set</td></tr>
<tr><td>Speed limit</td><td>Float</td><td>4</td><td>Max speed set in m/s <br />Note: FLT_MAX if released</td></tr>
</tbody></table>
<hr />
<h4 id="3124---return-to-route-response"><a class="header" href="#3124---return-to-route-response">3124 - Return To Route Response</a></h4>
<p>Navitrol sends this message to supervisor as a response to return-to-route request message. Navitrol will reply with 0 or 1 for return-to-route success or return-to-route failure respectively.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3124</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Return-to-route result</td><td>Uint</td><td>4</td><td>0 = return-to-route found a segment point that satisfies the constraints set by parameters. <br /> 1 = no such segment point found that satisfies the return-to-route constraints as specified by the parameters <br /> 2 = Wrong state. Return to route is already active or AGV is not in Standby or Coupled state. <br /> 3 = Not used for this feature. <br /> 4 = Auto driving is disabled.</td></tr>
</tbody></table>
<hr />
<h4 id="3128---custom-speed-array-result"><a class="header" href="#3128---custom-speed-array-result">3128 - Custom Speed Array Result</a></h4>
<p>Navitrol sends this message as a reply to <em>Select Custom Speed Array Parameters</em> message 3028.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3127</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Custom speed array result</td><td>Uint</td><td>2</td><td>0 = Custom speed array released <br />1 = Custom speed array set</td></tr>
</tbody></table>
<hr />
<h4 id="3129---drive-ready"><a class="header" href="#3129---drive-ready">3129 - Drive ready</a></h4>
<p>Navitrol sends this message, when a drive order is ready. It is sent if fleet_control_enabled = 2 or veh_inte_send_drive_ready_msg = 1.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3129</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Drive order result</td><td>Uint</td><td>4</td><td>0 - Drive order Ok <br />1 - Drive order failed</td></tr>
</tbody></table>
<hr />
<h4 id="3131--drive-order-from-segments-result"><a class="header" href="#3131--drive-order-from-segments-result">3131- Drive Order from Segments Result</a></h4>
<p>Navitrol sends this message as a reply to <em>Drive Order from Segments</em> 3031.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3131</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 12</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Drive order from segments result</td><td>Uint</td><td>4</td><td>0 accepted, <br />1 bad input data, <br />2 wrong state, <br />4 drive control disabled, <br />5 too large transversal offset, <br />6 too large longitudinal offset, <br />7 too large heading offset <br />8 drive order rejected, <br />9 error(s) active, <br />10 too large distance from route</td></tr>
</tbody></table>
<hr />
<h4 id="3132---set-target-detection-mode-result"><a class="header" href="#3132---set-target-detection-mode-result">3132 - Set target detection mode result</a></h4>
<p>Navitrol sends this as a response to the message 3032. Returns &quot;Result&quot; = 0 if the target detection mode was changed successfully. If the message was rejected the reason is indicated by the value of the &quot;Result&quot;.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3132</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 10</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Result</td><td>Uint</td><td>2</td><td>0 = Accepted <br />1 = Rejected - Unsupported &quot;Target detection mode to set&quot; <br />2 = Rejected - Unsupported amount of reflector docking reflectors <br />3 = Rejected - value of target_detection_type_selection != 5 in params.txt <br />4 = Rejected - Docking to the previous target already started <br />5 = Rejected - Reflector width is negative or zero <br />6 = Rejected - Pattern distance value is outside of the defined range [0.0, 1.0] <br />7 = Rejected - Given pallets given for search in pallets to detect bitfield</td></tr>
</tbody></table>
<hr />
<h4 id="3134---pgv-data-response"><a class="header" href="#3134---pgv-data-response">3134 - PGV Data Response</a></h4>
<p>Navitrol starts to send this message after it is requested with message 3034. Message is sent every n:th time Navitrol receives PGV data from the sensor(s). By default, Navitrol sends this message every time data is received (n = 1) but it can be adjusted via parameter pgv_to_supervisor_nth_sync.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3134</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Number of PGVs</td><td>Uint</td><td>2</td><td>Number of connected PGVs. Max 4.</td></tr>
<tr><td>PGV data</td><td>Array of PGV data</td><td>Variable: Number of PGVs * structure size</td><td></td></tr>
</tbody></table>
<table><thead><tr><th><strong>PGV data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Data available</td><td>Uint</td><td>2</td><td>0 = No data available. Check configuration. 1 = Data available</td></tr>
<tr><td>Y-position</td><td>Int</td><td>4</td><td>Scaling 0.1 mm</td></tr>
<tr><td>X-position</td><td>Uint</td><td>4</td><td>Scaling 0.1 mm</td></tr>
<tr><td>Heading</td><td>Uint</td><td>2</td><td>Scaling 0.1 degrees, 0-3600 positive rotation in CW</td></tr>
<tr><td>Status</td><td>Bitfield</td><td>2</td><td></td></tr>
<tr><td>Warning</td><td>Uint</td><td>2</td><td>Warning code</td></tr>
<tr><td>Data Matrix Tag</td><td>Uint</td><td>4</td><td>Tag number</td></tr>
<tr><td>Control Code Status</td><td>Uint</td><td>2</td><td>Refer to PGV manual</td></tr>
<tr><td>Control Code</td><td>Uint</td><td>2</td><td>Number of the detected control code</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Status  bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Error message</td><td>0</td><td></td></tr>
<tr><td>No absolute X position</td><td>1</td><td></td></tr>
<tr><td>Warning message</td><td>2</td><td></td></tr>
<tr><td>Control code detected</td><td>3</td><td></td></tr>
<tr><td>Reserved</td><td>4</td><td></td></tr>
<tr><td>Right lane selected</td><td>5</td><td></td></tr>
<tr><td>Left lane selected</td><td>6</td><td></td></tr>
<tr><td>No colored line detected</td><td>7</td><td></td></tr>
<tr><td>Repair tape detected</td><td>8</td><td></td></tr>
<tr><td>LC0</td><td>9</td><td></td></tr>
<tr><td>LC1</td><td>10</td><td></td></tr>
<tr><td>Tag detected</td><td>11</td><td></td></tr>
<tr><td>Tag detected</td><td>12-15</td><td></td></tr>
</tbody></table>
<hr />
<h4 id="3135---external-target-detection-response"><a class="header" href="#3135---external-target-detection-response">3135 - External target detection response</a></h4>
<p>Navitrol sends this message as a reply to Supervisor external target detection message 3035</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.30.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3135</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 28</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Start detection</td><td>Uint</td><td>2</td><td>1 -start detecting the target <br />0 - Stop detecting</td></tr>
<tr><td>Assumed target position X difference</td><td>Float</td><td>4</td><td>Distance from sensor position along the centre line of the detection sensor view.</td></tr>
<tr><td>Assumed target position Y difference</td><td>Float</td><td>4</td><td>Distance from sensor position perpendicular to the centre line of the detection sensor view. Positive to the left.</td></tr>
<tr><td>Assumed target position Z difference</td><td></td><td>4</td><td>Distance from sensor position in vertical direction. Positive direction upwards. <br />Value forced to 0</td></tr>
<tr><td>Assumed target angle difference</td><td>Float</td><td>4</td><td>Angle of the target with respect to the X-axis. Positive in CCW direction.</td></tr>
<tr><td>Detection too far from route</td><td>Uint</td><td>2</td><td>1 = target detected too far away <br />Otherwise value is 0</td></tr>
</tbody></table>
<hr />
<h4 id="3136---coupled-drive-coupling-response"><a class="header" href="#3136---coupled-drive-coupling-response">3136 - Coupled drive: coupling response</a></h4>
<p>Navitrol will send this message as a response to 3036.</p>
<p>Leader:</p>
<ul>
<li>The <strong>Coupling result</strong> will be <strong>coupling started</strong> if there is no immediate reason for Navitrol to refuse the command. <strong>Coupling will fail</strong> otherwise</li>
</ul>
<p>Follower:</p>
<ul>
<li><strong>Coupling will be ok</strong> if the follower was in the right state (STANDBY) and starts waiting for connection from the leader.</li>
<li><strong>Coupling will fail</strong> otherwise</li>
</ul>
<p>If given bad input, the coupling result point out one error even if there are many. The more exact error descriptions can be read from Navitrol logs.</p>
<p><strong>Note:</strong> If the leader fails to connect, all AGV's must get a decoupling message (3037). Else the leader will try connecting and the followers will remain waiting for a connection.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3136</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Coupling mode</td><td>Uint</td><td>2</td><td>Coupling mode after coupling command <br />0 = Uncoupled <br />1 = Leader 2 = Follower</td></tr>
<tr><td>Coupling result</td><td>Uint</td><td>2</td><td>0 = Coupling started <br />1 = Unsupported coupling mode <br />2 = Unsupported number of AGVs <br />3 = Invalid load dimension <br />4 = Invalid IP <br />5 = Invalid machine ID <br />6 = Invalid position <br />7 = Wrong state</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3137---coupled-drive-decoupling-response"><a class="header" href="#3137---coupled-drive-decoupling-response">3137 - Coupled drive: decoupling response</a></h4>
<p>Navitrol will send this message as a response to 3037.</p>
<p>Leader:</p>
<ul>
<li><strong>Decoupling will be ok</strong> if the coupling control state allows decoupling and the leader has disconnected from all followers.</li>
<li><strong>Decoupling will fail</strong> otherwise</li>
</ul>
<p>Follower:</p>
<ul>
<li><strong>Decoupling will be ok</strong> if the follower was in the right state (STANDBY, FSTOP, START) and the coupling communication is disconnected, or if the follower was still waiting for the coupling communication.</li>
<li><strong>Decoupling will fail</strong> otherwise</li>
</ul>
<p><strong>Note:</strong> If leader fails to connect to the followers. Each follower must get this decoupling message to end waiting for a connection.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3137</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 16</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Coupling mode</td><td>Uint</td><td>2</td><td>Coupling mode before decoupling command <br />0 = Uncoupled <br />1 = Leader <br />2 = Follower</td></tr>
<tr><td>Decoupling result</td><td>Uint</td><td>2</td><td>0 = Decoupling ok <br />1 = Decoupling failed wrong state</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3142--trailer-transport-set-trailer-dimensions-response"><a class="header" href="#3142--trailer-transport-set-trailer-dimensions-response">3142 – Trailer Transport: Set Trailer Dimensions response</a></h4>
<p>Navitrol’s response message to the Supervisor’s Activate Trailer transport message (3042).</p>
<p>Note: If multiple valid 3042 messages are sent within a short interval, first one is accepted and other are rejected with result value 3.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3142</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>14</td></tr>
<tr><td>Set dimensions result</td><td>Uint</td><td>2</td><td><strong>0</strong> = <strong>Dimensions set successfully</strong> <br /><strong>1</strong> = <strong>Error invalid input</strong> - Received dimensions are either too small or too large <br /><strong>2</strong> = <strong>Error trailer transport feature not enabled</strong> - with parameter trailer_transport_enabled.  <br /><strong>3</strong> = <strong>Error wrong state</strong> Navitrol is not expecting trailer dimensions, either coupling is not active, or the dimensions have already been set.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3143---coupled-drive-coupling-configuration"><a class="header" href="#3143---coupled-drive-coupling-configuration">3143 - Coupled drive: coupling configuration</a></h4>
<p>Navitrol will send this message as a response to request for coupling configuratoin 3043.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3143</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length for:  <br />Leader = 30 + N * Coupling Data Size = 158 or 222  <br />Follower /Uncoupled = 10</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)  <br />N = &quot;Number of AGVs&quot;</td></tr>
<tr><td>Coupling mode</td><td>Uint</td><td>2</td><td>0 = Uncoupled 1 = Leader 2 = Follower</td></tr>
<tr><td>-</td><td>-</td><td>-</td><td>Only Leader response will have following data</td></tr>
<tr><td>Number of AGVs = N</td><td>Uint</td><td>2</td><td>Number of AGVs in coupling</td></tr>
<tr><td>AGV Coupling Data Size</td><td>Uint</td><td>2</td><td>Size of coupling data per AGV = 64</td></tr>
<tr><td>AGV coupling data[N]</td><td>Array of AGV coupling data</td><td>N * structure size (64)</td><td></td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>AGV coupling data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>IP address</td><td>Char[46]</td><td>46</td><td>The IP address is defined as null terminated string ( = char array ending with value 0) <br />Supports IPv4 and IPv6</td></tr>
<tr><td>Machine ID</td><td>Uint</td><td>2</td><td>Machine ID of the AGV</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3144---send-schwarzmueller-tpdo-response"><a class="header" href="#3144---send-schwarzmueller-tpdo-response">3144 - Send Schwarzmueller TPDO response</a></h4>
<p>Navitrol will send this message as a response to request for Schwarzmueller TPDO 3044.</p>
<p>More detailed data field descriptions can be obtained from the Schwarzmueller document &quot;Standard-CANopen&quot;.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3144</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length =  28 + N * 23</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)  N = &quot;Number of Schwarzmueller motor controllers&quot;</td></tr>
<tr><td>Number of Schwarzmueller Motor controllers</td><td>Int</td><td>4</td><td>Number of Schwarzmueller Motor controllers connected to Navitrol</td></tr>
<tr><td>Schwarzmueller data</td><td>Schwarzmueller Data type[N]</td><td>N * 36</td><td>Schwarzmueller data structs according to <strong>Number of Motor controllers</strong> in the AGV</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Schwarzmueller data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Node ID</td><td>Uint</td><td>2</td><td>Node ID of the motor controller</td></tr>
<tr><td>TPDO1</td><td>TPDO1 type</td><td>10</td><td></td></tr>
<tr><td>TPDO2</td><td>TPDO2 type</td><td>10</td><td></td></tr>
<tr><td>TPDO3</td><td>TPDO3 type</td><td>6</td><td></td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>TPDO1 struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Status Byte</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Motor Load</td><td>Int</td><td>2</td><td>Scale: 1%</td></tr>
<tr><td>Actual speed</td><td>Int</td><td>2</td><td>Scale: 1 rpm</td></tr>
<tr><td>Actual torque</td><td>Int</td><td>2</td><td>Scale: 0.01 Nm</td></tr>
<tr><td>Encoder value</td><td>Int</td><td>2</td><td>Scale: 1 pulse</td></tr>
</tbody></table>
<table><thead><tr><th><strong>TPDO2 struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Fault/warning code</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>BDI Level</td><td>Uint</td><td>2</td><td>Scale: 1-10</td></tr>
<tr><td>Inverter Temperature</td><td>Int</td><td>2</td><td>Scale: 1o C</td></tr>
<tr><td>Motor temperature</td><td>Int</td><td>2</td><td>Scale: 1o C</td></tr>
<tr><td>Battery voltage</td><td>Uint</td><td>2</td><td>Scale: 0.01 V</td></tr>
</tbody></table>
<table><thead><tr><th><strong>TPDO3 struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Motor phase current</td><td>Uint</td><td>2</td><td>Scale: 0.1 A</td></tr>
<tr><td>Motor line voltage</td><td>Uint</td><td>2</td><td>Scale: 0.01 V</td></tr>
<tr><td>Battery current</td><td>Int</td><td>2</td><td>Scale: 0.1 A</td></tr>
</tbody></table>
<hr />
<h4 id="3146---omni-steering-angle-response"><a class="header" href="#3146---omni-steering-angle-response">3146 - Omni steering angle response</a></h4>
<p>Navitrol will send this message as a response to Message ID 3046.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.34.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 3146</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length =  28 + N * 8</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)  <br />N = &quot;Number of omni steering wheel&quot;</td></tr>
<tr><td>Number of Omni steering wheels</td><td>Int32</td><td>4</td><td>Number of omni wheels set in parameters</td></tr>
<tr><td>Measured steering wheel array</td><td>Float[]</td><td>N * 4</td><td>Measured steering angle of an omni wheel. </br> Array indexing matches omni steering wheel parameter indexing </br> Units - radians</td></tr>
<tr><td>Reference steering  angle array</td><td>Float[]</td><td>N * 4</td><td>Reference steering angle of an omni wheel. </br> Array indexing matches omni steering wheel parameter indexing </br> Units - radians</td></tr>
<tr><td>Reserved</td><td>NA</td><td>16</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3150--symbolic-points-on-agv-path"><a class="header" href="#3150--symbolic-points-on-agv-path">3150 – Symbolic points on AGV path</a></h4>
<p>Navitrol will send this message as a response to Message ID 3050 – Request for symbolic points on AGV path. This message can be used to get list of symbolic points coming ahead that the AGV will be passing through before reaching its destination. Symbolic points on path are only available for drive orders using predefined segments i.e. driving with custom routes etc. will not have symbolic points on trajectory.</p>
<p>The symbolic point list is of points coming ahead on the path in the order they appear. Maximum number of symbolic points reported in this list is limited to 10. Symbolic points that have been visited during drive get removed from the list.</p>
<p>Note that the symbolic point list is from path that has already been commanded to the AGV. For very long drive orders, this path may not lead all the way to destination and therefore, the list will keep updating as new path is commanded to AGV with drive extensions.</p>
<p>If this message is requested after the drive has ended, last available information will be sent by Navitrol.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.38.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3150</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>22 + (N * 12) <br />N = “Number of symbolic points on path”</td></tr>
<tr><td>Last visited symbolic point ID</td><td>Uint</td><td>4</td><td>ID of symbolic point on trajectory that was most recently visited by the AGV. 0 = None<br />Parameters symbol_point_enter_dist is used for last visited symbolic point distance limit.</td></tr>
<tr><td>Destination symbolic point ID</td><td>Uint</td><td>4</td><td>ID of destination symbolic point of the AGV. 0 = None<br />Destination symbolic point is the final symbolic point AGV is driving to.</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
<tr><td>Number of symbolic points on path - N</td><td>Uint</td><td>2</td><td>Number of symbolic points coming ahead on AGV path</td></tr>
<tr><td>Symbolic Point Data</td><td>Symbolic point data[]</td><td>N * 12</td><td>List of symbolic points<br />Symbolic points that AGV has already passed are not reported</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Symbolic point data struct</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Symbolic point ID</td><td>Uint</td><td>4</td><td>ID of symbolic point</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3151--pivot-to-target-heading-response"><a class="header" href="#3151--pivot-to-target-heading-response">3151 – Pivot to target heading response</a></h4>
<p>Navigation SW sends this message to the AGV supervisor as a response to the Pivot to target heading message (Message ID 3051). A reply from success will come when the AGV has reached the target heading. If the pivoting cannot be started or it is interrupted before the target is reached, reply with reject reason will be sent.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.42.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3151</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>16</td></tr>
<tr><td>Pivot to target heading result</td><td>Uint</td><td>4</td><td>0 = Successfully pivoted to the target heading<br />1 = Bad input<br />2 = Wrong state<br />4 = Control disabled<br />8 = Drive rejected<br />9 = Error(s) active</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3152--active-custom-speed-array-parameter-index"><a class="header" href="#3152--active-custom-speed-array-parameter-index">3152 – Active custom speed array parameter index</a></h4>
<p>Navitrol will send this message as a response to Message ID 3052.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>NA</td><td>6.42.00</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3152</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>14</td></tr>
<tr><td>Speed array index</td><td>Int</td><td>2</td><td>The index of currently active custom speed array index. Values [0…10]<br />-1 = Default non array speed parameters are in use. (None of the custom speed arrays are active)</td></tr>
<tr><td>Reserved</td><td>NA</td><td>4</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h4 id="3153--pivot-to-target-heading-started-response"><a class="header" href="#3153--pivot-to-target-heading-started-response">3153 – Pivot to target heading started response</a></h4>
<p>Navitrol sends this message as an immediate reply to the &quot;Pivot To Target Heading&quot;-message (3051) to indicate that the request was received.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.42.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3153</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>8</td></tr>
</tbody></table>
<hr />
<h4 id="3154--object-model-information-response"><a class="header" href="#3154--object-model-information-response">3154 – Object model information response</a></h4>
<p>Navitrol replies to the &quot;Object model information&quot;-message (3054) after <strong>target_detection_maximum_iterations</strong> target detection iterations. The returned pose is the average pose of the N successful detections, which is a subset of the maximum iterations. </p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.44.00</td><td>Message added</td></tr>
<tr><td>6.56.00</td><td>Vehicle coordinate support</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3154</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>32 + Nl * 2</td></tr>
<tr><td>Object model id</td><td>Uint</td><td>2</td><td>The searched model id</td></tr>
<tr><td>Object detected</td><td>Uint</td><td>2</td><td>0 - not detected, 1 - detected</td></tr>
<tr><td>Object centre position X</td><td>Float</td><td>4</td><td>The X – position of the object in coordinates of the request message 3054</td></tr>
<tr><td>Object centre position Y</td><td>Float</td><td>4</td><td>The Y – position of the object in coordinates of the request message 3054</td></tr>
<tr><td>Object heading H</td><td>Float</td><td>4</td><td>The heading (degrees) of the object in coordinates of the request message 3054</td></tr>
<tr><td>Reserved</td><td>Uint</td><td>4</td><td>Reserved for future use</td></tr>
<tr><td>Error reason</td><td>Uint</td><td>2</td><td>0 - No error<br /> 1 - Object not in view<br /> 2 - Leg positions not matching model<br /> 3 - Object not within position tolerance<br /> 4 - Object model invalid</td></tr>
<tr><td>Number of wheels</td><td>Uint</td><td>2</td><td>The number of wheel box position in variable data</td></tr>
<tr><td>Wheel direction</td><td>Array of wheels</td><td>Number of wheels * 2</td><td></td></tr>
<tr><td>Wheel direction</td><td>Uint</td><td>2</td><td>0 - wheel not aligned with cart<br /> 1 - wheel aligned with cart</td></tr>
</tbody></table>
<hr />
<h4 id="3155---cleaning-actuator-response"><a class="header" href="#3155---cleaning-actuator-response">3155 - Cleaning actuator response</a></h4>
<p>Navitrol will send this message as a reply to the &quot;3055 - Cleaning actuator command&quot; message.  With this message, Navitrol confirms that command for cleaning actuators has successfully recieved.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.44.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3155</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>20</td></tr>
<tr><td>Command result</td><td>Uint</td><td>4</td><td>0 - Accepted <br /> 1 - Bad input <br /> 4 - Control disabled</td></tr>
<tr><td>Reserved</td><td>NA</td><td>8</td><td>Reserved for future development</td></tr>
</tbody></table>
<hr />
<h4 id="3156---error-situation-response"><a class="header" href="#3156---error-situation-response">3156 - Error situation response</a></h4>
<p>Navitrol will send this message periodically, with a three second interval, when there is an error situation. 3056 message is used to define an action how this error situation should be solved. If there is no error situation, 3156 message is not sent. This supervisor message is used for error recovery handling. More detailed information and examples can be found from the description of the 3056 message.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.46.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3156</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Error situation id</td><td>Int</td><td>4</td><td>Id of the active error situation. See message 3056 for more information.</td></tr>
</tbody></table>
<hr />
<h4 id="3157---route-free-navigation-response"><a class="header" href="#3157---route-free-navigation-response">3157 - Route-free navigation response</a></h4>
<p>&quot;Success&quot; is reported when a path is ready to drive (has been planed). Otherwise failure is reported when the planning fails. 
Operation result &quot;planner busy&quot; means that route-free navigation feature is active planning a path and can not process new request at this time.
Other specific error codes may be added later.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.51.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID</td><td>Uint</td><td>2</td><td>3157</td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>12</td></tr>
<tr><td>Operation result</td><td>Uint</td><td>4</td><td>0 - Success, otherwise failure: 1 - generic falure,  2 - planner busy</td></tr>
</tbody></table>
<hr />
<h4 id="4101---target-detection-update-v1"><a class="header" href="#4101---target-detection-update-v1">4101 - Target detection update v1</a></h4>
<p>Navitrol sends this message periodically every time the target detection calculation is finished. Requires that parameter agv_supervisor_enabled = 1 and pallet detection parameters are correctly configured.</p>
<p>I,target_detection_supervisor_update_message_interval_ms -parameter. (Default 200ms) can be used to determine the minimum interval of the update message. With value 0 the message is sent every time the target detection calculation finishes a cycle.</p>
<p>Parameter requirements:</p>
<p>I,target_detection_supervisor_update_message_enabled = 1 (this is the default value so if the parameter is not defined in the file this is automatically used)</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.24.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 4101</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Target X</td><td>Float</td><td>4</td><td>Target X-coordinate in map coordinates</td></tr>
<tr><td>Target Y</td><td>Float</td><td>4</td><td>Target Y-coordinate in map coordinates</td></tr>
<tr><td>Target Angle</td><td>Float</td><td>4</td><td>Target Angle in radians in map coordinates</td></tr>
<tr><td>Target found</td><td>Uint</td><td>1</td><td>Target found 1, not found 0</td></tr>
<tr><td>Scan coms</td><td>Uint</td><td>1</td><td>Scanner communication status: <br />1 OK <br />0 Not OK</td></tr>
</tbody></table>
<hr />
<h4 id="4104---pattern-detection-v2-status-update"><a class="header" href="#4104---pattern-detection-v2-status-update">4104 - Pattern detection v2 status update</a></h4>
<p>A target detection status update message specifically for Pattern detection v2 status target detection type. If enabled, Navitrol sends this update periodically.</p>
<p><strong>Parameter requirements:</strong>
I,refl_det_version, 2
I,target_detection_type_selection, 1
I,target_detection_always_enabled, 1</p>
<p><strong>Note:</strong> refl_det_version and target_detection_type_selection settings can alternatively be set using message &quot;3032 - Set target detection mode&quot;.</p>
<p>The status update will be sent at the interval defined by I,target_detection_supervisor_update_message_interval_ms -parameter. (Default 200ms)</p>
<p><strong>Feature overview:</strong></p>
<p>Positioning result from one or two scanners. Reflectors must be in a pattern where all reflector distances differ from each other. All reflectors are of equal size and mounted into a line.</p>
<p>The combined data is empty if only one scanner is used. When two scanners are used, the common data contains a combination of both scanners' results always, when the separate results match with a certain accuracy.</p>
<p>There is an automatic offset calibration between the scanners, which is removing small scanner position parameter errors. It is active when both scanners see the whole reflector pattern. When the offset has tuned in, so that both scanners give the same result the common data is filled. When either scanner is not detecting the entire reflector pattern the offsets are frozen and only used for result correction.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 4104</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length = 52</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields</td></tr>
<tr><td>Scanner1 Target X</td><td>Float</td><td>4</td><td>Target X-coordinate in map coordinates</td></tr>
<tr><td>Scanner1 Target Y</td><td>Float</td><td>4</td><td>Target Y-coordinate in map coordinates</td></tr>
<tr><td>Scanner1 Target Angle</td><td>Float</td><td>4</td><td>Target Angle in radians in map coordinates</td></tr>
<tr><td>Scanner1 Target found</td><td>Byte</td><td>1</td><td>0 - Target not found, <br />N[3...8] reflectors detected</td></tr>
<tr><td>Scanner1 Fitness</td><td>Uint</td><td>1</td><td>0...100 %  <br />0 - target not found <br />100 - all reflectors detected, ideal match</td></tr>
<tr><td>Scanner1 coms</td><td>Uint</td><td>1</td><td>Scanner communication status: <br />1 OK <br />0 Not OK</td></tr>
<tr><td>Scanner2 Target X</td><td>Float</td><td>4</td><td>Target X-coordinate in map coordinates</td></tr>
<tr><td>Scanner2 Target Y</td><td>Float</td><td>4</td><td>Target Y-coordinate in map coordinates</td></tr>
<tr><td>Scanner2 Target Angle</td><td>Float</td><td>4</td><td>Target Angle in radians in map coordinates</td></tr>
<tr><td>Scanner2 Target found</td><td>Byte</td><td>1</td><td>0 - Target not found, N[3...8] reflectors detected</td></tr>
<tr><td>Scanner2 Fitness</td><td>Uint</td><td>1</td><td>0...100 %  0 - target not found 100 - all reflectors detected, ideal match</td></tr>
<tr><td>Scanner2 coms</td><td>Uint</td><td>1</td><td><br />Scanner communication status: <br />1 OK <br />0 Not OK</td></tr>
<tr><td>Combined Target X</td><td>Float</td><td>4</td><td>Target X-coordinate in map coordinates</td></tr>
<tr><td>Combined Target Y</td><td>Float</td><td>4</td><td>Target Y-coordinate in map coordinates</td></tr>
<tr><td>Combined Target Angle</td><td>Float</td><td>4</td><td>Target Angle in radians in map coordinates</td></tr>
<tr><td>Combined Fitness</td><td>Uint</td><td>1</td><td>0...100 %  <br />0 - combination not found <br />100 - all reflectors detected, ideal match</td></tr>
<tr><td>Combined possible</td><td>Uint</td><td>1</td><td>Communication with both scanners, combination matching <br />0 Not OK N <br />[3...8] reflectors detected</td></tr>
</tbody></table>
<hr />
<h4 id="4105---target-detection-status-update-v2"><a class="header" href="#4105---target-detection-status-update-v2">4105 - Target detection status update v2</a></h4>
<p>Navitrol sends this update periodically if target detection parameters are enabled. The status update will be sent at the interval defined by I,target_detection_supervisor_update_message_interval_ms -parameter. (Default 200ms)</p>
<p>Parameter requirements:
I,target_detection_supervisor_update_message_enabled = 2
I,target_detection_type_selection &gt; 0
I,target_detection_type_selection != 2 # (pallet detection v1 not supported)</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.28.00</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 4105</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including all data fields (including Protocol version and Message ID)</td></tr>
<tr><td>Detection mode</td><td>Uint</td><td>1</td><td>Active target detection mode <br />0 = Target detection disabled <br />1 = Reflector docking active <br />2 = Pallet detection active <br />3 = Pattern detection active 100 = Target detection mode unidentified. (Can come up if pallet detection version 1 is enabled)</td></tr>
<tr><td>Target found</td><td>Uint</td><td>1</td><td><strong>0 = Searching for target</strong> <br /><strong>1 = Target found</strong> <br />Target has been continuously detected amount of times defined by parameter target_min_n_times_detected  <br />Target won't be lost even if it is no longer detected amount of times defined by parameter target_max_n_times_missing.</td></tr>
<tr><td>Target reached</td><td>Uint</td><td>1</td><td><strong>0 = Target not reached</strong> <br />Target is either not found or not reached <br /><strong>1 = Target reached</strong> <br />Distance to the target is less than defined by parameter pc_max_end_dist  <br /><br />Note: Distance to the target is AGV's remaining drive distance following the active drive trajectory <br />Value will be updated only when docking has started</td></tr>
<tr><td>Target within safety distance</td><td>Uint</td><td>1</td><td>Distance to target is less than defined by parameter docking_notify_approach_dist <br />Note: Distance to the target is AGV's remaining drive distance following the active drive trajectory <br />Value will be updated only when docking has started</td></tr>
<tr><td>Target X</td><td>Float</td><td>4</td><td>Target X-coordinate in map coordinates <br />Target position defined by X and Y coordinates is the middle point of the detected target's front side.</td></tr>
<tr><td>Target Y</td><td>Float</td><td>4</td><td>Target Y-coordinate in map coordinates <br />Target position defined by X and Y coordinates is the middle point of the detected target's front side.</td></tr>
<tr><td>Target Angle</td><td>Float</td><td>4</td><td>The angle of detected target in radians in map coordinates. (radians)</td></tr>
<tr><td>Pallet ID(s) being detected</td><td>Bitfield</td><td>4</td><td><strong>Relevant only with pallet detection</strong> <br />Returns the model IDs of the expected targets. (Copied from message 3032 field &quot;Search target ID&quot;)</td></tr>
<tr><td>Number of reflectors being detected</td><td>Uint</td><td>2</td><td><strong>Relevant only with reflector docking</strong> <br />Possible values: <br />0 = Not set <br />2 = Two reflectors <br />4 = Four reflectors</td></tr>
<tr><td>Found pallet's ID</td><td>Uint</td><td>2</td><td><strong>Relevant only with pallet detection</strong> <br />Returns the model ID/index of a target found at target symbolic point. <br />404 = No targets found</td></tr>
<tr><td>Reserved</td><td>NA</td><td>20</td><td>Not in use</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Pallet ID(s) being detected bits</strong></th><th><strong>Bit</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Defined targets</td><td>0-4</td><td>Will match the targets defined in the params.txt <br />0 = Disabled, 1 = Enabled</td></tr>
<tr><td>Reserved</td><td>5-31</td><td>Not in use</td></tr>
</tbody></table>
<hr />
<h2 id="positioning-only-messages"><a class="header" href="#positioning-only-messages">Positioning only messages</a></h2>
<p>These messages are specific for positioning only systems. In such systems Navitrol provides only position without controlling giving control references to an AGV.</p>
<h3 id="from-supervisor-to-navitrol-2"><a class="header" href="#from-supervisor-to-navitrol-2">From Supervisor to Navitrol</a></h3>
<h4 id="1014---get-position-correction---cumulative"><a class="header" href="#1014---get-position-correction---cumulative">1014 - Get position correction - cumulative</a></h4>
<p>This message is one of the two alternatives that the Supervisor shall send periodically in order to receive position correction from Navitrol. The Get position correction message shall be sent periodically by the AGV at all times, even while doing position initialization. Navitrol replies with the Position correction message (Message ID 1114).</p>
<p>See: &quot;Position correction&quot; and &quot;Positioning only system&quot; chapters</p>
<p><strong>NOTE:</strong> Starting from Navitrol versions 6.32.02, response message is ID 1114 if parameter <strong>report_pp_status</strong> == 0. If <strong>report_pp_status</strong> == 1, then response message is ID 1115 instead.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1014</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including ID and length fields</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for position correction messages. This value shall be incremented by one for each message sent and it should match with received reply message number.</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>Current absolute X-coordinate in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Current absolute Y-coordinate in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Current absolute heading in radians</td></tr>
<tr><td>Floor</td><td>Uint</td><td>4</td><td>Current floor</td></tr>
<tr><td>Cum_s_long</td><td>Uint</td><td>4</td><td>Cumulative raw odometer distance travelled in machine coordinate frame in direction of the AGV heading (in 0.1 millimeters)</td></tr>
<tr><td>Cum_s_trans</td><td>Uint</td><td>4</td><td>Cumulative raw odometer distance travelled in machine coordinate frame in direction transversal of the AGV heading (in 0.1 millimeters)</td></tr>
<tr><td>Raw_h</td><td>Float</td><td>4</td><td>Raw dead-reckoning heading of the AGV in radians</td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in ms; time base can be chosen freely</td></tr>
</tbody></table>
<hr />
<h4 id="1015---get-position-correction---velocity"><a class="header" href="#1015---get-position-correction---velocity">1015 - Get position correction - velocity</a></h4>
<p>This message is one of the two alternatives that the Supervisor shall send periodically in order to receive position correction from Navitrol. The Get position correction message shall be sent periodically by the AGV at all times, even while doing position initialization. Navitrol replies with the Position correction message (Message ID 1114).</p>
<p>See: &quot;Position correction&quot; and &quot;Positioning only system&quot; chapters</p>
<p><strong>NOTE:</strong> Starting from Navitrol versions 6.32.02, response message is ID 1114 if parameter report_pp_status == 0. If report_pp_status == 1, then response message is ID 1115 instead.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1015</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including ID and length fields</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for position correction messages. This value shall be incremented by one for each message sent and it should match with received reply message number.</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>Current absolute X-coordinate in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Current absolute Y-coordinate in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Current absolute heading in radians</td></tr>
<tr><td>Floor</td><td>Uint</td><td>4</td><td>Current floor</td></tr>
<tr><td>Vel_long</td><td>Float</td><td>4</td><td>Raw dead reckoning velocity in machine coordinate frame in direction of the AGV heading (in meters/second)</td></tr>
<tr><td>Vel_trans</td><td>Float</td><td>4</td><td>Raw dead reckoning velocity in machine coordinate frame in direction transversal of the AGV heading (in meters/second)</td></tr>
<tr><td>Vel_angular</td><td>Float</td><td>4</td><td>Raw dead reckoning angular velocity in machine coordinate frame (in radians/second), positive velocity in counterclockwise direction</td></tr>
<tr><td>Timestamp</td><td>Uint</td><td>4</td><td>Cumulative time in ms; time base can be chosen freely</td></tr>
</tbody></table>
<hr />
<h3 id="from-navitrol-to-supervisor-2"><a class="header" href="#from-navitrol-to-supervisor-2">From Navitrol to Supervisor</a></h3>
<h4 id="1114---position-correction"><a class="header" href="#1114---position-correction">1114 - Position correction</a></h4>
<p>The Position correction message is sent as a reply to the message Get position correction - cumulative / velocity (Message ID 1014 and 1015). The Position correction status tells if Navitrol is able to locate itself in the new coordinates. The Position correction is not calculated while teaching (status=teach active).</p>
<p>Note that the corrected position is the position of the AGV at the time when the corresponding &quot;Get position correction&quot; message with identical message number was sent.</p>
<p><strong>NOTE:</strong> Starting from Navitrol versions 6.32.02, response message is ID 1114 if parameter report_pp_status == 0. If report_pp_status == 1, then response message is ID 1115 instead.</p>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1114</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including ID and length fields</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br />Note: This value must match with the latest Get position correction message number sent by the Supervisor.</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>Corrected X-position in map coordinate frame in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Corrected Y-position in map coordinate frame in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Corrected absolute heading in radians.</td></tr>
<tr><td>Floor</td><td>Uint</td><td>4</td><td>Floor for corrected position</td></tr>
<tr><td>Position correction status</td><td>Uint</td><td>2</td><td>0 = Failed <br />1 = Succeeded <br />2 = teach active (no correction)</td></tr>
<tr><td>Position confidence</td><td>Uint</td><td>2</td><td>Position confidence in percentage (0 -100%)</td></tr>
</tbody></table>
<hr />
<h4 id="1115---position-correction-with-precision-positioning-status"><a class="header" href="#1115---position-correction-with-precision-positioning-status">1115 - Position correction with precision positioning status</a></h4>
<p>This Position correction message is sent as a reply to the message Get position correction - cumulative / velocity (Message ID 1014 and 1015) if parameter report_pp_status == 1. The Position correction status tells if Navitrol is able to locate itself in the new coordinates. The Position correction is not calculated while teaching (status=teach active).</p>
<p>Note that the corrected position is the position of the AGV at the time when the corresponding &quot;Get position correction&quot; message with identical message number was sent.</p>
<table><thead><tr><th><strong>Navitrol version</strong></th><th><strong>Changes</strong></th></tr></thead><tbody>
<tr><td>6.32.02</td><td>Message added</td></tr>
</tbody></table>
<table><thead><tr><th><strong>Data field</strong></th><th><strong>Type</strong></th><th><strong>Length (bytes)</strong></th><th><strong>Value / Explanation</strong></th></tr></thead><tbody>
<tr><td>Protocol version</td><td>Uint</td><td>2</td><td>4</td></tr>
<tr><td>Message ID = 1115</td><td>Uint</td><td>2</td><td></td></tr>
<tr><td>Message length</td><td>Uint</td><td>4</td><td>Message length in bytes including ID and length fields</td></tr>
<tr><td>Message number</td><td>Uint</td><td>4</td><td>Identification number for individual messages. <br />Note: This value must match with the latest Get position correction message number sent by the Supervisor.</td></tr>
<tr><td>X</td><td>Float</td><td>4</td><td>Corrected X-position in map coordinate frame in meters</td></tr>
<tr><td>Y</td><td>Float</td><td>4</td><td>Corrected Y-position in map coordinate frame in meters</td></tr>
<tr><td>H</td><td>Float</td><td>4</td><td>Corrected absolute heading in radians.</td></tr>
<tr><td>Floor</td><td>Uint</td><td>4</td><td>Floor for corrected position</td></tr>
<tr><td>Position correction status</td><td>Uint</td><td>2</td><td>0 = Failed <br />1 = Succeeded <br />2= teach active (no correction)</td></tr>
<tr><td>Position confidence</td><td>Uint</td><td>2</td><td>Position confidence in percentage (0 -100%)</td></tr>
<tr><td>Precision positioning status</td><td>Uint</td><td>2</td><td>0 = precision positioning not active <br />1 = precision positioning active</td></tr>
</tbody></table>
<hr />
<h2 id="appendix-a-status-message-examples"><a class="header" href="#appendix-a-status-message-examples">Appendix A. Status message examples</a></h2>
<p>This appendix shows three examples of status message pairs. All values are in little-endian (LSB first). This is the default behaviour by Navitrol, but can be changed using Navitrol parameter agv_comms_swapbytes.
I,agv_comms_swapbytes, 0 // 0 - little endian, 1 big-endian</p>
<p>Data below is copied straight from our log files and therefore contains some extra data in each line. The last two values however on each line are</p>
<ul>
<li>index of the byte in message (starting from 0)</li>
<li>byte value in HEX</li>
</ul>
<p>These examples show the data byte by byte written to (read from) TCP/IP socket. Status messages shown in these examples always contain basic/default data section + optionally extra section(s). Supervisor can send extra sections on need basis, while Navitrol responds with those extra sections that are requested by Supervisor, as explained in communication specification document.</p>
<ul>
<li>Example 1 - Supervisor status - no extra sections sent - no extra sections requested from Navitrol</li>
<li>Example 2 - Supervisor status - no extra sections sent - 1 extra sections (section_id 1) requested from Navitrol</li>
<li>Example 3 - Supervisor status - 1 extra sections sent - 4 extra sections (section_id's 1, 2, 5, 7) requested from Navitrol</li>
</ul>
<p>Red/black colours are used to differentiate each item/variable in the message.</p>
<p><strong>EXAMPLE1</strong></p>
<p><strong>Supervisor/AGV to Navitrol</strong></p>
<p>8.9124 [09:6] Supervisor status 14 bytes<br />
8.9124 [09:6] 00 : 03<br />
8.9124 [09:6] 01 : 00 Protocol version 3<br />
8.9124 [09:6] 02 : BA<br />
8.9124 [09:6] 03 : 0B Msg ID = 3002 (x0BBA)<br />
8.9124 [09:6] 04 : 0E<br />
8.9124 [09:6] 05 : 00<br />
8.9124 [09:6] 06 : 00<br />
8.9124 [09:6] 07 : 00 Length 14 (x0000000E)<br />
8.9124 [09:6] 08 : 01<br />
8.9124 [09:6] 09 : 00 Status 1 (x0001)<br />
8.9124 [09:6] 10 : 00<br />
8.9124 [09:6] 11 : 00 ESTOP<br />
8.9124 [09:6] 12 : 00<br />
8.9125 [09:6] 13 : 00 Number of sections requested</p>
<p><strong>Navitrol response to Supervisor/AGV</strong></p>
<p>4.1209 [09:6] navitrol status out 42 bytes: some artificial data values - no sections<br />
4.1209 [09:6] 00 : 03<br />
4.1209 [09:6] 01 : 00 Protocol version 3<br />
4.1209 [09:6] 02 : 1E<br />
4.1209 [09:6] 03 : 0C Msg ID = 3102 (x0C1E)<br />
4.1209 [09:6] 04 : 2A<br />
4.1209 [09:6] 05 : 00<br />
4.1209 [09:6] 06 : 00<br />
4.1209 [09:6] 07 : 00 Length all 42 (x0000002A)<br />
4.1209 [09:6] 08 : 2A<br />
4.1209 [09:6] 09 : 00<br />
4.1209 [09:6] 10 : 00<br />
4.1209 [09:6] 11 : 00 Length default section 42 (x0000002A)<br />
4.1209 [09:6] 12 : 02<br />
4.1209 [09:6] 13 : 00<br />
4.1209 [09:6] 14 : 00<br />
4.1209 [09:6] 15 : 00 State 2 (x00000002)<br />
4.1209 [09:6] 16 : 00<br />
4.1209 [09:6] 17 : 00<br />
4.1209 [09:6] 18 : 00<br />
4.1209 [09:6] 19 : 40 X 2.0f (x40000000)<br />
4.1209 [09:6] 20 : 00<br />
4.1209 [09:6] 21 : 00<br />
4.1209 [09:6] 22 : 00<br />
4.1209 [09:6] 23 : 00 Y<br />
4.1209 [09:6] 24 : 00<br />
4.1209 [09:6] 25 : 00<br />
4.1209 [09:6] 26 : 00<br />
4.1209 [09:6] 27 : 3F Head 0.5f (x3F000000)<br />
4.1209 [09:6] 28 : 03<br />
4.1209 [09:6] 29 : 00<br />
4.1210 [09:6] 30 : 00<br />
4.1210 [09:6] 31 : 00 Level 3 (0x00000003)<br />
4.1210 [09:6] 32 : 00<br />
4.1210 [09:6] 33 : 00<br />
4.1210 [09:6] 34 : 00<br />
4.1210 [09:6] 35 : 00 Speed<br />
4.1210 [09:6] 36 : 00<br />
4.1210 [09:6] 37 : 00 PosIniStatus<br />
4.1210 [09:6] 38 : 4D<br />
4.1210 [09:6] 39 : 00 PosConf 77 (0x004D)<br />
4.1210 [09:6] 40 : 01<br />
4.1210 [09:6] 41 : 00 Error 1 (x0001)</p>
<p><strong>EXAMPLE2</strong></p>
<p><strong>Supervisor/AGV to Navitrol</strong></p>
<p>Supervisor status - no sections sent - 1 sections (section_id 1) requested</p>
<p>5.3510 [09:6] Supervisor status 16 bytes<br />
5.3510 [09:6] 00 : 03<br />
5.3510 [09:6] 01 : 00 Protocol version 3<br />
5.3510 [09:6] 02 : BA<br />
5.3510 [09:6] 03 : 0B Msg ID = 3002 (x0BBA)<br />
5.3510 [09:6] 04 : 10<br />
5.3510 [09:6] 05 : 00<br />
5.3510 [09:6] 06 : 00<br />
5.3510 [09:6] 07 : 00 Length 16 (x00000010)<br />
5.3510 [09:6] 08 : 01<br />
5.3510 [09:6] 09 : 00 Status 1 (x0001)<br />
5.3510 [09:6] 10 : 00<br />
5.3510 [09:6] 11 : 00 ESTOP<br />
5.3510 [09:6] 12 : 01<br />
5.3510 [09:6] 13 : 00 Number of sections requested<br />
5.3510 [09:6] 14 : 01<br />
5.3510 [09:6] 15 : 00 List of section ID's requested (single section ID == 1)</p>
<p><strong>Navitrol response to Supervisor/AGV</strong></p>
<p>5.3511 [09:6] navitrol status out 54 bytes: some artificial data values - 1 sections (section ID 1)<br />
5.3511 [09:6] 00 : 03<br />
5.3511 [09:6] 01 : 00 Protocol version 3<br />
5.3511 [09:6] 02 : 1E<br />
5.3511 [09:6] 03 : 0C Msg ID = 3102 (x0C1E)<br />
5.3511 [09:6] 04 : 36<br />
5.3511 [09:6] 05 : 00<br />
5.3511 [09:6] 06 : 00<br />
5.3511 [09:6] 07 : 00 Lenght all 54 (x00000036)<br />
5.3511 [09:6] 08 : 2A<br />
5.3511 [09:6] 09 : 00<br />
5.3511 [09:6] 10 : 00<br />
5.3511 [09:6] 11 : 00 Length default section 42 (x0000002A)<br />
5.3511 [09:6] 12 : 02<br />
5.3511 [09:6] 13 : 00<br />
5.3511 [09:6] 14 : 00<br />
5.3511 [09:6] 15 : 00 State 2 (x00000002)<br />
5.3511 [09:6] 16 : 00<br />
5.3511 [09:6] 17 : 00<br />
5.3511 [09:6] 18 : 00<br />
5.3511 [09:6] 19 : 40 X 2.0f (x40000000)<br />
5.3512 [09:6] 20 : 00<br />
5.3512 [09:6] 21 : 00<br />
5.3512 [09:6] 22 : 00<br />
5.3512 [09:6] 23 : 00 Y<br />
5.3512 [09:6] 24 : 00<br />
5.3512 [09:6] 25 : 00<br />
5.3512 [09:6] 26 : 00<br />
5.3512 [09:6] 27 : 3F Head 0.5f (x3F000000)<br />
5.3512 [09:6] 28 : 03<br />
5.3512 [09:6] 29 : 00<br />
5.3512 [09:6] 30 : 00<br />
5.3512 [09:6] 31 : 00 Level 3 (0x00000003)<br />
5.3512 [09:6] 32 : 00<br />
5.3512 [09:6] 33 : 00<br />
5.3512 [09:6] 34 : 00<br />
5.3512 [09:6] 35 : 00 Speed<br />
5.3512 [09:6] 36 : 00<br />
5.3512 [09:6] 37 : 00 PosIniStatus<br />
5.3512 [09:6] 38 : 4D<br />
5.3512 [09:6] 39 : 00 PosConf 77 (0x004D)<br />
5.3512 [09:6] 40 : 01<br />
5.3512 [09:6] 41 : 00 Error 1 (x0001)<br />
5.3512 [09:6] 42 : 01<br />
5.3512 [09:6] 43 : 00 Section ID 1 (0x0001)<br />
5.3512 [09:6] 44 : 0C<br />
5.3512 [09:6] 45 : 00<br />
5.3512 [09:6] 46 : 00<br />
5.3512 [09:6] 47 : 00 Section len 12 (0x00000C)<br />
5.3512 [09:6] 48 : 00<br />
5.3512 [09:6] 49 : 00<br />
5.3512 [09:6] 50 : 00<br />
5.3512 [09:6] 51 : 00 Battery voltage<br />
5.3512 [09:6] 52 : 00<br />
5.3512 [09:6] 53 : 00 OnRoute</p>
<p><strong>Example3</strong></p>
<p><strong>Supervisor/AGV to Navitrol</strong></p>
<p>Supervisor status - 1 extra sections sent - 4 sections (section_ID's 1, 2, 5, 7) requested</p>
<p>5.3510 [09:6] Supervisor status 36 bytes<br />
3.3532 [09:6] 00 : 03<br />
3.3532 [09:6] 01 : 00 Protocol version 3<br />
3.3532 [09:6] 02 : BA<br />
3.3532 [09:6] 03 : 0B Msg ID = 3002 (x0BBA)<br />
3.3532 [09:6] 04 : 24<br />
3.3532 [09:6] 05 : 00<br />
3.3532 [09:6] 06 : 00<br />
3.3532 [09:6] 07 : 00 Length 36 (x00000024)<br />
3.3532 [09:6] 08 : 01<br />
3.3532 [09:6] 09 : 00 Status 1 (x0001)<br />
3.3532 [09:6] 10 : 00<br />
3.3532 [09:6] 11 : 00 ESTOP<br />
3.3532 [09:6] 12 : 04<br />
3.3532 [09:6] 13 : 00 Number of sections requested 4<br />
3.3532 [09:6] 14 : 01<br />
3.3532 [09:6] 15 : 00 section ID's requested (section ID == 1)<br />
3.3532 [09:6] 16 : 02<br />
3.3532 [09:6] 17 : 00 section ID's requested (section ID == 2)<br />
3.3532 [09:6] 18 : 05<br />
3.3532 [09:6] 19 : 00 section ID's requested (section ID == 5)<br />
3.3532 [09:6] 20 : 07<br />
3.3532 [09:6] 21 : 00 section ID's requested (section ID == 7)<br />
3.3532 [09:6] 22 : 01<br />
3.3532 [09:6] 23 : 00 section ID sent (Actuator section ID == 1)<br />
3.3532 [09:6] 24 : 0E<br />
3.3532 [09:6] 25 : 00<br />
3.3532 [09:6] 26 : 00<br />
3.3532 [09:6] 27 : 00 section length 14 (x0000000E)<br />
3.3532 [09:6] 28 : 00<br />
3.3532 [09:6] 29 : 00<br />
3.3532 [09:6] 30 : 00<br />
3.3532 [09:6] 31 : 00 Actuator value 0<br />
3.3532 [09:6] 32 : 02 Binary inputs 1<br />
3.3532 [09:6] 33 : 00 Binary inputs 2<br />
3.3532 [09:6] 34 : 00 Binary inputs 3<br />
3.3532 [09:6] 35 : 00 Binary inputs 4</p>
<p><strong>Navitrol response to Supervisor/AGV</strong></p>
<p>3.3532 [09:6] 00 : 03<br />
3.3532 [09:6] 01 : 00 Protocol version 3<br />
3.3532 [09:6] 02 : 1E<br />
3.3532 [09:6] 03 : 0C Msg ID = 3102 (x0C1E)<br />
3.3532 [09:6] 04 : DE<br />
3.3532 [09:6] 05 : 00<br />
3.3532 [09:6] 06 : 00<br />
3.3532 [09:6] 07 : 00 Lenght all 222 (x000000DE)<br />
3.3532 [09:6] 08 : 2A<br />
3.3532 [09:6] 09 : 00<br />
3.3532 [09:6] 10 : 00<br />
3.3532 [09:6] 11 : 00 Length default section 42 (x0000002A)<br />
3.3532 [09:6] 12 : 02<br />
3.3532 [09:6] 13 : 00<br />
3.3532 [09:6] 14 : 00<br />
3.3532 [09:6] 15 : 00 State 2 (x00000002)<br />
3.3532 [09:6] 16 : 00<br />
3.3532 [09:6] 17 : 00<br />
3.3532 [09:6] 18 : 00<br />
3.3532 [09:6] 19 : 00 X 0.0f (x00000000)<br />
3.3532 [09:6] 20 : 00<br />
3.3532 [09:6] 21 : 00<br />
3.3532 [09:6] 22 : 00<br />
3.3532 [09:6] 23 : 00 Y 0.0f (x00000000)<br />
3.3532 [09:6] 24 : 00<br />
3.3532 [09:6] 25 : 00<br />
3.3532 [09:6] 26 : 00<br />
3.3532 [09:6] 27 : 00 Head 0.0f (x00000000)<br />
3.3532 [09:6] 28 : 00<br />
3.3532 [09:6] 29 : 00<br />
3.3532 [09:6] 30 : 00<br />
3.3532 [09:6] 31 : 00 Level 0 (0x00000000)<br />
3.3532 [09:6] 32 : 00<br />
3.3532 [09:6] 33 : 00<br />
3.3532 [09:6] 34 : 00<br />
3.3532 [09:6] 35 : 00 Speed<br />
3.3532 [09:6] 36 : 00<br />
3.3532 [09:6] 37 : 00 PosIniStatus<br />
3.3532 [09:6] 38 : 00<br />
3.3532 [09:6] 39 : 00 PosConf<br />
3.3532 [09:6] 40 : 01<br />
3.3532 [09:6] 41 : 00 Error 1 (x0001)<br />
3.3532 [09:6] 42 : 01<br />
3.3532 [09:6] 43 : 00 Section ID 1 (0x0001) - General section<br />
3.3532 [09:6] 44 : 0C<br />
3.3532 [09:6] 45 : 00<br />
3.3532 [09:6] 46 : 00<br />
3.3532 [09:6] 47 : 00 Section ID 1 length 12 (0x0000000C)<br />
3.3532 [09:6] 48 : 00<br />
3.3532 [09:6] 49 : 00<br />
3.3532 [09:6] 50 : 00<br />
3.3532 [09:6] 51 : 00 Battery voltage<br />
3.3532 [09:6] 52 : 00<br />
3.3532 [09:6] 53 : 00 OnRoute<br />
3.3532 [09:6] 54 : 02<br />
3.3532 [09:6] 55 : 00 Section ID 2 (0x0002) - Hold section<br />
3.3532 [09:6] 56 : 90<br />
3.3532 [09:6] 57 : 00<br />
3.3532 [09:6] 58 : 00<br />
3.3532 [09:6] 59 : 00 Section ID 2 length 144 (0x00000090)<br />
3.3532 [09:6] 60 : 00<br />
3.3532 [09:6] 61 : 00 In hold<br />
3.3532 [09:6] 62 : 00<br />
3.3532 [09:6] 63 : 00 Default destination in use<br />
3.3532 [09:6] 64 : 00<br />
3.3532 [09:6] 65 : 00<br />
3.3532 [09:6] 66 : 00<br />
3.3532 [09:6] 67 : 00<br />
3.3532 [09:6] 68 : 00<br />
3.3532 [09:6] 69 : 00<br />
3.3532 [09:6] 70 : 00<br />
3.3532 [09:6] 71 : 00<br />
3.3532 [09:6] 72 : 00<br />
3.3533 [09:6] 73 : 00<br />
3.3533 [09:6] 74 : 00<br />
3.3533 [09:6] 75 : 00<br />
3.3533 [09:6] 76 : 00<br />
3.3533 [09:6] 77 : 00<br />
3.3533 [09:6] 78 : 00<br />
3.3533 [09:6] 79 : 00<br />
3.3533 [09:6] 80 : 00<br />
3.3533 [09:6] 81 : 00<br />
3.3533 [09:6] 82 : 00<br />
3.3533 [09:6] 83 : 00<br />
3.3533 [09:6] 84 : 00<br />
3.3533 [09:6] 85 : 00<br />
3.3533 [09:6] 86 : 00<br />
3.3533 [09:6] 87 : 00<br />
3.3533 [09:6] 88 : 00<br />
3.3533 [09:6] 89 : 00<br />
3.3533 [09:6] 90 : 00<br />
3.3533 [09:6] 91 : 00<br />
3.3533 [09:6] 92 : 00<br />
3.3533 [09:6] 93 : 00<br />
3.3533 [09:6] 94 : 00<br />
3.3533 [09:6] 95 : 00 Default destination name 32 chars<br />
3.3533 [09:6] 96 : 00<br />
3.3533 [09:6] 97 : 00 First alt destination in use<br />
3.3533 [09:6] 98 : 00<br />
3.3533 [09:6] 99 : 00<br />
3.3533 [09:6] 100 : 00<br />
3.3533 [09:6] 101 : 00<br />
3.3533 [09:6] 102 : 00<br />
3.3533 [09:6] 103 : 00<br />
3.3533 [09:6] 104 : 00<br />
3.3533 [09:6] 105 : 00<br />
3.3533 [09:6] 106 : 00<br />
3.3533 [09:6] 107 : 00<br />
3.3533 [09:6] 108 : 00<br />
3.3533 [09:6] 109 : 00<br />
3.3533 [09:6] 110 : 00<br />
3.3533 [09:6] 111 : 00<br />
3.3533 [09:6] 112 : 00<br />
3.3533 [09:6] 113 : 00<br />
3.3533 [09:6] 114 : 00<br />
3.3533 [09:6] 115 : 00<br />
3.3533 [09:6] 116 : 00<br />
3.3533 [09:6] 117 : 00<br />
3.3533 [09:6] 118 : 00<br />
3.3533 [09:6] 119 : 00<br />
3.3533 [09:6] 120 : 00<br />
3.3533 [09:6] 121 : 00<br />
3.3533 [09:6] 122 : 00<br />
3.3533 [09:6] 123 : 00<br />
3.3533 [09:6] 124 : 00<br />
3.3533 [09:6] 125 : 00<br />
3.3533 [09:6] 126 : 00<br />
3.3533 [09:6] 127 : 00<br />
3.3533 [09:6] 128 : 00<br />
3.3533 [09:6] 129 : 00 First alt destination name 32 chars<br />
3.3533 [09:6] 130 : 00<br />
3.3533 [09:6] 131 : 00 Second alt destination in use<br />
3.3533 [09:6] 132 : 00<br />
3.3533 [09:6] 133 : 00<br />
3.3533 [09:6] 134 : 00<br />
3.3533 [09:6] 135 : 00<br />
3.3533 [09:6] 136 : 00<br />
3.3533 [09:6] 137 : 00<br />
3.3533 [09:6] 138 : 00<br />
3.3533 [09:6] 139 : 00<br />
3.3533 [09:6] 140 : 00<br />
3.3533 [09:6] 141 : 00<br />
3.3533 [09:6] 142 : 00<br />
3.3533 [09:6] 143 : 00<br />
3.3533 [09:6] 144 : 00<br />
3.3533 [09:6] 145 : 00<br />
3.3533 [09:6] 146 : 00<br />
3.3533 [09:6] 147 : 00<br />
3.3533 [09:6] 148 : 00<br />
3.3533 [09:6] 149 : 00<br />
3.3533 [09:6] 150 : 00<br />
3.3533 [09:6] 151 : 00<br />
3.3533 [09:6] 152 : 00<br />
3.3533 [09:6] 153 : 00<br />
3.3533 [09:6] 154 : 00<br />
3.3533 [09:6] 155 : 00<br />
3.3533 [09:6] 156 : 00<br />
3.3533 [09:6] 157 : 00<br />
3.3533 [09:6] 158 : 00<br />
3.3533 [09:6] 159 : 00<br />
3.3533 [09:6] 160 : 00<br />
3.3533 [09:6] 161 : 00<br />
3.3533 [09:6] 162 : 00<br />
3.3533 [09:6] 163 : 00 Second alt destination name 32 chars<br />
3.3533 [09:6] 164 : 00<br />
3.3533 [09:6] 165 : 00 Third alt destination in use<br />
3.3533 [09:6] 166 : 00<br />
3.3533 [09:6] 167 : 00<br />
3.3533 [09:6] 168 : 00<br />
3.3533 [09:6] 169 : 00<br />
3.3533 [09:6] 170 : 00<br />
3.3533 [09:6] 171 : 00<br />
3.3533 [09:6] 172 : 00<br />
3.3533 [09:6] 173 : 00<br />
3.3533 [09:6] 174 : 00<br />
3.3533 [09:6] 175 : 00<br />
3.3533 [09:6] 176 : 00<br />
3.3533 [09:6] 177 : 00<br />
3.3533 [09:6] 178 : 00<br />
3.3533 [09:6] 179 : 00<br />
3.3533 [09:6] 180 : 00<br />
3.3533 [09:6] 181 : 00<br />
3.3533 [09:6] 182 : 00<br />
3.3533 [09:6] 183 : 00<br />
3.3533 [09:6] 184 : 00<br />
3.3533 [09:6] 185 : 00<br />
3.3533 [09:6] 186 : 00<br />
3.3533 [09:6] 187 : 00<br />
3.3533 [09:6] 188 : 00<br />
3.3533 [09:6] 189 : 00<br />
3.3533 [09:6] 190 : 00<br />
3.3533 [09:6] 191 : 00<br />
3.3533 [09:6] 192 : 00<br />
3.3533 [09:6] 193 : 00<br />
3.3533 [09:6] 194 : 00<br />
3.3533 [09:6] 195 : 00<br />
3.3533 [09:6] 196 : 00<br />
3.3533 [09:6] 197 : 00 Third alt destination name 32 chars<br />
3.3533 [09:6] 198 : 05<br />
3.3533 [09:6] 199 : 00 Section ID 5 (0x0005) - Actuator section<br />
3.3533 [09:6] 200 : 0E<br />
3.3533 [09:6] 201 : 00<br />
3.3533 [09:6] 202 : 00<br />
3.3533 [09:6] 203 : 00 Section ID 5 length 14 (0x0000000E)<br />
3.3533 [09:6] 204 : 00<br />
3.3533 [09:6] 205 : 00<br />
3.3533 [09:6] 206 : 00<br />
3.3533 [09:6] 207 : 00<br />
3.3533 [09:6] 208 : 00<br />
3.3533 [09:6] 209 : 00<br />
3.3533 [09:6] 210 : 00<br />
3.3533 [09:6] 211 : 00<br />
3.3533 [09:6] 212 : 07<br />
3.3533 [09:6] 213 : 00 Section ID 7 (0x0007) - Warning zone section<br />
3.3533 [09:6] 214 : 0A<br />
3.3533 [09:6] 215 : 00<br />
3.3533 [09:6] 216 : 00<br />
3.3533 [09:6] 217 : 00 Section ID 7 length 10 (0x0000000A)<br />
3.3533 [09:6] 218 : 00<br />
3.3533 [09:6] 219 : 00 Warning zone front value<br />
3.3533 [09:6] 220 : 00<br />
3.3533 [09:6] 221 : 00 Warning zone rear value</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../../AgvInterfaces/GenericInterfaces/GenericInterfacesHeading.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../../AgvInterfaces/GenericInterfaces/GenericInterfacesHeading.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
