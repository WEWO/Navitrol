<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Return to route - NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
                <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../MdBook/MdbookFrontPage.html">Front page</a></li><li class="chapter-item expanded affix "><li class="part-title">Introduction</li><li class="chapter-item expanded "><a href="../../Introduction/NavitrolUserInstructions/NavitrolUserInstructions-en.html"><strong aria-hidden="true">1.</strong> Navitrol user instructions</a></li><li class="chapter-item expanded "><a href="../../Introduction/Licensing/Licensing-en.html"><strong aria-hidden="true">2.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="../../Introduction/OdometrySource/OdometrySource-en.html"><strong aria-hidden="true">3.</strong> Odometry source</a></li><li class="chapter-item expanded "><a href="../../Introduction/InitialCalibrationGuide/InitialCalibrationGuide-en.html"><strong aria-hidden="true">4.</strong> Initial calibration guide</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/ParameterReconfiguration/ParameterReconfiguration-en.html"><strong aria-hidden="true">5.</strong> Parameter reconfiguration</a></li><li class="chapter-item expanded "><a href="../../Introduction/Parameters/Parameters.html"><strong aria-hidden="true">6.</strong> Parameter listing</a></li><li class="chapter-item expanded "><a href="../../Introduction/Parameters/JsonConfigurationFile-en.html"><strong aria-hidden="true">7.</strong> JSON configuration file</a></li><li class="chapter-item expanded "><a href="../../Introduction/TeachingInstructions/TeachingInstructions-en.html"><strong aria-hidden="true">8.</strong> Teaching instructions</a></li><li class="chapter-item expanded "><a href="../../Introduction/FeatureMatrix/FeatureMatrix-en.html"><strong aria-hidden="true">9.</strong> Feature Matrix</a></li><li class="chapter-item expanded affix "><li class="part-title">Device interfaces</li><li class="chapter-item expanded "><a href="../../AgvInterfaces/SupportedDevices/SupportedDevices-en.html"><strong aria-hidden="true">10.</strong> Supported devices</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/GenericInterfacesHeading.html"><strong aria-hidden="true">11.</strong> Generic interfaces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/EthernetSupervisorInterface/EthernetSupervisorInterface-en.html"><strong aria-hidden="true">11.1.</strong> Ethernet Supervisor</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/CanCommunication/CanCommunication-en.html"><strong aria-hidden="true">11.2.</strong> CAN communication</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/CanSupervisorInterface/CanSupervisorInterface-en.html"><strong aria-hidden="true">11.2.1.</strong> CAN Supervisor</a></li></ol></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/EthercatCommunication/EthercatCommunication-en.html"><strong aria-hidden="true">11.3.</strong> EtherCAT Communication</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/GenericInterfaces/Simove/SimoveInterface-en.html"><strong aria-hidden="true">11.4.</strong> SIMOVE</a></li></ol></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/MotorControllersHeading.html"><strong aria-hidden="true">12.</strong> Motor controllers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/MotorControllersCommon/MotorControllersCommon-en.html"><strong aria-hidden="true">12.1.</strong> Motor controller common</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerSetupInstructions/SchwarzmuellerSetupInstructions-en.html"><strong aria-hidden="true">12.2.</strong> Schwarzmueller setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerParameterSetupInstructions/SchwarzmuellerParameterSetupInstructions-en.html"><strong aria-hidden="true">12.2.1.</strong> Schwarzmueller parameters</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Schwarzmueller/SchwarzmuellerTroubleshooting/SchwarzmuellerTroubleshooting-en.html"><strong aria-hidden="true">12.2.2.</strong> Schwarzmueller troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Curtis/CurtisMotorController-en.html"><strong aria-hidden="true">12.3.</strong> Curtis</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Engel/EngelMotorController-en.html"><strong aria-hidden="true">12.4.</strong> Engel</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Kinco/KincoMotorController-en.html"><strong aria-hidden="true">12.5.</strong> Kinco</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Nanotec/NanotecMotorController-en.html"><strong aria-hidden="true">12.6.</strong> Nanotec</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Oriental/OrientalMotorController-en.html"><strong aria-hidden="true">12.7.</strong> Oriental</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Synapticon/SynapticonMotorController-en.html"><strong aria-hidden="true">12.8.</strong> Synapticon</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Roboteq/RoboteqOpenLoopControllerConfiguration-en.html"><strong aria-hidden="true">12.9.</strong> Roboteq Open loop</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/Roboteq/RoboteqClosedLoopControllerConfiguration-en.html"><strong aria-hidden="true">12.10.</strong> Roboteq Closed loop</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/MotorControllers/MiControl/MiControlMotorController-en.html"><strong aria-hidden="true">12.11.</strong> MiControl</a></li></ol></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/ScannerConfigurations/ScannerHeading.html"><strong aria-hidden="true">13.</strong> Laser scanners</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/ScannerConfigurations/ScannerConfigurations-en.html"><strong aria-hidden="true">13.1.</strong> Scanner configurations</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/ScannerCommunicationTroubleshoot/ScannerCommunicationTroubleshoot-en.html"><strong aria-hidden="true">13.2.</strong> Scanner communication troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/OpticalCodeReader/OpticalCodeReader.html"><strong aria-hidden="true">14.</strong> Optical code reader</a></li><li class="chapter-item expanded "><a href="../../AgvInterfaces/Encoders/EncoderHeading.html"><strong aria-hidden="true">15.</strong> Encoders</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../AgvInterfaces/Encoders/EthercatEncoders/EthercatEncoders-en.html"><strong aria-hidden="true">15.1.</strong> EtherCAT encoders</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">User interfaces</li><li class="chapter-item expanded "><a href="../../CustomerUis/NavitrolMonitor/NavitrolMonitor-en.html"><strong aria-hidden="true">16.</strong> Navitrol Monitor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../CustomerUis/NavitrolMonitor3rdPartyLicenses/NavitrolMonitor3rdPartyLicenses-en.html"><strong aria-hidden="true">16.1.</strong> Navitrol Monitor third party licenses</a></li></ol></li><li class="chapter-item expanded "><a href="../../CustomerUis/WebInterface/WebInterface-en.html"><strong aria-hidden="true">17.</strong> Navitrol web interface</a></li><li class="chapter-item expanded "><a href="../../CustomerUis/Parameter Tool/ParameterTool-en.html"><strong aria-hidden="true">18.</strong> Parameter Tool Beta</a></li><li class="chapter-item expanded affix "><li class="part-title">Localization</li><li class="chapter-item expanded "><a href="../../Localization/PositionConfidence/PositionConfidence-en.html"><strong aria-hidden="true">19.</strong> Position confidence</a></li><li class="chapter-item expanded "><a href="../../Localization/ScannerCalibration/ScannerCalibration-en.html"><strong aria-hidden="true">20.</strong> Scanner calibration</a></li><li class="chapter-item expanded "><a href="../../Localization/EnvironmentGuidelines/EnvironmentGuidelines-en.html"><strong aria-hidden="true">21.</strong> Environment guidelines</a></li><li class="chapter-item expanded "><a href="../../Localization/AutomaticOdometryCorrection/AutomaticOdometryCorrection-en.html"><strong aria-hidden="true">22.</strong> Automatic odometry correction</a></li><li class="chapter-item expanded "><a href="../../Localization/ReflectorBasedPositionInitialization/ReflectorBasedPositionInitialization-en.html"><strong aria-hidden="true">23.</strong> Reflector based position initialization</a></li><li class="chapter-item expanded "><a href="../../Localization/PrecisionPositioning/PrecisionPositioning-en.html"><strong aria-hidden="true">24.</strong> Precision positioning</a></li><li class="chapter-item expanded "><a href="../../Localization/LocalizationScannerChangeOnTheFly/LocalizationScannerChangeOnTheFly-en.html"><strong aria-hidden="true">25.</strong> Changing scanner on the fly</a></li><li class="chapter-item expanded "><a href="../../Localization/RampZones/RampZones-en.html"><strong aria-hidden="true">26.</strong> Ramp zones</a></li><li class="chapter-item expanded "><a href="../../Localization/GpsPositioning/GpsPositioning-en.html"><strong aria-hidden="true">27.</strong> GPS Positioning</a></li><li class="chapter-item expanded "><a href="../../Localization/ImuAndSensorFusion/ImuAndSensorFusion-en.html"><strong aria-hidden="true">28.</strong> IMU and sensor fusion</a></li><li class="chapter-item expanded "><a href="../../Localization/ExternalLocalization/ExternalLocalization-en.html"><strong aria-hidden="true">29.</strong> External localization</a></li><li class="chapter-item expanded "><a href="../../Localization/DynamicMapping/DynamicMappingServer/DynamicMappingServer-en.html"><strong aria-hidden="true">30.</strong> Dynamic mapping server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Localization/DynamicMapping/DynamicMappingServerAndClientCompatibility/DynamicMappingServerAndClientCompatibility-en.html"><strong aria-hidden="true">30.1.</strong> Dynamic mapping client/server compatibility</a></li><li class="chapter-item expanded "><a href="../../Localization/DynamicMapping/DynamicMappingServerHardwareRequirements/DynamicMappingServerHardwareRequirements.html"><strong aria-hidden="true">30.2.</strong> Dynamic mapping client/server hardware requirements</a></li></ol></li><li class="chapter-item expanded "><a href="../../Localization/WheelSlipping/WheelSlipping-en.html"><strong aria-hidden="true">31.</strong> Wheel slipping diagnostic</a></li><li class="chapter-item expanded "><a href="../../Localization/3dPositioning/3dPositioning-en.html"><strong aria-hidden="true">32.</strong> 3D positioning</a></li><li class="chapter-item expanded affix "><li class="part-title">Position control</li><li class="chapter-item expanded "><a href="../../PositionControl/StartOffsetSlowdown/StartOffsetSlowdown-en.html"><strong aria-hidden="true">33.</strong> Start offset slowdown</a></li><li class="chapter-item expanded "><a href="../../PositionControl/CoupledDriving/CoupledDrivingFeature-en.html"><strong aria-hidden="true">34.</strong> Coupled driving</a></li><li class="chapter-item expanded "><a href="../../PositionControl/MagneticLineFollowing/MagneticLineFollowing-en.html"><strong aria-hidden="true">35.</strong> Magnetic line following</a></li><li class="chapter-item expanded "><a href="../../PositionControl/TrailerTransport/TrailerTransport-en.html"><strong aria-hidden="true">36.</strong> Trailer transport</a></li><li class="chapter-item expanded "><a href="../../PositionControl/BarrierStop/BarrierStop-en.html"><strong aria-hidden="true">37.</strong> Barrier stop</a></li><li class="chapter-item expanded "><a href="../../PositionControl/DataMatrixDocking/DataMatrixDockingDMC-en.html"><strong aria-hidden="true">38.</strong> Data Matrix Code Docking V2</a></li><li class="chapter-item expanded "><a href="../../PositionControl/Docking/Docking-en.html"><strong aria-hidden="true">39.</strong> Docking</a></li><li class="chapter-item expanded affix "><li class="part-title">Drive control</li><li class="chapter-item expanded "><a href="../../DriveControl/DrivingOptions/DrivingOptions-en.html"><strong aria-hidden="true">40.</strong> Driving options</a></li><li class="chapter-item expanded "><a href="../../DriveControl/Standalone/Standalone-en.html"><strong aria-hidden="true">41.</strong> Standalone</a></li><li class="chapter-item expanded "><a href="../../DriveControl/StopAndHold/StopAndHold-en.html"><strong aria-hidden="true">42.</strong> Stop-and-hold</a></li><li class="chapter-item expanded "><a href="../../DriveControl/VDA5050/VDA5050-en.html"><strong aria-hidden="true">43.</strong> VDA 5050</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../DriveControl/VDA5050/VDA5050FeatureMatrix-en.html"><strong aria-hidden="true">43.1.</strong> VDA 5050 Support status</a></li></ol></li><li class="chapter-item expanded "><a href="../../DriveControl/ReturnToRoute/ReturnToRoute-en.html" class="active"><strong aria-hidden="true">44.</strong> Return to route</a></li><li class="chapter-item expanded "><a href="../../DriveControl/ObstacleAvoidance/ObstacleAvoidance-en.html"><strong aria-hidden="true">45.</strong> Obstacle avoidance</a></li><li class="chapter-item expanded "><a href="../../DriveControl/ObstacleAvoidanceV2/ObstacleAvoidanceV2-en.html"><strong aria-hidden="true">46.</strong> Obstacle avoidance V2</a></li><li class="chapter-item expanded "><a href="../../DriveControl/ContainerDriving/ContainerDriving-en.html"><strong aria-hidden="true">47.</strong> Container driving</a></li><li class="chapter-item expanded "><a href="../../DriveControl/RecordAndPlay/RecordAndPlay-en.html"><strong aria-hidden="true">48.</strong> Record and Play</a></li><li class="chapter-item expanded "><a href="../../DriveControl/RouteFreeNavigation/RouteFreeNavigation-en.html"><strong aria-hidden="true">49.</strong> Route free navigation</a></li><li class="chapter-item expanded affix "><li class="part-title">Kinematics</li><li class="chapter-item expanded "><a href="../../Kinematics/OmniSteerLimit/OmniSteerLimit-en.html"><strong aria-hidden="true">50.</strong> Omni steer limit</a></li><li class="chapter-item expanded "><a href="../../Kinematics/OneDriveWheelOmni/OneDriveWheelOmni-en.html"><strong aria-hidden="true">51.</strong> Omni one drive wheel</a></li><li class="chapter-item expanded affix "><li class="part-title">Pickup and drop-off</li><li class="chapter-item expanded "><a href="../../LoadHandling/ActuatorControl/ActuatorControl-en.html"><strong aria-hidden="true">52.</strong> Actuator control</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/ScannerLiftActuator/ScannerLiftActuator-en.html"><strong aria-hidden="true">53.</strong> Scanner lift actuator</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/Racking/Racking-en.html"><strong aria-hidden="true">54.</strong> Racking</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/BufferLanes/BufferLanes-en.html"><strong aria-hidden="true">55.</strong> Buffer lanes</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/StackLoading/StackLoading-en.html"><strong aria-hidden="true">56.</strong> Loading from a stack</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/BlockStacking/BlockStacking-en.html"><strong aria-hidden="true">57.</strong> Unloading to a stack</a></li><li class="chapter-item expanded "><a href="../../LoadHandling/DistanceToTarget/DistanceToTarget-en.html"><strong aria-hidden="true">58.</strong> Distance to target estimation</a></li><li class="chapter-item expanded affix "><li class="part-title">Target and obstacle detection</li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/PalletDetection/PalletDetection-en.html"><strong aria-hidden="true">59.</strong> Pallet detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/3dTargetDetection/3dTargetDetection-en.html"><strong aria-hidden="true">60.</strong> 3D Target detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/PatternDetection/PatternDetection-en.html"><strong aria-hidden="true">61.</strong> Pattern detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/ObstacleDetection/ObstacleDetection-en.html"><strong aria-hidden="true">62.</strong> Obstacle detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/ExternalTargetDetection/ExternalTargetDetection-en.html"><strong aria-hidden="true">63.</strong> External target detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/TableDetection/TableDetection-en.html"><strong aria-hidden="true">64.</strong> Table detection</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/Wallmonitoring/Wallmonitoring-en.html"><strong aria-hidden="true">65.</strong> Wall monitoring</a></li><li class="chapter-item expanded "><a href="../../TargetAndObstacleDetection/OccupancyCheck/OccupancyCheck-en.html"><strong aria-hidden="true">66.</strong> Occupancy check</a></li><li class="chapter-item expanded affix "><li class="part-title">Miscellaneous</li><li class="chapter-item expanded "><a href="../../Miscellaneous/ErrorDescriptions/ErrorDescriptions-en.html"><strong aria-hidden="true">67.</strong> Error descriptions</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/Logging/Logging-en.html"><strong aria-hidden="true">68.</strong> Logging</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/LinuxImageInstallation/LinuxImagesHeading.html"><strong aria-hidden="true">69.</strong> Linux image installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Miscellaneous/LinuxImageInstallation/CanDrivers/CanDrivers-en.html"><strong aria-hidden="true">69.1.</strong> CAN drivers</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/LinuxImageInstallation/Clonezilla/ClonezillaInstallation-en.html"><strong aria-hidden="true">69.2.</strong> Clonezilla</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/LinuxImageInstallation/DebianBuster/DebianBusterInstallation-en.html"><strong aria-hidden="true">69.3.</strong> Debian Buster</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/LinuxImageInstallation/DebianBullseye/DebianBullseyeInstallation-en.html"><strong aria-hidden="true">69.4.</strong> Debian Bullseye</a></li></ol></li><li class="chapter-item expanded "><a href="../../Miscellaneous/ParameterZones/ParameterZones-en.html"><strong aria-hidden="true">70.</strong> Parameter zones</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/Reflectors/Reflectors-en.html"><strong aria-hidden="true">71.</strong> Reflectors</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/SslCertificates/SslCertificates-en.html"><strong aria-hidden="true">72.</strong> SSL Certificate configuration</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/BatteryOvertemperatureActions/BatteryOvertemperatureActions.html"><strong aria-hidden="true">73.</strong> Battery overtemperature actions</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/Charging/Charging-en.html"><strong aria-hidden="true">74.</strong> Charging and battery management</a></li><li class="chapter-item expanded "><a href="../../Miscellaneous/HardwareRequirements/HardwareRequirements-en.html"><strong aria-hidden="true">75.</strong> Hardware requirements</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="dark">Dark</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">NAVITROL USER INSTRUCTIONS - Navitec Systems Oy CONFIDENTIAL</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="return-to-route"><a class="header" href="#return-to-route">Return to Route</a></h1>
<p>Updated 29.04.2024</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<h3 id="introduction"><a class="header" href="#introduction">Introduction</a></h3>
<p>Return to route is a feature that allows an AGV that is off the route to drive to the closest suitable route. The feature can be useful when driving the AGV manually near the route and then performing the automatic return to route so that the AGV can be taken into production.</p>
<p>There's also option to <a href="#allow-larger-deviation-from-route-at-the-start-of-drive">allow a larger deviation from the route at the start of a drive</a> without the need for return to route.</p>
<h3 id="limitations"><a class="header" href="#limitations">Limitations</a></h3>
<ul>
<li>AGV is in standby state when given return to route order</li>
<li>Does not acknowledge obstacles or environment points.</li>
</ul>
<h2 id="how-to-use"><a class="header" href="#how-to-use">How to use</a></h2>
<p>The return to route feature always requires an external trigger. It can be triggered for example from the Supervisor interface, Navitrol monitor or Navithor client.</p>
<h2 id="set-up"><a class="header" href="#set-up">Set up</a></h2>
<h3 id="return-to-route-by-shortest-route-for-omni"><a class="header" href="#return-to-route-by-shortest-route-for-omni">Return to route by shortest route for omni</a></h3>
<p>For omni AGVs without steering limitations. It generates a reference point on the route to which it drives.</p>
<p><strong>Required parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>I, rtr_use_custom_route</td><td>0</td><td>Sets the return to route mode: <br>0 = Shortest route for omni<br>1 = Custom route for Diff/Steer drive<br>2 = Custom route for limited omni wheels</td></tr>
</tbody></table>
<h3 id="return-to-route-with-custom-drive-order"><a class="header" href="#return-to-route-with-custom-drive-order">Return to route with custom drive order</a></h3>
<p>The AGV cannot return to the route by reversing to a route that only supports forward driving. Supported by all kinematic models. An AGV must have relatively small heading and distance errors to at least one route defined in the active map to successfully return to route. Return to route path is constructed automatically to the closest suitable point. It always consists of four route points connected with splines. The four points include start point, start smooth distance point, end smooth distance point and the end point.</p>
<p><strong>Required parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>F, rtr_max_dist</td><td>2.0</td><td>This limit constitutes the maximum Euclidean distance (m) from the navigation point to a trajectory segment point.</td></tr>
<tr><td>F, rtr_speed</td><td>0.3</td><td>The maximum speed (m/s) during the return to route drive</td></tr>
<tr><td>F, rtr_max_head_err_deg</td><td>5.0</td><td>The maximum heading error when checking if the AGV is already on the route and return to route is not needed</td></tr>
<tr><td>F, rtr_max_head_diff</td><td>90.0</td><td>The maximum heading difference between the heading of potential route point and the current heading of the AGV, for the return to route to be feasible.</td></tr>
<tr><td>I, rtr_use_custom_route</td><td>1</td><td>Sets the return to route mode: <br>0 = Shortest route for omni<br>1 = Custom route for Diff/Steer drive<br>2 = Custom route for limited omni wheels</td></tr>
<tr><td>F, rtr_control_point_dist</td><td>2.5</td><td>Required minimum Euclidean distance (m) to potential return to route target point.</td></tr>
<tr><td>F, rtr_control_point_start_smooth_dist</td><td>0.8</td><td>Defines the smooth distance at the start of the return to route path</td></tr>
<tr><td>F, rtr_control_point_end_smooth_dist</td><td>0.8</td><td>Defines the smooth distance before the end of the return to route path</td></tr>
<tr><td>F, rtr_already_on_route_dist</td><td>0.1</td><td>The maximum distance error when checking if the AGV is already on the route and return to route is not needed</td></tr>
</tbody></table>
<p>The below Figure visualizes the custom drive order return to route. The orange line denotes the Euclidean distance between navigation point and nominal trajectory segment point. This distance must be smaller than <strong>rtr_max_dist</strong> for the return to route to be further evaluated. The <strong>rtr_control_point_dist</strong>-parameter constitutes how aggressively it converges to the nominal route. </p>
<p><img src="./media-en/rtr_custom_drive_order.png" alt="" /></p>
<blockquote>
<p>Return to route - Custom drive order.</p>
</blockquote>
<h3 id="return-to-route-for-omnis-with-limited-steering"><a class="header" href="#return-to-route-for-omnis-with-limited-steering">Return to route for omnis with limited steering</a></h3>
<p>This subfeature is only supported by omni and mecanum kinematic models. Limited return to route is designed for omni drive AGVs that have heavy steering limitations and are not able to pivot or perform any other high curvature manoeuvres. See documentation for <a href="../../Kinematics/OmniSteerLimit/OmniSteerLimit-en.html">Omni steer limit</a>.
Limited steering return to route mode will approach the nearest route by crab-like movement, see Figure below. There is a small, curved part in the very end of the path to adjust wheels.</p>
<p><img src="./media-en/image3.png" alt="" /></p>
<blockquote>
<p>Crabbing to route</p>
</blockquote>
<p>The AGV tries to correct any heading errors while returning to the route. For the latter subfigure below, adjusting the frame heading to the route when approaching requires larger wheel angles.</p>
<p><img src="./media-en/image4.png" alt="" />
<img src="./media-en/image5.png" alt="" /></p>
<blockquote>
<p>Crabbing to route with frame heading errors</p>
</blockquote>
<p><strong>Required parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>I, rtr_use_custom_route</td><td>2</td><td>Strictly curvature limited custom route.</td></tr>
<tr><td>F, rtr_already_on_route_dist</td><td>0.05</td><td>If the distance to nearest route segment point is smaller than this value AGV is considered to be on route. The return route is calculated but not driven.</td></tr>
</tbody></table>
<p><strong>Optional parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>F, rtr_max_dist</td><td>2.00</td><td>Defines the maximum search distance [m] for the first target point on the route.</td></tr>
<tr><td>F, rtr_speed</td><td>0.30</td><td>Upper threshold [m/s] for the rtr trajectory speed.</td></tr>
<tr><td>F, rtr_max_head_err_deg</td><td>5.00</td><td>Lower threshold for the angle [deg] between the vehicle and the route for return to route to be possible.</td></tr>
<tr><td>F, rtr_max_head_diff</td><td>30.0</td><td>Maximum heading difference between the vehicle and the target point on the route.</td></tr>
<tr><td>F, rtr_control_point_dist</td><td>0.25</td><td>Defines the maximum distance from close point (see rtr_max_dist) to a custom return to route target point.</td></tr>
<tr><td>F, rtr_control_point_end_smooth_dist</td><td>0.05</td><td>Defines the minimum distance between the last two control points in the custom route creation.</td></tr>
</tbody></table>
<p>Parameter <strong>rtr_control_point_start_smooth_dist</strong> has no affect on this subfeature.</p>
<h3 id="limited-omni-steering-recovery"><a class="header" href="#limited-omni-steering-recovery">Limited omni steering recovery</a></h3>
<p>Limited omni steering recovery is a feature for trying to drive the AGV automatically back to the route if it has been driven too far from the route. The idea is that in a case, where there normally would be the POS_CONT_POS_ERROR or POS_CONT_HEADING_ERROR, this rescue return to route is triggered instead. Navitrol will then take segment points from the history that the AGV has just driven that are closer than the <strong>rtr_max_dist</strong> parameter and tries to create custom route to those points. There is a cost function that tries to find a segment point that</p>
<ul>
<li>Has the smallest heading error to the AGV current heading.</li>
<li>The limited omni feasibly can drive. Only segment points with wheel target angles within limits are considered.</li>
</ul>
<p>The <strong>rtr_control_point_end_smooth_dist</strong> parameter is used to define the length of the curved part in the end of the custom route. </p>
<p><strong>Required parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>I, rtr_use_custom_route</td><td>2</td><td>Strictly curvature limited custom route.</td></tr>
</tbody></table>
<p><strong>Optional parameters</strong></p>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>I, rtr_omni_steer_limit_recovery_time_ms</td><td>20000</td><td>0 = Disabled<br> <br> 5000 - 100000 = Enabled <br> Heavily limited omni stuck in warning_limited_steering_active too long time trigger limited steering recovery.<br> Active only when rtr_use_custom_route is set to value 2.</td></tr>
</tbody></table>
<h4 id="preconditions"><a class="header" href="#preconditions">Preconditions</a></h4>
<ul>
<li>AGV is limited steering omni</li>
<li>WARNING_LIMITED_STEERING_ACTIVE is enabled</li>
<li>AGV is further away from route than <strong>pc_max_dist_err</strong> or AGV heading error to the route is higher than <strong>pc_max_head_err</strong></li>
</ul>
<p><img src="./media-en/rescue_rtr_overshoot.png" alt="" /></p>
<blockquote>
<p>AGV has overshot the trajectory curve due to limited steering.</p>
</blockquote>
<p><img src="./media-en/rescue_rtr_route_back.png" alt="" /></p>
<blockquote>
<p>Navitrol will use return to route feature to drive the AGV back to some route point in the history. </p>
</blockquote>
<p><img src="./media-en/rescue_rtr_back_on_route.png" alt="" /></p>
<blockquote>
<p>AGV has driven back to the nominal route.</p>
</blockquote>
<h3 id="errors-and-warnings"><a class="header" href="#errors-and-warnings">Errors and warnings</a></h3>
<h4 id="657---warning_return_to_route_failed"><a class="header" href="#657---warning_return_to_route_failed">657 - WARNING_RETURN_TO_ROUTE_FAILED</a></h4>
<h4 id="551---error_rtr_and_vector_drive_conflict"><a class="header" href="#551---error_rtr_and_vector_drive_conflict">551 - ERROR_RTR_AND_VECTOR_DRIVE_CONFLICT</a></h4>
<p>See <a href="../../Miscellaneous/ErrorDescriptions/ErrorDescriptions-en.html">Error description</a>.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="advanced-troubleshooting"><a class="header" href="#advanced-troubleshooting">Advanced troubleshooting</a></h3>
<table><thead><tr><th>Parameter</th><th>Recommended value</th><th>Description</th></tr></thead><tbody>
<tr><td>I, log_rtr_generation</td><td>1</td><td>Enables logging of return to route generation.</td></tr>
</tbody></table>
<p>All related logging is under prefix &quot;RTR:&quot;</p>
<h2 id="allow-larger-deviation-from-route-at-the-start-of-drive"><a class="header" href="#allow-larger-deviation-from-route-at-the-start-of-drive">Allow larger deviation from route at the start of drive</a></h2>
<p>There is also possibility to increase the allowed deviation from the route at the start of drive so that a trigger for return to route wouldn't be needed. The AGV can then start the drive faster, as it corrects the distance error to the route while driving. The downside compared to the return to route feature is the lower controllability.</p>
<p><img src="./media-en/startLargerDeviation.png" alt="" /> <img src="./media-en/startLargerDeviation2.png" alt="" /></p>
<blockquote>
<p>AGV starts the drive with larger deviation from the route than normally allowed when driving</p>
</blockquote>
<p>This feature is enabled by setting the parameter <strong>pc_start_err_factor</strong> &gt; 1. This parameter multiplies the normal deviation limit <strong>pc_max_dist_err</strong> at start. The larger deviation limit will last until the AGV is well inside <strong>pc_max_dist_err</strong> limit or it has travelled a distance of <strong>pc_start_err_max_travelled_dist</strong>. The user can also limit how far from starting point of the path the larger deviation can be activated with a parameter <strong>pc_start_err_max_dist_to_traj_start</strong>.</p>
<p><img src="./media-en/max_dist_to_traj_start_scaled.png" alt="" />
&gt;AGV is too far from the start of the trajectory to allow larger start deviation</p>
<h3 id="limitations-1"><a class="header" href="#limitations-1">Limitations</a></h3>
<ul>
<li>The route planner needs to be able to find the starting point. For example in Standalone production <strong>route_driver_max_diff_dist_m</strong> must be set high enough to find the start point from the route.</li>
<li>Navitrol Monitor's production simulation doesn't support this feature</li>
<li>Heading error limit to the route is not affected. Non-holonomic vehicles might change the heading too much when returning to the route with large deviation from route at start, which will trigger an error.</li>
</ul>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<table><thead><tr><th>Parameter</th><th>Type</th><th>Default value</th><th>Description</th></tr></thead><tbody>
<tr><td>pc_start_err_factor</td><td>Float</td><td>1.0</td><td>Determines maximum distance error [m] from the route at the start of drive order (multiplies pc_max_dist_err)</td></tr>
<tr><td>pc_start_err_max_travelled_dist</td><td>Float</td><td>1.0</td><td>Maximum travelled distance [m] from the start of drive order when larger deviation from route is allowed</td></tr>
<tr><td>pc_start_err_max_dist_to_traj_start</td><td>Float</td><td>FLT_MAX</td><td>Maximum distance [m] to the first point of trajectory to allow the larger deviation at start to activate</td></tr>
</tbody></table>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../DriveControl/VDA5050/VDA5050FeatureMatrix-en.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../DriveControl/ObstacleAvoidance/ObstacleAvoidance-en.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../DriveControl/VDA5050/VDA5050FeatureMatrix-en.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../DriveControl/ObstacleAvoidance/ObstacleAvoidance-en.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
