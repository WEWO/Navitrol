<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HTTP API - NAVITHOR USER INSTRUCTIONS</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Front page</a></li><li class="chapter-item expanded affix "><li class="part-title">Configuration</li><li class="chapter-item expanded "><a href="Installation_NavithorHardwareRequirements.html"><strong aria-hidden="true">1.</strong> System Hardware Requirement Specifications</a></li><li class="chapter-item expanded "><a href="Installation_SQLServerAndDatabaseInstallationGuide.html"><strong aria-hidden="true">2.</strong> Configuring database</a></li><li class="chapter-item expanded "><a href="fleetSim.html"><strong aria-hidden="true">3.</strong> Fleet Simulator - Setup and Configuration</a></li><li class="chapter-item expanded "><a href="Installation_NavithorServerAsAService.html"><strong aria-hidden="true">4.</strong> Server as a service</a></li><li class="chapter-item expanded "><a href="Installation_ConfiguringHotSwap.html"><strong aria-hidden="true">5.</strong> Server Hot Swap with Failover Cluster</a></li><li class="chapter-item expanded "><a href="Installation_RebrandingNavithor.html"><strong aria-hidden="true">6.</strong> Server and Client Rebranding</a></li><li class="chapter-item expanded "><a href="Machinetool.html"><strong aria-hidden="true">7.</strong> Machine Tool</a></li><li class="chapter-item expanded "><a href="MesTester3.html"><strong aria-hidden="true">8.</strong> MES Tester</a></li><li class="chapter-item expanded affix "><li class="part-title">Desktop client</li><li class="chapter-item expanded "><a href="navithorServerAndClientMegaDocument.html"><strong aria-hidden="true">9.</strong> System Overview and user instructions for Client UI</a></li><li class="chapter-item expanded "><a href="Feature_ClientUpdater.html"><strong aria-hidden="true">10.</strong> Client Updater</a></li><li class="chapter-item expanded affix "><li class="part-title">Web client</li><li class="chapter-item expanded "><a href="Installation_SettingUpNavithorWebServer.html"><strong aria-hidden="true">11.</strong> Setting up Web server to enable Web client</a></li><li class="chapter-item expanded "><a href="webClient.html"><strong aria-hidden="true">12.</strong> Web Client - User Instructions</a></li><li class="chapter-item expanded affix "><li class="part-title">Guides</li><li class="chapter-item expanded "><a href="bestProductionPractices.html"><strong aria-hidden="true">13.</strong> Best Practices for Creating Production Area</a></li><li class="chapter-item expanded affix "><li class="part-title">Logs</li><li class="chapter-item expanded "><a href="Navithor logs.html"><strong aria-hidden="true">14.</strong> Navithor Logs</a></li><li class="chapter-item expanded "><a href="Feature_VisualReplay.html"><strong aria-hidden="true">15.</strong> Visual Replay</a></li><li class="chapter-item expanded "><a href="Feature_DownloadManager.html"><strong aria-hidden="true">16.</strong> Log Download Manager</a></li><li class="chapter-item expanded affix "><li class="part-title">Users</li><li class="chapter-item expanded "><a href="Installation_UsingActiveDirectoryForAuthentication.html"><strong aria-hidden="true">17.</strong> User authentication against Active Directory</a></li><li class="chapter-item expanded "><a href="userRoles.html"><strong aria-hidden="true">18.</strong> User Management</a></li><li class="chapter-item expanded "><a href="userRolesRightsMatrix.html"><strong aria-hidden="true">19.</strong> Default User roles and User rights matrix</a></li><li class="chapter-item expanded affix "><li class="part-title">Features</li><li class="chapter-item expanded "><a href="symbolicPointGroups.html"><strong aria-hidden="true">20.</strong> Symbolic Point Groups</a></li><li class="chapter-item expanded "><a href="ResourceHandling.html"><strong aria-hidden="true">21.</strong> Resource handling</a></li><li class="chapter-item expanded "><a href="hold-release.html"><strong aria-hidden="true">22.</strong> Hold-Release reasoning and production order lists</a></li><li class="chapter-item expanded "><a href="transfer requests.html"><strong aria-hidden="true">23.</strong> Transfer requests</a></li><li class="chapter-item expanded "><a href="racking.html"><strong aria-hidden="true">24.</strong> Using warehouse racking feature</a></li><li class="chapter-item expanded "><a href="bufferLanes.html"><strong aria-hidden="true">25.</strong> Using Buffer Lanes</a></li><li class="chapter-item expanded "><a href="Feature_ChargingManagement.html"><strong aria-hidden="true">26.</strong> Managing Battery Levels</a></li><li class="chapter-item expanded "><a href="oneMachineZones.html"><strong aria-hidden="true">27.</strong> Using One Machine Zones</a></li><li class="chapter-item expanded "><a href="distanceControlZones.html"><strong aria-hidden="true">28.</strong> Distance Control Zones</a></li><li class="chapter-item expanded "><a href="FireAlarmZones.html"><strong aria-hidden="true">29.</strong> Fire Alarm Zones</a></li><li class="chapter-item expanded "><a href="Zone status use cases.html"><strong aria-hidden="true">30.</strong> Zone status use cases</a></li><li class="chapter-item expanded "><a href="tagStatuses.html"><strong aria-hidden="true">31.</strong> Tag Statuses</a></li><li class="chapter-item expanded "><a href="Trafficlights.html"><strong aria-hidden="true">32.</strong> Traffic Lights</a></li><li class="chapter-item expanded "><a href="Feature_Elevators.html"><strong aria-hidden="true">33.</strong> Elevators</a></li><li class="chapter-item expanded "><a href="ProductionBreak.html"><strong aria-hidden="true">34.</strong> Production Break</a></li><li class="chapter-item expanded "><a href="DynamicSafetyBounds.html"><strong aria-hidden="true">35.</strong> Virtual Dynamic Safety Bounds</a></li><li class="chapter-item expanded "><a href="WaitingSlots.html"><strong aria-hidden="true">36.</strong> Wait Queue Locations</a></li><li class="chapter-item expanded "><a href="CoupledDrive.html"><strong aria-hidden="true">37.</strong> Coupled Drive</a></li><li class="chapter-item expanded "><a href="Feature_StoppingPointOffsetsForSymbolicPoints.html"><strong aria-hidden="true">38.</strong> Stopping Point Offsets</a></li><li class="chapter-item expanded "><a href="TCStopPoint.html"><strong aria-hidden="true">39.</strong> Safe stopping point calculation</a></li><li class="chapter-item expanded "><a href="Navithor statistics.html"><strong aria-hidden="true">40.</strong> System Statistics</a></li><li class="chapter-item expanded "><a href="MachineInterfaces.html"><strong aria-hidden="true">41.</strong> Machine Interfaces</a></li><li class="chapter-item expanded affix "><li class="part-title">Interfaces</li><li class="chapter-item expanded "><a href="Communication specification between Navithor and MES.html"><strong aria-hidden="true">42.</strong> MES Interface</a></li><li class="chapter-item expanded "><a href="NavithorHttpApi.html" class="active"><strong aria-hidden="true">43.</strong> HTTP API</a></li><li class="chapter-item expanded "><a href="NavithorWebApi.html"><strong aria-hidden="true">44.</strong> WebSocket API</a></li><li class="chapter-item expanded "><a href="opcuadoc.html"><strong aria-hidden="true">45.</strong> OPC UA Server interface</a></li><li class="chapter-item expanded affix "><li class="part-title">Alarms</li><li class="chapter-item expanded "><a href="Fleet Control Alarms.html"><strong aria-hidden="true">46.</strong> Alarms</a></li><li class="chapter-item expanded "><a href="Alarms configuration override.html"><strong aria-hidden="true">47.</strong> Alarms configuration override</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">NAVITHOR USER INSTRUCTIONS</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="http-api"><a class="header" href="#http-api">HTTP API</a></h1>
<p>This document contains information on how to configure and use the Navithor HTTP Rest API.</p>
<p>Updated 14.10.2022</p>
<h2 id="version-history"><a class="header" href="#version-history">Version History</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Version</th><th>Date</th><th>Author</th><th>Change</th></tr></thead><tbody>
<tr><td>1.0</td><td>07.12.2021</td><td>Tero Laakso</td><td>First version of the API</td></tr>
<tr><td>1.1</td><td>04.02.2022</td><td>Tero Laakso-Pitkäkoski</td><td>Navithor Server.exe configuration moved to ServerSettings.json</td></tr>
<tr><td>1.2</td><td>14.02.2022</td><td>Tero Laakso-Pitkäkoski</td><td>Header levels changed, document main header changed</td></tr>
<tr><td>1.3</td><td>23.05.2022</td><td>Tero Laakso-Pitkäkoski</td><td>CORS parameter description added</td></tr>
<tr><td>1.4</td><td>14.10.2022</td><td>Aleksi Ålander</td><td>Extended the API with new messages</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="general-api-information"><a class="header" href="#general-api-information">General API information</a></h2>
<p>HTTP API is a software interface designed to provide an easy way to control and to gain data from the fleet control system. It serves as an alternative for Navithor MES interface, with a purpose to ease the integration to high level production systems and custom user interfaces. Communication is using HTTP protocol and messages are in JSON format, making them easy to compose and parse with almost any programming language or by human. Basic understanding of these technologies is expected in this documentation.</p>
<h2 id="server-configuration"><a class="header" href="#server-configuration">Server configuration</a></h2>
<p>The API has to be enabled before it can be accessed. Interface is also bundled with Navithor Web Client license, the license file has to provided by Navitec before the API can be used.</p>
<p>To enable API, change the <strong>UseWebServer</strong> option to <strong>true</strong> in <strong>ConfigFiles/ServerSettings.json</strong>. <strong>UseHttps</strong> can be set to <strong>true</strong> if secure communication is desired. Secure communication requires certificates to be installed. HTTP API uses the same communication certificates as the Web Client, setting up those certificates is described in ** Setting up Web server to enable Web client** document. Although in production environment the secure communication in encouraged, integration to the API is usually easier to start without secure communication enabled. Server has to be restarted after the settings have been changed. The API will start responding soon after the server is up.</p>
<h3 id="cross-origin-resource-sharing-cors"><a class="header" href="#cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</a></h3>
<p>When implementing a custom web application that uses HTTP API, server has to allow the application to communicate with it even when the application is not hosted by the server. This mechanism is called CORS and it can be enabled through <strong>ConfigFiles/ServerSettings.json</strong> by setting <strong>AllowCors</strong> option to <strong>true</strong>.</p>
<h2 id="http-verbs-and-headers"><a class="header" href="#http-verbs-and-headers">HTTP verbs and headers</a></h2>
<p>When making requests to the API four different information types has to be defined by the requesting client. Client has to define the HTTP verb used, this API only uses two of those: <strong>GET</strong> for only receiving info from the server, and <strong>POST</strong> for making the requests to change the state of the system. API path specification section describes a verb for each message.</p>
<p>URL path is the second information that has to be filled by the client application. URL format is the same that is used in web browsing, only difference is the port that has to be manually defined. When requesting version information of the server configured with default settings, and running on same host as the requesting client, url path would look like this: 'http://localhost:1234/api/GetVersion'.</p>
<p>Headers are a way to provide parameters as a part of the HTTP request. As JSON is the format supported by Navithor in the HTTP body to both directions, <strong>Content-type: application/json</strong> header is expected to be given in every request. The other header expected depends on the authentication method used, those methods are described in following sections.</p>
<p>HTTP body is the field used to provide path specific request parameters for the server. The same body also contains response message created by the server. In all cases body follows the JSON format, and all the information expected in the requests and to be expected in the responses is documented in <strong>API path specification</strong> section.</p>
<h2 id="authentication"><a class="header" href="#authentication">Authentication</a></h2>
<p>Using the API paths requires always authentication. There are two methods for authentication:</p>
<ul>
<li>Username and password authentication (Basic)</li>
<li>API Key authentication</li>
</ul>
<p>API key authentication is the recommended way to ensure the client application is authorized as it is the most simple approach.</p>
<h3 id="api-key"><a class="header" href="#api-key">API key</a></h3>
<p>API key authentication is based on fixed HTTP header provided when making requests to the API. Multiple keys can be configured to the system. Keys are configured in the file located in <strong>ConfigFiles/ServerSettings.json</strong> found in Fleet control installation folder. File with default values is created on first server execution. <strong>RestApiKeys</strong> key is used to define an array of key strings.</p>
<p>HTTP requests should contain the header <strong>ApiKey</strong> with value matching with one of the values defined in <strong>ServerSettings.json</strong>.</p>
<h3 id="authentication-with-username-and-password"><a class="header" href="#authentication-with-username-and-password">Authentication with username and password</a></h3>
<p>This authentication method makes it possible to authenticate using the same user accounts that are used to login to Fleet control clients (Navithor Client and Web Client). For that purpose there is a specific '/api/token' path. To that path client should POST a form with following text parameters: <strong>username</strong>, <strong>password</strong> and <strong>grant_type</strong>. grant_type should always have value <strong>password</strong>, and the user information has to match with server login credentials. <strong>Content-Type</strong> header also should have value <strong>application/x-www-form-urlencoded</strong>. The following screen capture will show the example with default user credentials.</p>
<p><img src="./Images/HttpApi/TokenPost.png" alt="" /></p>
<blockquote>
<p>Figure: Toke successfully requested</p>
</blockquote>
<p>The string token received with <strong>access_token</strong> should be then set as value for <strong>Authorization</strong> header in the requests to the API. Note that the token has an expiration time after which a new token has to be requested.</p>
<h2 id="api-specification-for-general-messages"><a class="header" href="#api-specification-for-general-messages">API specification for general messages</a></h2>
<h3 id="fleet-control-software-version"><a class="header" href="#fleet-control-software-version">Fleet control software version</a></h3>
<p>Get version information of server.</p>
<p><strong>URL</strong> : <code>/api/GetVersion</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<h4 id="success-response"><a class="header" href="#success-response">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response example</strong></p>
<pre><code class="language-json">{
    &quot;Major&quot;: 2,
    &quot;Minor&quot;: 23,
    &quot;Build&quot;: 0,
    &quot;Revision&quot;: 0
}
</code></pre>
<h3 id="request-server-to-save-logs"><a class="header" href="#request-server-to-save-logs">Request server to save logs</a></h3>
<p>Request server to save logs. Request can optionally include a description that is included with the log package and machine names. If machines are defined, server tries to get the AGV specific logs from them.</p>
<p><strong>URL</strong> : <code>/api/DumpLogs</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineNames&quot;: &quot;array of strings: Names of the machines - optional&quot;,
    &quot;description&quot;: &quot;string: Reason why the logs were requested to be saved - optional&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineNames&quot;: [&quot;AGV 1&quot;, &quot;AGV 2&quot;],
    &quot;description&quot;: &quot;AGVs are having problems with XX&quot;
</code></pre>
<h4 id="success-response-1"><a class="header" href="#success-response-1">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request to save logs was successfully received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="get-area-data"><a class="header" href="#get-area-data">Get area data</a></h3>
<p>Get area data of given machine type.</p>
<p><strong>URL</strong> : <code>/api/GetAreas</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineType&quot;: &quot;string: Machine type name&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineType&quot;: &quot;Omni_demo&quot;
}
</code></pre>
<h4 id="success-response-2"><a class="header" href="#success-response-2">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<pre><code class="language-json">{
    &quot;AreaName&quot;: &quot;string: Name of the area&quot;,
    &quot;AreaVersion&quot;: &quot;number: Version number of the area&quot;,
    &quot;Level&quot;: &quot;number: Level id of the area&quot;,
    &quot;Coordinates&quot;: &quot;list of points: Coordinates of the area's outside edges&quot;,
        &quot;x&quot;: &quot;decimal: X-coordinate&quot;,
        &quot;y&quot;: &quot;decimal: Y-coordinate&quot;,
    &quot;Zones&quot;: &quot;list of zones: Zones configured in the area&quot;,
       &quot;Name&quot;: &quot;string: Name of the zone&quot;,
       &quot;Coordinates&quot;: &quot;list of points: Points of the edges of the polygon&quot;,
            &quot;x&quot;: &quot;decimal: X-coordinate&quot;,
            &quot;y&quot;: &quot;decimal: Y-coordinate&quot;,
        &quot;ZoneID&quot;: &quot;number: ID of the zone&quot;,
        &quot;Configurations&quot;: &quot;list of decimals: Values for zone configuration&quot;
}
</code></pre>
<h3 id="get-environment-points"><a class="header" href="#get-environment-points">Get environment points</a></h3>
<p>Get environment points of given machine type.</p>
<p><strong>URL</strong> : <code>/api/GetEnvironmentPoints</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineType&quot;: &quot;string: Machine type name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineType&quot;: &quot;Omni_demo&quot;
}
</code></pre>
<h4 id="success-response-3"><a class="header" href="#success-response-3">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<pre><code class="language-json">{
    &quot;Coordinates&quot;: &quot;list of points: Represents the static environment points of the area&quot;,
        &quot;x&quot;: &quot;decimal: X-coordinate of the envrionment point&quot;,
        &quot;y&quot;: &quot;decimal: Y-coordinate of the envrionment point&quot;,
    &quot;MinX&quot;: &quot;decimal: Minimum X-value of all environment points&quot;,
    &quot;MaxX&quot;: &quot;decimal: Maximum X-value of all environment points&quot;,
    &quot;MinY&quot;: &quot;decimal: Minimum Y-value of all environment points&quot;,
    &quot;MinY&quot;: &quot;decimal: Maximum Y-value of all environment points&quot;,
}
</code></pre>
<h3 id="get-zones-of-the-area"><a class="header" href="#get-zones-of-the-area">Get zones of the area</a></h3>
<p>Get all zones congfigured for the area.</p>
<p><strong>URL</strong> : <code>/api/GetEnvironmentZones</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<h4 id="success-response-4"><a class="header" href="#success-response-4">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<pre><code class="language-json">{
    &quot;ZoneResults&quot;: &quot;list of ZoneResults: Zones configured in the area&quot;,
       &quot;Name&quot;: &quot;string: Name of the zone&quot;,
       &quot;Coordinates&quot;: &quot;list of points: Points of the edges of the polygon&quot;,
            &quot;x&quot;: &quot;float: X-coordinate&quot;,
            &quot;y&quot;: &quot;float: Y-coordinate&quot;,
        &quot;ZoneType&quot;: &quot;number: Type of the zone&quot;,
        &quot;ZoneID&quot;: &quot;number: ID of the zone&quot;,
        &quot;Configurations&quot;: &quot;list of doubles: Values for zone configuration&quot;
}
</code></pre>
<h2 id="api-specification-for-agvs"><a class="header" href="#api-specification-for-agvs">API specification for AGVs</a></h2>
<h3 id="agv-position-initialization"><a class="header" href="#agv-position-initialization">AGV position initialization</a></h3>
<p>Initialize the position of the AGV to given location.</p>
<p><strong>URL</strong> : <code>/api/InitializePosition</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: &quot;number: identification number integer&quot;,
    &quot;x&quot;: &quot;number: X coordinate&quot;,
    &quot;y&quot;: &quot;number: Y coordinate&quot;,
    &quot;heading&quot;: &quot;number: AGV heading in radians&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: 2,
    &quot;x&quot;: 4,
    &quot;y&quot;: 12.2,
    &quot;heading&quot;: 3.13}
</code></pre>
<h4 id="success-response-5"><a class="header" href="#success-response-5">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if position initialization message was successfully delivered to AGV. It does not guarantee that position was accepted as a valid position.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="change-agv-production-status"><a class="header" href="#change-agv-production-status">Change AGV production status</a></h3>
<p>Take machines into production, or out of production.</p>
<p><strong>URL</strong> : <code>/api/TakeMachineIntoProduction</code> - To take machine into production</p>
<p><strong>URL</strong> : <code>/api/TakeMachineOutOfProduction</code> - To take machine out of production</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineIds&quot;: &quot;array of numbers: identification number integers. null value will control the production status of the complete enabled fleet&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineIds&quot;: [5],
}
</code></pre>
<h4 id="success-response-6"><a class="header" href="#success-response-6">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if AGVs with given ID(s) were found and could be taken into production, or released from production.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="enable-and-disable-agv"><a class="header" href="#enable-and-disable-agv">Enable and disable AGV</a></h3>
<p>Change the AGV state to enabled or to disabled.</p>
<p><strong>URL</strong> : <code>/api/EnableMachine</code> - To enable</p>
<p><strong>URL</strong> : <code>/api/DisableMachine</code> - To disable</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: &quot;number: identification number integer&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: 5,
}
</code></pre>
<h4 id="success-response-7"><a class="header" href="#success-response-7">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if AGV with the given ID was found and the vehicle state was changed to enabled or disabled.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h4 id="failure-response"><a class="header" href="#failure-response">Failure Response</a></h4>
<p><strong>Code</strong> : <code>400 BadRequest</code></p>
<p><strong>Response body example</strong></p>
<p>Machine with given ID was not found.</p>
<pre><code class="language-json">{
    &quot;success&quot;: false
}
</code></pre>
<h3 id="release-agv-from-hold-at-location"><a class="header" href="#release-agv-from-hold-at-location">Release AGV from hold at location</a></h3>
<p>Releases machine currently in hold state at given symbolic point to the given target symbolic point.</p>
<p><strong>URL</strong> : <code>/api/ReleaseHold</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;fromId&quot;: &quot;number: Identification of symbolic point AGV is released from&quot;,
    &quot;targetId&quot;: &quot;number: Identification of target symbolic point&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;fromId&quot;: 1008,
    &quot;targetId&quot;: 1009
}
</code></pre>
<h4 id="success-response-8"><a class="header" href="#success-response-8">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Currently with all the parameters defined the response is always <strong>true</strong>.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h4 id="failure-response-1"><a class="header" href="#failure-response-1">Failure Response</a></h4>
<p><strong>Code</strong> : <code>400 BadRequest</code></p>
<p><strong>Response body example</strong></p>
<p>Parameters missing.</p>
<pre><code class="language-json">{
    &quot;success&quot;: false
}
</code></pre>
<h3 id="release-agv-from-stop-and-hold-location"><a class="header" href="#release-agv-from-stop-and-hold-location">Release AGV from stop-and-hold location</a></h3>
<p>Releases given AGV from stop-and-hold state (if Navitrol allows this!). Note that stop-and-hold symbolic point has different behaviour than a normal symbolic point, that has hold-rule enabled. Refer to other documentation to understand the different use cases.</p>
<p><strong>URL</strong> : <code>/api/ReleaseStopAndHold</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-9"><a class="header" href="#success-response-9">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value indicates if request for the release stop-and-hold was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="set-resource-status-at-agv"><a class="header" href="#set-resource-status-at-agv">Set resource status at AGV</a></h3>
<p>Set resource to be carried by given AGV. Setting <strong>amount</strong> value to zero will clear the resource status of the AGV.</p>
<p><strong>URL</strong> : <code>/api/ResourceAtMachine</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: &quot;number: AGV ID&quot;,
    &quot;resourceType&quot;: &quot;number: Resource type ID&quot;,
    &quot;amount&quot;: &quot;number: Number of created resources&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: 3,
    &quot;resourceType&quot;: 2,
    &quot;amount&quot;: 2
}
</code></pre>
<h4 id="success-response-10"><a class="header" href="#success-response-10">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource was created.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="drive-agv-to-a-symbolic-point"><a class="header" href="#drive-agv-to-a-symbolic-point">Drive AGV to a symbolic point</a></h3>
<p>Creates an order to drive AGV to the given symbolic point.</p>
<p><strong>URL</strong> : <code>/api/DriveToSymbol</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
    &quot;machineId&quot;: &quot;number: AGV ID&quot;,
    &quot;symbolName&quot;: &quot;string: Name of the symbolic point&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
    &quot;machineId&quot;: 1,
    &quot;symbolName&quot;: &quot;Pickup Location 1&quot;
}
</code></pre>
<h4 id="success-response-11"><a class="header" href="#success-response-11">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request for the drive order was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="drive-agv-to-xy-location"><a class="header" href="#drive-agv-to-xy-location">Drive AGV to XY-location</a></h3>
<p>Creates an order to drive AGV to the given coordinates. The given target needs to be close to a route for it to be accepted.</p>
<p><strong>URL</strong> : <code>/api/SendDriveOrder</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
    &quot;endPointX&quot;: &quot;decimal: X-coordinate of the drive target&quot;,
    &quot;endPointY&quot;: &quot;string: Y-coordinate of the drive target&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
    &quot;endPointX&quot;: 124.503,
    &quot;endPointY&quot;: -50.234&quot;
}
</code></pre>
<h4 id="success-response-12"><a class="header" href="#success-response-12">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request for the drive order was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-pickup-or-dropoff-a-load"><a class="header" href="#request-agv-to-pickup-or-dropoff-a-load">Request AGV to pickup or dropoff a load</a></h3>
<p>Requests AGV to pickup (LoadMachine) or dropoff (UnloadMachine) a load. AGV has to be already at the correct location before the request.</p>
<p><strong>URL</strong> : <code>/api/LoadMachine</code> - to pickup load
<strong>URL</strong> : <code>/api/UnloadMachine</code> - to dropoff load</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-13"><a class="header" href="#success-response-13">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request for pickup/dropoff command was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-abort-current-action"><a class="header" href="#request-agv-to-abort-current-action">Request AGV to abort current action</a></h3>
<p>Requests AGV to abort drive order, pickup or dropoff action. In case AGV is not in correct state, request does nothing.
AbortDrive tries to abort all current tasks and takes AGV out of production.</p>
<p><strong>URL</strong> : <code>/api/AbortDrive</code> - to abort drive order (AGV is also taken out of production)
<strong>URL</strong> : <code>/api/AbortLoadMachine</code> - to abort pickup action
<strong>URL</strong> : <code>/api/AbortUnloadMachine</code> - to abort dropoff action</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-14"><a class="header" href="#success-response-14">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if abort command was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-fstop-or-release-fstop"><a class="header" href="#request-agv-to-fstop-or-release-fstop">Request AGV to FSTOP or release FSTOP</a></h3>
<p>Requests AGV to do FSTOP triggered by a software. AGV can be released only by another release FSTOP request.</p>
<p><strong>URL</strong> : <code>/api/FSTOPMachine</code> - to FTSOP the AGV
<strong>URL</strong> : <code>/api/ReleaseFSTOPMachine</code> - to release AGV from FSTOP</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-15"><a class="header" href="#success-response-15">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if command was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-all-agvs-to-fstop"><a class="header" href="#request-all-agvs-to-fstop">Request all AGVs to FSTOP</a></h3>
<p>Requests all AGVs to do FSTOP triggered by a software. AGV can be released only by giving each of them a separate command to be released from FSTOP.</p>
<p><strong>URL</strong> : <code>/api/FSTOPAllMachines</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<h4 id="success-response-16"><a class="header" href="#success-response-16">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request to FSTOP all AGVs was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-return-to-route"><a class="header" href="#request-agv-to-return-to-route">Request AGV to return to route</a></h3>
<p>Requests AGV to return to route. AGV controller / navigation software is responsible for choosing the optimal trajectory back to the route.
Fleet control just gives the request to the controller.</p>
<p><strong>URL</strong> : <code>/api/ReturnToRoute</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-17"><a class="header" href="#success-response-17">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request to return AGV to route was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-go-to-charge"><a class="header" href="#request-agv-to-go-to-charge">Request AGV to go to charge</a></h3>
<p>Requests AGV to go to charge. Fleet control is responsible for checking if this is possible and choosing the charging location.</p>
<p><strong>URL</strong> : <code>/api/RequestChargingForMachine</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
}
</code></pre>
<h4 id="success-response-18"><a class="header" href="#success-response-18">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request to take AGV to charge was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-agv-to-go-to-sleep-mode"><a class="header" href="#request-agv-to-go-to-sleep-mode">Request AGV to go to sleep mode</a></h3>
<p>Requests AGV to go to sleep mode. AGV needs to support this feature, fleet control will give the request to the AGV controller.
Can be used also to give the request to the whole fleet of AGVs.</p>
<p><strong>URL</strong> : <code>/api/SleepMode</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;string: AGV name - optional&quot;,
    &quot;sleepMode&quot;: &quot;boolean: Whether to activate sleep mode (true) or to wake up the AGV from sleep (false)&quot;,
    &quot;allMachines&quot;: &quot;boolean: Whether to give the request to a single or all AGVs - optional&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineName&quot;: &quot;AGV 1&quot;,
    &quot;sleepMode&quot;: true
}
</code></pre>
<h4 id="success-response-19"><a class="header" href="#success-response-19">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if request to take AGV to charge was received.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h4 id="failure-response-2"><a class="header" href="#failure-response-2">Failure Response</a></h4>
<p><strong>Code</strong> : <code>400 BadRequest</code></p>
<p><strong>Response body example</strong></p>
<p>Request body had neither machine name defined or boolean commandAllMachines as true.</p>
<pre><code class="language-json">{
    &quot;success&quot;: false
}
</code></pre>
<h2 id="api-specification-for-order-management"><a class="header" href="#api-specification-for-order-management">API specification for order management</a></h2>
<h3 id="create-orders"><a class="header" href="#create-orders">Create orders</a></h3>
<p>Two kind of orders can be created. If AGV ID is defined in the request normal production order is created. When machine is not defined, the system will select the suitable AGV for the task. That kind of order is called transfer request. With resource defined, it is moved from pickup locations to target. By just defining target location for the AGV it is possible to order machine to the destination without a resource.</p>
<p><strong>URL</strong> : <code>/api/AddProductionOrder</code> - To create orders for specific machines, or transfer requests</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: &quot;number: AGV identification - optional&quot;,
    &quot;targetLocationId&quot;: &quot;number: Target symbolic point identification&quot;,
    &quot;pickupLocationId&quot;: &quot;number: Pickup location symbolic point identification - optional&quot;,
    &quot;resourceTypeId&quot;: &quot;number: Type identification of resource - optional&quot;,
    &quot;resourceCount&quot;: &quot;number: Number of resources - optional&quot;,
    &quot;targetShelfId&quot;: &quot;number: Target shelf level, -1 if target is not a shelf - optional&quot;,
    &quot;targetShelfOrientation&quot;: &quot;string: Orientation at target rack, if using a sideloader. Options: None, Left, Right - optional&quot;,
    &quot;priority&quot;: &quot;number: Priority of the order (min 1, max 8) - optional&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;machineId&quot;: 1,
    &quot;targetLocationId&quot;: 1009,
    &quot;pickupLocationId&quot;: 1008,
    &quot;resourceTypeId&quot;: 1,
    &quot;resourceCount&quot;: 1
}
</code></pre>
<h4 id="success-response-20"><a class="header" href="#success-response-20">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>result</strong> can have following numberical values:</p>
<pre><code>SUCCESS = 0,
INVALID_PICKUP_LOC = 1,
INVALID_TARGET_LOC = 2,
DATABASE_FAILURE = 3,
RESOURCE_NOT_FOUND = 4,
GENERIC_FAILURE = 5,
</code></pre>
<p><strong>createdId</strong> is a unique identification number for created order. Identification can be used to delete orders.</p>
<pre><code class="language-json">{
    &quot;result&quot;: 0,
    &quot;createdId&quot;: 9
}
</code></pre>
<h3 id="delete-any-production-order"><a class="header" href="#delete-any-production-order">Delete any production order</a></h3>
<p><strong>URL</strong> : <code>/api/DeleteProductionOrder</code> - To delete order with specified ID</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: &quot;number: Identification number received when creating order&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: 9,
}
</code></pre>
<h4 id="success-response-21"><a class="header" href="#success-response-21">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request for production order deletion was received. </p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="delete-transfer-request"><a class="header" href="#delete-transfer-request">Delete transfer request</a></h3>
<p><strong>URL</strong> : <code>/api/DeleteTransferRequest</code> - To delete transfer request</p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: &quot;number: Identification number received when creating order&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: 22232,
}
</code></pre>
<h4 id="success-response-22"><a class="header" href="#success-response-22">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request for transfer request deletion was received. </p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="request-pickup-of-the-resource-at-location"><a class="header" href="#request-pickup-of-the-resource-at-location">Request pickup of the resource at location</a></h3>
<p>Fleet control is able to generate production orders based on resource pickup requests.</p>
<p><strong>URL</strong> : <code>/api/ResourcePickupRequest</code>
<strong>URL</strong> : <code>/api/RequestPickupAtSymbolicPoint</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: &quot;number: Symbolic point ID&quot;,
    &quot;shelfId&quot;: &quot;number: Rack shelf identification - optional&quot;,
    &quot;orientation&quot;: &quot;string: Target rack orientation. Options: None, Left, Right - optional&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: 3007
}
</code></pre>
<h4 id="success-response-23"><a class="header" href="#success-response-23">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value is always set <strong>true</strong> regardless of the resource status of the location.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="pause-production-order"><a class="header" href="#pause-production-order">Pause production order</a></h3>
<p>Fleet control pauses the current order of the AGV and aborts the current drive order. The order can be later continued. AGV does not execute other orders, while the current order is paused.</p>
<p><strong>URL</strong> : <code>/api/PauseProductionOrder</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: &quot;number: Identification number received when creating order&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: 10123,
}
</code></pre>
<h4 id="success-response-24"><a class="header" href="#success-response-24">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request to pause the order was received. </p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="continue-production-order"><a class="header" href="#continue-production-order">Continue production order</a></h3>
<p>Paused order is requested to be continued. AGV continues execution of the current order that was paused.</p>
<p><strong>URL</strong> : <code>/api/ContinueProductionOrder</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: &quot;number: Identification number received when creating order&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;orderId&quot;: 10123,
}
</code></pre>
<h4 id="success-response-25"><a class="header" href="#success-response-25">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request to continue the order was received. </p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="activate-or-deactivate-production-break"><a class="header" href="#activate-or-deactivate-production-break">Activate or deactivate production break</a></h3>
<p>Fleet control either activates or deactivates production break mode based on this message. Refer to 'Production break' documentation to learn more about the feature.</p>
<p><strong>URL</strong> : <code>/api/ProductionBreakMode</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;enabled&quot;: &quot;boolean: Indicates whether production break mode should be activated&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;enabled&quot;: true,
}
</code></pre>
<h4 id="success-response-26"><a class="header" href="#success-response-26">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Value of <strong>success</strong> indicates if request was successfully received. </p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="get-status-of-production-orders"><a class="header" href="#get-status-of-production-orders">Get status of production orders</a></h3>
<p>Request status of all active production orders from the fleet control. The body does not have any parameters.</p>
<p><strong>URL</strong> : <code>/api/GetProductionOrders</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<h4 id="success-response-27"><a class="header" href="#success-response-27">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Response contains a list of active orders with following information. Below example body of one production order</p>
<pre><code class="language-json">{
    &quot;StartTime&quot;: &quot;&quot;,
    &quot;MachineName&quot;: &quot;Omni_demo 1&quot;,
    &quot;PickupLocation&quot;: null,
    &quot;ResourceName&quot;: null,
    &quot;Target&quot;: &quot;Elevator1 Door1 (17)&quot;,
    &quot;OrderStatus&quot;: &quot;waiting&quot;,
    &quot;Status&quot;: 2,
    &quot;Priority&quot;: 4,
    &quot;Description&quot;: &quot;Status set to waiting.&quot;,
    &quot;OrderName&quot;: &quot;Manual order&quot;,
    &quot;Id&quot;: 1,
    &quot;PlannerId&quot;: null,
    &quot;TakeOutOfProdAfterFinish&quot;: false,
    &quot;OrderPaused&quot;: false,
    &quot;OrderTypeId&quot;: 1,
    &quot;PlannedPickupTime&quot;: &quot;&quot;,
    &quot;PlannedDeliveryTime&quot;: &quot;&quot;,
    &quot;EstimateTotalExecutionTime&quot;: &quot;&quot;
}
</code></pre>
<h2 id="api-specification-for-symbolic-points"><a class="header" href="#api-specification-for-symbolic-points">API specification for symbolic points</a></h2>
<h3 id="disable-or-enable-symbolic-point"><a class="header" href="#disable-or-enable-symbolic-point">Disable or enable symbolic point</a></h3>
<p><strong>URL</strong> : <code>/api/EnableDisableSymbolicPoint</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: &quot;number: Symbolic point ID&quot;,
    &quot;enabled&quot;: &quot;boolean: Is enabled or not&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: 1008,
    &quot;enabled&quot;: true
}
</code></pre>
<h4 id="success-response-28"><a class="header" href="#success-response-28">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p>Request will succeed always when given symbolic point identification is a valid numeric value.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="set-resource-status-at-location"><a class="header" href="#set-resource-status-at-location">Set resource status at location</a></h3>
<p>Set resource at certain location. Setting <strong>amount</strong> value to zero will clear the location.</p>
<p><strong>URL</strong> : <code>/api/ResourceAtLocation</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: &quot;number: Symbolic point ID&quot;,
    &quot;resourceType&quot;: &quot;number: Resource type ID&quot;,
    &quot;amount&quot;: &quot;number: Number of created resources&quot;,
    &quot;shelfId&quot;: &quot;number: Rack shelf identification - optional&quot;
    &quot;orientation&quot;: &quot;string: Target rack orientation. Options: None, Left, Right - optional&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: 1003,
    &quot;resourceType&quot;: 2,
    &quot;amount&quot;: 2,
    &quot;shelfId&quot;: -1
}
</code></pre>
<h4 id="success-response-29"><a class="header" href="#success-response-29">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource was created.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="report-current-door-status"><a class="header" href="#report-current-door-status">Report current door status</a></h3>
<p>Doors are special type of symbolic points, defined using Navithor Tools. To report the current status of the door, this request can be used. Refer to Navithor document &quot;Tag Statuses&quot; for configuring the doors.</p>
<p><strong>URL</strong> : <code>/api/DoorStatus</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<p>Either the name or ID of the symbolic point has to be defined. Name is prioritized when both values are defined.</p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: &quot;number: Symbolic point ID - optional&quot;,
    &quot;SymbolicPointName&quot;: &quot;string: Symbolic point name - optional&quot;,
    &quot;doorState&quot;: &quot;number: Status of the door&quot;
}
</code></pre>
<p>Door status can have one of these values:</p>
<pre><code>offline = 0,
closed = 1,
closing = 2,
opening = 3,
open = 4,
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;symbolicPointId&quot;: 3007,
    &quot;doorState&quot;: 4
}
</code></pre>
<h4 id="success-response-30"><a class="header" href="#success-response-30">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value is always set to <strong>true</strong> when request is responded with code 200.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h4 id="failure-response-3"><a class="header" href="#failure-response-3">Failure Response</a></h4>
<p><strong>Code</strong> : <code>400 BadRequest</code></p>
<p><strong>Response body example</strong></p>
<p>Request body had no symbolic point ID defined or symbolic point with the given ID does not exist in the system.</p>
<pre><code class="language-json">{
    &quot;success&quot;: false
}
</code></pre>
<h2 id="api-specification-for-resources"><a class="header" href="#api-specification-for-resources">API specification for resources</a></h2>
<h3 id="create-a-resource-to-entity"><a class="header" href="#create-a-resource-to-entity">Create a resource to entity</a></h3>
<p>Create a resource to a certain entity, which can be either a location or a machine. Setting <strong>amount</strong> value to zero will clear the entity from resources.</p>
<p><strong>URL</strong> : <code>/api/CreateResource</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;entityId&quot;: &quot;number: Entity ID that defines where the resource is set at&quot;,
    &quot;symbolicPointId&quot;: &quot;number: Symbolic point ID - optional&quot;,
    &quot;machineId&quot;: &quot;number: Machine ID - optional&quot;,
    &quot;resourceType&quot;: &quot;number: Resource type ID&quot;,
    &quot;amount&quot;: &quot;number: Number of created resources&quot;,
    &quot;shelfId&quot;: &quot;number: Rack shelf identification - optional&quot;,
    &quot;orientation&quot;: &quot;string: Target rack orientation. Options: None, Left, Right - optional&quot;,
    &quot;stackOnPrevious&quot;: &quot;boolean: Whether the new resource is stacked on top of previous resource on the entity or not - optional (default: false)&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;entityId&quot;: 100,
    &quot;resourceType&quot;: 2,
    &quot;amount&quot;: 2,
    &quot;shelfId&quot;: 2,
    &quot;orientation&quot;: &quot;Left&quot;
}
</code></pre>
<h4 id="success-response-31"><a class="header" href="#success-response-31">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource was created.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="modify-resource-type"><a class="header" href="#modify-resource-type">Modify resource type</a></h3>
<p>Modifies resource type of an existing resource in the system.</p>
<p><strong>URL</strong> : <code>/api/ModifyResourceType</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: &quot;number: Resource ID&quot;,
    &quot;nextResourceTypeId&quot;: &quot;number: New resource type ID&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: 20301,
    &quot;nextResourceTypeId&quot;: 25,
}
</code></pre>
<h4 id="success-response-32"><a class="header" href="#success-response-32">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource type was modified.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="modify-resource-quantity"><a class="header" href="#modify-resource-quantity">Modify resource quantity</a></h3>
<p>Modifies resource quantity of an existing resource in the system.</p>
<p><strong>URL</strong> : <code>/api/ModifyResourceQuantity</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: &quot;number: Resource ID&quot;,
    &quot;nextResourceQuantity&quot;: &quot;number: New resource quantity&quot;
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: 20301,
    &quot;nextResourceQuantity&quot;: 3,
}
</code></pre>
<h4 id="success-response-33"><a class="header" href="#success-response-33">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource quantity was modified.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="delete-resource"><a class="header" href="#delete-resource">Delete resource</a></h3>
<p>Removes resource from the system completely.</p>
<p><strong>URL</strong> : <code>/api/UntrackResource</code></p>
<p><strong>Method</strong> : <code>POST</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: &quot;number: Resource ID&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: 20301,
}
</code></pre>
<h4 id="success-response-34"><a class="header" href="#success-response-34">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<p><strong>success</strong> value will indicate if resource was deleted.</p>
<pre><code class="language-json">{
    &quot;success&quot;: true
}
</code></pre>
<h3 id="get-status-of-a-resource"><a class="header" href="#get-status-of-a-resource">Get status of a resource</a></h3>
<p>Request status of a resource from Fleet control.</p>
<p><strong>URL</strong> : <code>/api/GetResourceStatus</code></p>
<p><strong>Method</strong> : <code>GET</code></p>
<p><strong>Request body parameters</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: &quot;number: Resource ID&quot;,
}
</code></pre>
<p><strong>Request body example</strong></p>
<pre><code class="language-json">{
    &quot;resourceId&quot;: 20301
}
</code></pre>
<h4 id="success-response-35"><a class="header" href="#success-response-35">Success Response</a></h4>
<p><strong>Code</strong> : <code>200 OK</code></p>
<p><strong>Response body example</strong></p>
<pre><code class="language-json">{
    &quot;ResourceId&quot;: 234,
    &quot;ResourceTypeId&quot;: 2,
    &quot;PreviousHolder&quot;: null,
    &quot;CurrentHolder&quot;: 100,
    &quot;CurrentQuantity&quot;: 1,
    &quot;Deleted&quot;: 2,
    &quot;ShelfId&quot;: -1,
    &quot;ResourceIdentifier&quot;: &quot;&quot;
}
</code></pre>
<h2 id="getting-started-with-the-integration"><a class="header" href="#getting-started-with-the-integration">Getting started with the integration</a></h2>
<p>Because the nature of the HTTP protocol and how the JSON messages are composed, testing the interface is easy without writing any software. There are a plenty of tools that allow you to easily create HTTP requests with a correct body and headers. Just use your web search engine to find one. Using this kind of manual tools is usually a good first step to make sure the server is configured properly, you have understood the specification and the request is performing as you are expecting it to work.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Communication specification between Navithor and MES.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="NavithorWebApi.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Communication specification between Navithor and MES.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="NavithorWebApi.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
